<?xml version="1.0" encoding="utf-8"?>
<!-- generator="Joomla! - Open Source Content Management" -->
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Support</title>
		<description><![CDATA[Project website for OpenSceneGraph]]></description>
		<link>https://www.openscenegraph.com/index.php/support</link>
		<lastBuildDate>Wed, 23 Aug 2023 01:12:58 +0000</lastBuildDate>
		<generator>Joomla! - Open Source Content Management</generator>
		<atom:link rel="self" type="application/rss+xml" href="https://www.openscenegraph.com/index.php/support?format=feed&amp;type=rss"/>
		<language>en-gb</language>
		<managingEditor>robert@openscenegraph.com (OpenSceneGraph)</managingEditor>
		<item>
			<title>Forum</title>
			<link>https://www.openscenegraph.com/index.php/support/2012-04-25-09-35-21</link>
			<guid isPermaLink="true">https://www.openscenegraph.com/index.php/support/2012-04-25-09-35-21</guid>
			<description><![CDATA[<h1><span class="ext-link"><span class="icon">Github hosted Discussion forum:</span></span></h1>
<p><span class="ext-link"><span class="icon">    <a href="https://github.com/openscenegraph/OpenSceneGraph/discussions">https://github.com/openscenegraph/OpenSceneGraph/discussions</a><br /></span></span></p>
<h1><span class="ext-link"><span class="icon">Old googlegroup forum, now used primarily as an archive for old discussions:</span></span></h1>
<p>    <a href="https://groups.google.com/g/osg-users">https://groups.google.com/g/osg-users</a></p>]]></description>
			<author>jtorresfabra@gmail.com (Art Tevs)</author>
			<category>Support</category>
			<pubDate>Wed, 06 Jun 2012 14:56:51 +0000</pubDate>
		</item>
		<item>
			<title>Frequently Asked Questions</title>
			<link>https://www.openscenegraph.com/index.php/support/faq</link>
			<guid isPermaLink="true">https://www.openscenegraph.com/index.php/support/faq</guid>
			<description><![CDATA[<p>Here is a list of Frequently Asked Questions.</p>
<p>More FAQs about OSG may be found at <a class="ext-link" href="http://www.3drealtimesimulation.com/osg/osg_faq_1.htm"><span class="icon">3drealtimesimulation</span></a>.</p>
<p><strong>Questions</strong></p>
<ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#General"><span class="underline">General</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IhavenoideawhatOpenSceneGraphiscanyougivemeashortdescription">I have no idea what OpenSceneGraph is, can you give me a short …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatplatformsdoestheOpenSceneGraphsupport">What platforms does the OpenSceneGraph support?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatrenderersOpenGLDirectX...doestheOpenSceneGraphsupport">What renderers (OpenGL, DirectX, ...) does the OpenSceneGraph support?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WherecanIgetmoreinfoonOpenSceneGraph">Where can I get more info on OpenSceneGraph?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatbackgroundknowledgeisrequiredusefulifIwanttoworkwiththeOpenSceneGraph">What background knowledge is required/useful if I want to work with the …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatisthedifferencebetweenOpenSceneGraphandOpenSG">What is the difference between OpenSceneGraph and OpenSG?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Documentation"><span class="underline">Documentation</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#ArethereanybooksavailableaboutOSG">Are there any books available about OSG?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Aretheretutorialsavailable">Are there tutorials available?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Whereisthereferencemanualforthe.osgfileformat">Where is the reference manual for the .osg file format?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Wiki"><span class="underline">Website</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcanIeditawikipage">How can I edit a website page?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcanIaddanewwiki-page">How can I add a new website-page?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#BuildingInstallation"><span class="underline">Building/Installation</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Aretherebinarydistributionsavailable">Are there binary distributions available?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#ImnotusingMSVisualStudio.DoesOpenSceneGraphsupportotherCompilerslikemingw32">I'm not using MS Visual Studio. Does OpenSceneGraph support other …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HelpVisualStudiowontloadtheOSGprojectfiles">Help! VisualStudio won't load the OSG project files</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#EverythingiscompiledbuttherearelinkingproblemsORwhenIrunmyOSGapplicationitcrashes">Everything is compiled, but there are linking problems <em>OR</em> when I run …</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#FunctionalityFeatures"><span class="underline">Functionality/Features</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhereisthecameraclassforOpenSceneGraph">Where is the camera class for OpenSceneGraph?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoIrenderterraininOSG">How do I render terrain in OSG?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IcantgetGLUTworkingORGLUTdoesntprovidefeatureX">I can't get GLUT working OR GLUT doesn't provide feature X</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Istheresupportforskeletalanimation">Is there support for skeletal animation?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatfileformatsaresupportedbyOpenSceneGraph">What file formats are supported by OpenSceneGraph?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#DoestheOpenSceneGraphhaveanativefileformat">Does the OpenSceneGraph have a native file format?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#AretheresamplefilesthatOSGcanreadformetoplaywith">Are there sample files that OSG can read for me to play with?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#CanIuseOpenGLcommandsdirectlyinOSG">Can I use OpenGL commands directly in OSG ?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Isitpossibletorenderascenein2D">Is it possible to render a scene in 2D?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoImovemodelsaroundoncetheyareinthescene">How do I move models around once they are in the scene?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#QtandotherGUIframeworkshaveadaptersavailableinthecontribs.IsthereoneforGnomeGTK">Qt and other GUI frameworks have adapters available in the contribs. Is …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoIinsertcommentsina.osgfileORhowdoIcommentoutablockwithina.osgfile">How do I insert comments in a .osg file? <em>OR</em> how do I comment out a …</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Development-General"><span class="underline">Development - General</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Whataretheseref_ptrthingsIseeeverywhereinthecode">What are these ref_ptr&lt;&gt; things I see everywhere in the code?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhydonttheOSGheaderfileshavea.hor.hppextension">Why don't the OSG header files have a .h or .hpp extension?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatcanIdotomakemyeditorrecognizeOSGheadersasCfiles">What can I do to make my editor recognize OSG headers as C++ files?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoIincreasetheverbosityofmyprogramfordebuggingpurposes">How do I increase the verbosity of my program for debugging purposes?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#CanIgetCVSorSubversionaccesssoIcankeepuptodatewiththelatestdevelopmentsources">Can I get CVS or Subversion access so I can keep up to date with the …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IdontlikeusingC.AretherewrappersavailableforotherlanguageslikeLua">I don't like using C++. Are there wrappers available for other languages, …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcanIcontributetotheOpenSceneGraph">How can I contribute to the OpenSceneGraph?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Development-Windows-specific"><span class="underline">Development - Windows-specific</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhenItrytosaveanodetofileOSGcrashes.ImusingWindows.ORtheSTLisplayingupformeinVisualStudio2003.NET7.">When I try to save a node to file, OSG crashes. I'm using Windows. <em>OR</em> …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Igetalotofwarningsalongthelinesof...warningC4541:dynamic_castusedonpolymorphictypeclassosg::ObjectwithGR-">I get a lot of warnings along the lines of... `warning C4541: …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoIembedanOSGviewerina.NETcontrol">How do I embed an OSG viewer in a .NET control?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Problems"><span class="underline">Problems</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcomethemountaininthehanggliderdemoiscompletelywhitewithnoshadingORmytexturedobjectsdontshowtextures">How come the mountain in the hang glider demo is completely white with no …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhydoesOSGseemtoignoremynearfarclippingplanes">Why does OSG seem to ignore my near/far clipping planes?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IfIletOpenSceneGraphcalculatemynearandfarclippingplaneshowdoIgetthecomputedvalues">If I let OpenSceneGraph calculate my near and far clipping planes, how do …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IamtryingtorunOpenSceneGraphexampleprogramsunderMacOSXbutnowindowappearsWhatcanIdo">I am trying to run OpenSceneGraph example programs under Mac OS/X, but no …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HeythisparticlesystemiscoolbutlooksstrangewhenIpositionitinmyscene.Whatsup">Hey, this particle system is cool, but looks strange when I position it in …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#ImhavingaproblemusingaPrimitiveSettorepresentasinglepointORmygeometryseemstodissappearasitgetsveryfaraway.Whatswrong">I'm having a problem using a PrimitiveSet to represent a single point …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhenIapplyascalingfactorinaosg::MatrixTransformmymodelsaredisplayedwashedoutordark.Whatsup">When I apply a scaling factor in a …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#CanIuseOSGwithinanexistingrenderer">Can I use OSG within an existing renderer?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Ihavederivedaclassfromosg::DrawablebutitsdrawImplementationmethodiscalledonlyonce">I have derived a class from osg::Drawable, but its drawImplementation() …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcanIgettheBoundingBoxforaloadedNodeor3Dmodel">How can I get the BoundingBox for a loaded Node or 3D model?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhenusingmultipleviewersandormultiplerenderingwindowsIgetweirdresultsandmytexturesdontdisplaycorrectly">When using multiple viewers and/or multiple rendering windows, I get weird …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#IhavetwoormoreviewssharingascenegraphbutIwanttolimitwhatpartofthescenegraphisshowninoneormoreoftheviews.HowdoIdothat">I have two or more views sharing a scene graph, but I want to limit what …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Onpreviousquestion-Yeahbut....itdidntwork">On previous question - Yeah but.... it didn't work!</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowdoIcaptureascreengrab">How do I capture a screengrab?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhydoesmyframeratedropwhenrenderingpointspritestoanFBOpbuffer">Why does my framerate drop when rendering point sprites to an FBO/pbuffer?</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhydoesmygeometryrendersopaquewhileIhavetransparentcolorsandormaterialsattachedtoit">Why does my geometry renders opaque while I have transparent colors and/or …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Iwroteascenecontainingaparticlesystemtoa.ivefilebutsomenodesdrawablesseemtobemissing">I wrote a scene containing a particle system to a .ive file, but some …</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#OlderversionsofOpenSceneGraph"><span class="underline">Older versions of OpenSceneGraph</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#DuringcompileIgeterrorsaboutProducer:Nosuchfileordirectory.Why-happenswithdailybuildsand0.9.4-2official.">During compile I get errors about Producer/*: No such file or directory. …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#CanIuseOSGwithoutProducerandorwithalreadycreatedMFCorWxWindowwindows">Can I use OSG without Producer, and/or with already created MFC or …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#HowcanIchangetheProducericonatrun-time">How can I change the Producer icon at run-time?</a></li>
</ol></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#MathMatricesVectorsQuaternions"><span class="underline">Math, Matrices, Vectors, Quaternions</span></a><ol>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#WhatmultiplicationorderdothematrixvectorandquaternionclassesinOSGuse">What multiplication order do the matrix, vector and quaternion classes in …</a></li>
<li><a href="https://www.openscenegraph.com/index.php/support/faq#Ihaveanotherquestionnotansweredhere">I have another question not answered here…</a></li>
</ol></li>
</ol><hr />
<h2 id="General"><span class="underline">General</span></h2>
<h3 id="IhavenoideawhatOpenSceneGraphiscanyougivemeashortdescription">I have no idea what OpenSceneGraph is, can you give me a short description?</h3>
<p>It is a 3D graphics library for C++ programmers. A <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/SceneGraph">SceneGraph</a> library allows you to represent objects in a scene with a graph data structure which allows you to group related objects that share some properties together so you can specify common properties for the whole group in one place. OpenSceneGraph can then be used to automatically manage things like the level of detail necessary to draw the scene faithfully but without unnecessary detail which slows down the graphics hardware drawing the scene.</p>
<h3 id="WhatplatformsdoestheOpenSceneGraphsupport">What platforms does the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> support?</h3>
<p>Microsoft Windows (2000, XP, Vista), GNU/Linux and MacOS/X are currently the best supported ones. Your mileage may vary on Solaris, IRIX, ...</p>
<h3 id="WhatrenderersOpenGLDirectX...doestheOpenSceneGraphsupport">What renderers (OpenGL, DirectX, ...) does the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> support?</h3>
<p><a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> only supports rendering through OpenGL. In fact, a lot of the classes in the library are merely object-oriented versions of OpenGL concepts.</p>
<h3 id="WherecanIgetmoreinfoonOpenSceneGraph">Where can I get more info on OpenSceneGraph?</h3>
<p>Try these:</p>
<ul>
<li>Look at the official homepage at <a class="ext-link" href="http://www.openscenegraph.org/"><span class="icon">http://www.openscenegraph.org/</span></a> (this FAQ is located there)</li>
<li>Join the mailing lists, specifically "osg-users". See <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/MailingLists">MailingLists</a> for more information.</li>
</ul>
<h3 id="WhatbackgroundknowledgeisrequiredusefulifIwanttoworkwiththeOpenSceneGraph">What background knowledge is required/useful if I want to work with the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a>?</h3>
<p>As the OSG is written in C++ you'll need to be able to program in that language.</p>
<p>One way to look at the OSG is to treat it as an object-oriented wrapper around OpenGL. This is actually a far too simplistic view, as the OSG does a lot more than just issue OpenGL commands for you. However, it does indicate the need to have to knowledge of how OpenGL works in order to use the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> in a sensible way. Anything you therefore know about OpenGL will be of value when using the OSG. A lot of questions from people just starting out with <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> are actually questions about the basics of OpenGL.</p>
<p>Other topics that are of interest to newcomers to OSG are:</p>
<ul>
<li>Memory management through reference counting. See the relevant question below, under "Development General".</li>
<li>The use of design patterns, such as Visitor and Observer.</li>
</ul>
<p>For those already familiar with (real-time) 3D rendering, but not OSG, some features turn out to be common pitfalls:</p>
<ul>
<li>By default, the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> manages the clipping planes automatically, to fully use the precision of the Z-buffer. This means that any attempts to set near/far clip values by hand fail, as the values will be overridden.</li>
<li>By default, the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> uses small-feature culling, meaning that when an object becomes very small in the current view (roughly a few pixels) it will be culled.</li>
<li>The matrices in OSG assume a *pre-multiply* order for vectors, e.g. v' = v * M1 * M2. This is noticeably different from most descriptions in Computer Graphics text books.</li>
</ul>
<h3 id="WhatisthedifferencebetweenOpenSceneGraphandOpenSG">What is the difference between <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> and OpenSG?</h3>
<p>They are different scenegraph libraries, although OpenSG also seems to use an "OSG" prefix in their code, which might be source of some confusion. Differences in goals and capabilities between the two are:</p>
<ul>
<li><a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> has support for reading many 3D and image file formats, while OpenSG supports far fewer</li>
<li><a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> is more actively developed (at least, judging by the number of releases of OpenSG) and probably has a more active user community</li>
<li>OpenSG has better support for performing multi-threaded scene graph operations, as this was one of the original design goals</li>
<li>OpenSG has better support for clustered rendering, although building your own support for <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> isn't terribly difficult</li>
</ul>
<p>The OpenSG website also provides a comparison between the two: <a class="ext-link" href="http://opensg.vrsource.org/trac/wiki/OSGComparison"><span class="icon">http://opensg.vrsource.org/trac/wiki/OSGComparison</span></a></p>
<h2 id="Documentation"><span class="underline">Documentation</span></h2>
<h3 id="ArethereanybooksavailableaboutOSG">Are there any books available about OSG?</h3>
<p>Yes, see <a class="ext-link" href="http://www.osgbooks.com"><span class="icon">http://www.osgbooks.com</span></a>.</p>
<p>The books are constantly under revision to keep up with changes in OSG. Purchasing the books helps fund this effort. More OSG books, not just revisions, are planned for the future.</p>
<h3 id="Aretheretutorialsavailable">Are there tutorials available?</h3>
<p>Yes, see <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/Tutorials">here</a>.</p>
<h3 id="Whereisthereferencemanualforthe.osgfileformat">Where is the reference manual for the .osg file format?</h3>
<p>There is no documentation (yet) for the scene description language. The OSG source code is the definite reference on the format (<a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/UseTheSourceLuke%21">UseTheSourceLuke!</a>), specifically the files under the src/osgPlugins/osg directory in the source distribution.</p>
<p>For anyone with knowledge of OpenGL and the OSG classes the .osg format should be fairly understandable, though.</p>
<h2 id="Wiki"><span class="underline">Website</span></h2>
<h3 id="HowcanIeditawikipage">How can I edit a website page?</h3>
<p>This website requires a login (See <a href="https://www.openscenegraph.com/index.php/login">Login</a>). Note that some pages can only be edited by the administrator. This includes the main page, project news and all pages in the Downloads section.</p>
<h3 id="HowcanIaddanewwiki-page">How can I add a new website-page?</h3>
<p>One can add a new page by first creating a new article. This can be done in the <a href="https://www.openscenegraph.com/index.php/login/submit-article">submit article</a> menu key. You should follow the <a href="https://www.openscenegraph.com/index.php/login/author-guidelines">Author guidelines</a>.</p>
<h2 id="BuildingInstallation"><span class="underline">Building/Installation</span></h2>
<h3 id="Aretherebinarydistributionsavailable">Are there binary distributions available?</h3>
<p>Yes, but only for Windows. For Linux you will have to build OSG yourself or check if your Linux distribution has packages for OSG. On Mac OS/X you will have to build OSG yourself.</p>
<h3 id="ImnotusingMSVisualStudio.DoesOpenSceneGraphsupportotherCompilerslikemingw32">I'm not using MS Visual Studio. Does OpenSceneGraph support other Compilers, like mingw32?</h3>
<p>There is a build in the distribution for Cygwin and Mingw, but they are primarily supported by folks on the osg-users mailing list.</p>
<h3 id="HelpVisualStudiowontloadtheOSGprojectfiles">Help! VisualStudio won't load the OSG project files</h3>
<p>If you're getting the message "This makefile was not generated by Developer Studio", then the .dsp files were somehow saved with Unix style endlines. You can fix this any number of ways. Suggestions include: Open and Save the .dsp in Wordpad, use the cygwin utility unix2dos, or open the daily tarball in Winzip (after checking "TAR File Smart CR/LF conversion" in Options-&gt;Configuration-&gt;Miscellaneous).</p>
<h3 id="EverythingiscompiledbuttherearelinkingproblemsORwhenIrunmyOSGapplicationitcrashes">Everything is compiled, but there are linking problems <em>OR</em> when I run my OSG application it crashes</h3>
<p>On Linux, try a "make clean", then "make". On Windows do a clean build. This problem is sometimes caused by a change in the api or a project setting/library has been changed. Doing a clean recompile of everything from scratch can fix the problem.</p>
<p>Linking errors are also often caused by omitting libraries in Visual Studio. Go to Project-&gt;Settings and under the Link tab check to see that for every .dll you want to use, the equivalent .lib file is listed under <tt>"Object/library Modules"</tt> For example, in order to link to the core debug library osgd.dll, osgd.lib should be listed. The search path for these libraries is under Tools-&gt;Options-&gt;Directories.</p>
<p>On Linux you may need to add an entry to <tt>/etc/ld.so.conf.d/</tt> and run <tt>ldconfig</tt>, or set your LD_LIBRARY_PATH to include the location where you installed the OSG libraries.</p>
<h2 id="FunctionalityFeatures"><span class="underline">Functionality/Features</span></h2>
<h3 id="WhereisthecameraclassforOpenSceneGraph">Where is the camera class for OpenSceneGraph?</h3>
<p>The core OpenSceneGraph library provides an osg::Camera class that provides various controls capturing pictures of the scene, be it as part of viewer or as part of the scene graph when doing render to texture effects such shadows, reflections etc. The osg::Camera class is defined in <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a>/include/osg/Camera.</p>
<h3 id="HowdoIrenderterraininOSG">How do I render terrain in OSG?</h3>
<p>The OpenSceneGraph now has the <a class="ext-link" href="https://www.openscenegraph.com/documentation/OpenSceneGraphReferenceDocs/a02213.html"><span class="icon">osgTerrain</span></a> <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/NodeKit">NodeKit</a> for rendering terrain, and multi-threaded paging system that can be used independently or together for rendering of large terrain databases. The companion project <a class="ext-link" href="https://www.openscenegraph.com/projects/VirtualPlanetBuilder"><span class="icon">VirtualPlanetBuilder</span></a> can be used to build large scale paged databases, including Terra-byte scale whole earth geospatial databases, outputting directly in native OpenSceneGraph binary formats.</p>
<p>If you wish to use a continuous level of details approach to terrain see Demeter (<a class="ext-link" href="http://www.terrainengine.com/"><span class="icon">http://www.terrainengine.com/</span></a>) and the Virtual Terrain Project (<a class="ext-link" href="http://www.vterrain.org/"><span class="icon">http://www.vterrain.org/</span></a>) for detailed open source approaches.</p>
<h3 id="IcantgetGLUTworkingORGLUTdoesntprovidefeatureX">I can't get GLUT working OR GLUT doesn't provide feature X</h3>
<p>You're better off using wxWidgets (<a class="ext-link" href="http://www.wxwidgets.org/"><span class="icon">http://www.wxwidgets.org/</span></a>) or Simple Direct Media Layer (<a class="ext-link" href="http://www.libsdl.org/"><span class="icon">http://www.libsdl.org/</span></a>). Both are OpenSource and provide the <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/OpenGL">OpenGL</a> renderpanes for OSG to work on.</p>
<h3 id="Istheresupportforskeletalanimation">Is there support for skeletal animation?</h3>
<p>Check out osgCal which integrates the OSG with Cal3D, see <a class="ext-link" href="http://osgcal.sourceforge.net/"><span class="icon">http://osgcal.sourceforge.net/</span></a></p>
<h3 id="WhatfileformatsaresupportedbyOpenSceneGraph">What file formats are supported by OpenSceneGraph?</h3>
<p>File input and output is supported through the plugins in the src/osgPlugins directory of the source distribution. See <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/UserGuides/Plugins">Support/UserGuides/Plugins</a> for an overview of available plugins, the file formats they support and the read/write capabilities of the plugins.</p>
<p><strong>Note that some of the plugins depend on external libraries to be installed! </strong> A very frequent question from people just starting out using the OSG is why a certain plugin (such as for reading JPEG images) is not available. Most of the time missing plugins are caused by not having the correct information on dependencies during building of the OSG. The CMake build tool needs to know the location of plugin dependency headers and libraries, such as libjpeg, libtiff, GDAL, etc. Especially on Windows, where libraries do not have standard locations in the file system.</p>
<p>Some additional file formats are also supported by the Virtual Terrain Project (<a class="ext-link" href="http://www.vterrain.org/"><span class="icon">http://www.vterrain.org/</span></a>). (Wiki editing note: what does this remark have to do with <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a>?)</p>
<h3 id="DoestheOpenSceneGraphhaveanativefileformat">Does the <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> have a native file format?</h3>
<p>From <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a>-3.0 onwards we have new native file formats based on generic serializers that are extensible and support forward/backward compatibility, there is a .osgt ascii text file format, .osgx xml format and .osgb binary format. The extensible of the new formats enables end user application to add serializer wrappers for their own classes enabling them to extend the formats for their own application needs.</p>
<p>Prior to <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a>-3.0 there were two native file formats, .osg for ascii, and .ive for binary. The .osg format is extensible and flexible but is slower and less compact than the .ive binary format, but the later suffers from not being forwards compatible and is not extensible so is only suitable for scene graphs that aren't extended by end user applications.</p>
<p><strong>(Wiki editing note: is this correct about the .ive format?</strong>)</p>
<h3 id="AretheresamplefilesthatOSGcanreadformetoplaywith">Are there sample files that OSG can read for me to play with?</h3>
<p>Yes, there is a sample dataset. Actually, some of the examples included in the OSG distribution depend on having them installed. See <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Downloads/SampleDatasets">Downloads/SampleDatasets</a>.</p>
<h3 id="CanIuseOpenGLcommandsdirectlyinOSG">Can I use OpenGL commands directly in OSG ?</h3>
<p>Yes. See, for example, the osgteapot example included in the source distribution.</p>
<h3 id="Isitpossibletorenderascenein2D">Is it possible to render a scene in 2D?</h3>
<p>For a code sample have a look at examples/osghud/osghud.cpp. This example creates a subgraph for viewing a 3D scene, and a second subgraph which sits along side it with <tt>osg::Projection</tt> &amp; <tt>osg::MatrixTransform</tt> nodes to set up the orthographic views for drawing the 2D scene over the 3D one.</p>
<h3 id="HowdoImovemodelsaroundoncetheyareinthescene">How do I move models around once they are in the scene?</h3>
<p>Add the Node in question to an osg::Transform (as a child). This allows you to move your model around the scene by changing the Transform. Take a look at the osgreflect example, which uses an osg::<a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/MatrixTransform" rel="nofollow">MatrixTransform?</a> to create a mirror image of a model.</p>
<h3 id="QtandotherGUIframeworkshaveadaptersavailableinthecontribs.IsthereoneforGnomeGTK">Qt and other GUI frameworks have adapters available in the contribs. Is there one for Gnome/GTK+?</h3>
<p>Take a look into the OSGEdit sources (<a class="ext-link" href="http://www.sf.net/projects/osgedit"><span class="icon">http://www.sf.net/projects/osgedit</span></a>). It contains a GTK Event Adaptor (a C++ class implemented within the OSGEdit application source code that adapts events from GTK+ to the osgGA generic event framework).</p>
<h3 id="HowdoIinsertcommentsina.osgfileORhowdoIcommentoutablockwithina.osgfile">How do I insert comments in a .osg file? <em>OR</em> how do I comment out a block within a .osg file?</h3>
<p>Due to the nature of the .osg parser, which allows extensions, one can simply insert a comment in a .osg file by doing this:</p>
<pre class="wiki">Comment {
        This file is proprietary and you shoudn't be reading it.
        Please close your editor now!
        -Microsoft
}
</pre>
<p>You can also use it to comment out a section of a file:</p>
<pre class="wiki">Comment {
        TexGen {
                UniqueID TexGen_4
                DataVariance? STATIC
                mode SPHERE_MAP=]
        }
}
</pre>
<h2 id="Development-General"><span class="underline">Development - General</span></h2>
<h3 id="Whataretheseref_ptrthingsIseeeverywhereinthecode">What are these ref_ptr&lt;&gt; things I see everywhere in the code?</h3>
<p>The OSG uses <a class="ext-link" href="http://en.wikipedia.org/wiki/Reference_counting"><span class="icon">reference counting</span></a> as its basic memory management strategy. All node classes in the scenegraph (subclasses of osg::Node) and a number of other classes as well are derived from osg::Referenced, which holds a reference count (an integer). Instead of directly using pointers to instances osg::ref_ptr&lt;&gt;'s are used, which now how to update the reference count of an osg::Referenced instance based on how many osg::ref_ptr&lt;&gt; point to the instance. The instance is kept alive as long changes in its reference count don't make the count go to zero, meaning that at least one osg::ref_ptr&lt;&gt; is still pointing to the instance. Only when the last osg::ref_ptr&lt;&gt; is removed will the reference count reach zero and will the instance be deleted.</p>
<p>To use osg::ref_ptr&lt;&gt; you basically write</p>
<pre class="wiki">osg::ref_ptr&lt;osg::Group&gt; group = new osg::Group();
// The osg::ref_ptr instance will manage the pointer to the osg::Group
</pre>
<p>instead of</p>
<pre class="wiki">osg::Group*  group = new osg::Group();
</pre>
<p>Please see <a class="ext-link" href="http://andesengineering.com/OSG_ProducerArticles/RefPointers/RefPointers.html"><span class="icon">http://andesengineering.com/OSG_ProducerArticles/RefPointers/RefPointers.html</span></a> for an extensive overview of using ref_ptr's and their particulars.</p>
<h3 id="WhydonttheOSGheaderfileshavea.hor.hppextension">Why don't the OSG header files have a .h or .hpp extension?</h3>
<p>The short answer is that this is the Standard C++ way of naming headers. For more information see these posts on the osg-users mailing list:</p>
<blockquote>
<p><a class="ext-link" href="http://thread.gmane.org/gmane.comp.graphics.openscenegraph.user/26136"><span class="icon">http://thread.gmane.org/gmane.comp.graphics.openscenegraph.user/26136</span></a></p>
</blockquote>
<blockquote>
<p><a class="ext-link" href="http://osgcvs.no-ip.com/osgarchiver/archives/July2003/0575.html"><span class="icon">http://osgcvs.no-ip.com/osgarchiver/archives/July2003/0575.html</span></a></p>
</blockquote>
<h3 id="WhatcanIdotomakemyeditorrecognizeOSGheadersasCfiles">What can I do to make my editor recognize OSG headers as C++ files?</h3>
<p>The means depends upon your editor and platform:</p>
<ul>
<li>VisualStudio: The OSG source includes a file called VisualStudio_Syntax_Highlighting.txt in the <tt>OSG/PlatformSpecifics/Windows</tt> directory. Read the instructions there for how to use it.</li>
<li>VIm: can be made to recognize the mode string, "-*-c++-*-", at the beginning of each header file. Start vim. type ":set runtimepath" to see where vim looks for scripts. You can make a file in any of these directories (for example, ~/.vim on Linux). Make the directory if it doesn't already exist, and make a file called scripts.vim in that directory. Here are the contents of that file:
<pre class="wiki">if getline(1) =~ '-*-c++-*-'
set filetype=cpp
endif
</pre>
</li>
</ul>
<ul>
<li>Emacs: should recognize the mode string right out of the box.</li>
<li>Nedit: can be told to treat files as C++ based on their location in an include directory</li>
<li>Dev-C++: In <tt>Tools/Editor Options/General</tt> there is an option "Use Syntax Highlighting". In the box below add <tt>;;</tt>. The final line will look like this: <tt>c;cpp;h;hpp;;</tt>. This will enable syntax highlighting in all files without extension.</li>
</ul>
<h3 id="HowdoIincreasetheverbosityofmyprogramfordebuggingpurposes">How do I increase the verbosity of my program for debugging purposes?</h3>
<p>You can use the OSG_NOTIFY_LEVEL environment variable to specify a certain level of debug info. Here are the levels, from low to high (taken from include/osg/Notify):</p>
<pre class="wiki">ALWAYS
FATAL
WARN
NOTICE
INFO
DEBUG_INFO
DEBUG_FP
</pre>
<p>The default level is NOTICE. Setting OSG_NOTIFY_LEVEL to, for example, INFO will generate more output.</p>
<h3 id="CanIgetCVSorSubversionaccesssoIcankeepuptodatewiththelatestdevelopmentsources">Can I get CVS or Subversion access so I can keep up to date with the latest development sources?</h3>
<p>Yes. The OSG sources are available through Subversion. See the documentation on how to set up <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Downloads/SVN">SVN</a> access to the development version of the OpenSceneGraph.</p>
<h3 id="IdontlikeusingC.AretherewrappersavailableforotherlanguageslikeLua">I don't like using C++. Are there wrappers available for other languages, like Lua?</h3>
<p>Yes, see <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Community/LanguageWrappers">Community/LanguageWrappers</a>. Note that none of these wrappers are part of the official distribution and so are maintained by external parties. They also differ in maturity.</p>
<h3 id="HowcanIcontributetotheOpenSceneGraph">How can I contribute to the OpenSceneGraph?</h3>
<p>Send changes as <strong>whole</strong> files to the <tt>osg-submissions</tt> mailing list along with an explanation of the changes. <em>Do not send diffs or copy and paste extracts in emails, these will be simply disgarded, as they are too unreliable for review and merging</em>. See <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/MailingLists/SubmissionsProtocol">MailingLists/SubmissionsProtocol</a> for all the details.</p>
<p>Alternatively you can post changes or submissions under the Community section of this website. This is particularly appropriate for complete new functionality such as <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/NodeKit">NodeKits</a> and plugins. After uploading your things to the website inform the osg-users or osg-submissions list of your entry.</p>
<h2 id="Development-Windows-specific"><span class="underline">Development - Windows-specific</span></h2>
<h3 id="WhenItrytosaveanodetofileOSGcrashes.ImusingWindows.ORtheSTLisplayingupformeinVisualStudio2003.NET7.">When I try to save a node to file, OSG crashes. I'm using Windows. <em>OR</em> the STL is playing up for me in VisualStudio (2003/.NET 7).</h3>
<p>This is a known problem with the Microsoft implementation of STL. The current solution is to use STLport (<a class="ext-link" href="http://www.stlport.org/"><span class="icon">http://www.stlport.org/</span></a>) and make sure you have the latest service pack for VS. If problems persist, make sure you clean your original OpenSceneGraph build and recompile from scratch. The next version of VC++ (dot net, version 7) has a fixed STL implementation, so you won't need STLport after that.</p>
<h3 id="Igetalotofwarningsalongthelinesof...warningC4541:dynamic_castusedonpolymorphictypeclassosg::ObjectwithGR-">I get a lot of warnings along the lines of... <tt>warning C4541: 'dynamic_cast' used on polymorphic type 'class osg::Object' with /GR-</tt></h3>
<p>You need to enable run-time type identification. For VisualStudio, you can put /GR in the project options. Or find this option in the development environment, click Settings on the Project menu. Then click the C/C++ tab, and click C++ Language in the Category box. There's a checkbox right there for "Enable RTTI".</p>
<h3 id="HowdoIembedanOSGviewerina.NETcontrol">How do I embed an OSG viewer in a .NET control?</h3>
<pre class="wiki">osgViewer::Viewer* viewer = new osgViewer::Viewer();

HWND hwnd = (HWND)control-&gt;Handle.ToPointer();

osg::ref_ptr&lt;osg::GraphicsContext::Traits&gt; traits = new osg::GraphicsContext::Traits();
traits-&gt;inheritedWindowData = new osgViewer::GraphicsWindowWin32::WindowData( hwnd );
traits-&gt;setInheritedWindowPixelFormat = true;
traits-&gt;doubleBuffer = true;
traits-&gt;windowDecoration = true;
traits-&gt;sharedContext = NULL;
traits-&gt;supportsResize = true;

RECT rect;
::GetWindowRect( hwnd, &amp;rect );
traits-&gt;x = 0;
traits-&gt;y = 0;
traits-&gt;width = rect.right - rect.left;
traits-&gt;height = rect.bottom - rect.top;

osg::ref_ptr&lt;osg::GraphicsContext&gt; gc = osg::GraphicsContext::createGraphicsContext( traits.get() );
viewer-&gt;getCamera()-&gt;setGraphicsContext( gc.get() );
viewer-&gt;getCamera()-&gt;setViewport( new osg::Viewport( 0, 0, traits-&gt;width, traits-&gt;height ) );
viewer-&gt;getCamera()-&gt;setProjectionMatrixAsPerspective(30.0f, static_cast&lt;double&gt;(traits-&gt;width)/static_cast&lt;double&gt;(traits-&gt;height), 1.0f, 10000.0f);
</pre>
<h2 id="Problems"><span class="underline">Problems</span></h2>
<h3 id="HowcomethemountaininthehanggliderdemoiscompletelywhitewithnoshadingORmytexturedobjectsdontshowtextures">How come the mountain in the hang glider demo is completely white with no shading? <em>OR</em> my textured objects don't show textures</h3>
<p>There are two likely causes:</p>
<ol>
<li>The plugin to read the necessary image file format can't be found or wasn't compiled. For the hang glider demo this is the .rgb file format (osgdb_rgb). You need to compile the rgb plugin in this case.</li>
</ol><ol start="2">
<li>The program can't find the data files it requires (textures). Make sure that you have downloaded the demo datafiles archive and extracted them. Make sure that the environment variables in the INSTALL file are set correctly, as these tell the viewer where to find the data. As of this writing they are OSGHOME, OSGDATA and OSG_FILE_PATH. To set the environment variables in Windows go to control panel-&gt;system-&gt;advanced-&gt;environment variables.</li>
</ol>
<h3 id="WhydoesOSGseemtoignoremynearfarclippingplanes">Why does OSG seem to ignore my near/far clipping planes?</h3>
<p>When using osgViewer::Viewer (or <tt>osgUtil::SceneView</tt>), near and far clipping planes are recomputed on-the-fly based on the current eye point and viewable scene. This is by design to optimize the near/far range of the depth buffer, which might otherwise result in "z-fighting" artifacts if near and far are set to unreasonably small or large values.</p>
<p>You can override this behavior by calling:</p>
<pre class="wiki">viewe.getCamera()&gt;setComputeNearFarMode(osgUtil::CullVisitor::DO_NOT_COMPUTE_NEAR_FAR)
</pre>
<p>For an insightful example of this feature check out the osgthirdpersonview example (which was added in version 2.4). It shows one window containing a normal scene and a second window showing the camera and clipping planes used in the first window. By manipulating the view in the first window you can see the changing clipping planes in the second one.</p>
<h3 id="IfIletOpenSceneGraphcalculatemynearandfarclippingplaneshowdoIgetthecomputedvalues">If I let OpenSceneGraph calculate my near and far clipping planes, how do I get the computed values?</h3>
<p>This info is available through the cull visitor (class osgUtil::<a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/CullVisitor" rel="nofollow">CullVisitor?</a>).</p>
<p>When using an osgUtil::<a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/SceneView" rel="nofollow">SceneView?</a> it would be</p>
<pre class="wiki">sceneView-&gt;getCullVisitor()-&gt;getCalculatedNearPlane();
sceneView-&gt;getCullVisitor()-&gt;getCalculatedFarPlane();
</pre>
<p>When using osgViewer::Viewer you can get its osg::Camera (which is a subclass osg <a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/CullVisitor" rel="nofollow">CullVisitor?</a>) with</p>
<pre class="wiki">viewer-&gt;getCamera()
</pre>
<h3 id="IamtryingtorunOpenSceneGraphexampleprogramsunderMacOSXbutnowindowappearsWhatcanIdo">I am trying to run <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a> example programs under Mac OS/X, but no window appears! What can I do?</h3>
<p>You need to set the following environment variable before launching the program:</p>
<ul>
<li>tcsh:
<pre class="wiki">setenv DYLD_BIND_AT_LAUNCH 1
</pre>
</li>
</ul>
<ul>
<li>bash:
<pre class="wiki">export DYLD_BIND_AT_LAUNCH=1
</pre>
</li>
</ul>
<p>If you get dyld "can't open library" errors when running OSG programs under OSX, you may also need to set your DYLD_LIBRARY_PATH environment variable to point to the OSG libraries and/or plugins.</p>
<h3 id="HeythisparticlesystemiscoolbutlooksstrangewhenIpositionitinmyscene.Whatsup">Hey, this particle system is cool, but looks strange when I position it in my scene. What's up?</h3>
<p>You are probably rotating both the particle systems and the particle emitters. The tranform above the particle system(s) should match your world's (absolute) coordinate frame, or the reference frame that "contains" the particles (for example, an airplane or a car). To transform a particle system inside this reference frame you should transform only the emitters, not the ParticleSystem drawables. If you apply a transform above "fountain.osg" you actually apply a <tt>translation/rotation</tt> to both emitters and particle systems; to get a correct behavior you should traverse the scene graph and avoid applying the transform to any geodes containing ParticleSystem drawables. (answer courtesy <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Community/People/MarcoJez">Marco Jez</a>)</p>
<p>There is a diagram, description and source code to do this here: <a class="ext-link" href="http://faculty.nps.edu/jasullivan/osgTutorials/osgParticleHelper.htm"><span class="icon">http://faculty.nps.edu/jasullivan/osgTutorials/osgParticleHelper.htm</span></a></p>
<h3 id="ImhavingaproblemusingaPrimitiveSettorepresentasinglepointORmygeometryseemstodissappearasitgetsveryfaraway.Whatswrong">I'm having a problem using a PrimitiveSet to represent a single point <em>OR</em> my geometry seems to dissappear as it gets very far away. What's wrong?</h3>
<p>By default the OSG uses small feature culling to cull out objects that occupy less than a predetermined screen size. This is a valuable feature for models with many details which do not contribute to the visual quality of the model when viewed from a distance. You can completely disable small feature culling by changing the <tt>cullingMode</tt> on the viewers <tt>osg::Camera</tt> with:</p>
<pre class="wiki">osg::CullStack::CullingMode cullingMode = viewer.getCamera()-&gt;getCullingMode();
cullingMode &amp;= ~(osg::CullStack::SMALL_FEATURE_CULLING);
viewer.getCamera()-&gt;setCullingMode( cullingMode );
</pre>
<p>You can also control the size of the screen space that is used to cull small features with</p>
<pre class="wiki">viewer.getCamera()-&gt;setSmallFeatureCullingPixelSize( minimumSize );
</pre>
<h3 id="WhenIapplyascalingfactorinaosg::MatrixTransformmymodelsaredisplayedwashedoutordark.Whatsup">When I apply a scaling factor in a <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/Maths/MatrixTransformations">osg::MatrixTransform</a>, my models are displayed washed out or dark. What's up?</h3>
<p>The model's normals are probably scaled along with its vertices. To keep normals normalized, set the OpenGL attribute GL_RESCALE_NORMALS on the appropriate stateset:</p>
<pre class="wiki">stateSet-&gt;setMode( GL_RESCALE_NORMAL, osg::StateAttribute::ON );
</pre>
<h3 id="CanIuseOSGwithinanexistingrenderer">Can I use OSG within an existing renderer?</h3>
<p><strong>(Wiki editing note: Split off in separate page)</strong></p>
<p>It takes a little work, but it is entirely possible to use OSG within a pre-existing rendering system.</p>
<p>First of all, the central object you should know about are osgViewer::Viewer coupled with <tt>osgViewer::GraphicsWindowEmbedded</tt>. These two classes will manage the OSG specific rendering tasks. The osgviewerSDL and osgviewerGLUT example illustrate use of the Viewer and <a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/GraphicsWindowEmbedded" rel="nofollow">GraphicsWindowEmbedded?</a>.</p>
<p>The setup of these two objects will look something like this:</p>
<pre class="wiki">viewer.getCamera()-&gt;setComputeNearFarMode( osgUtil::CullVisitor::DO_NOT_COMPUTE_NEAR_FAR );
viewer.setSceneData( rootNode );
</pre>
<p>Note, just replace rootNode with your actual root node for you OSG models.</p>
<p>NOTE: The call to <tt>setComputeNearFarMode</tt> is very important. If you don't do this, then OSG will use a different near and far plane when rendering its objects, and they will have different values in the depth-buffer than the rest of your scene. This can lead to very odd effects.</p>
<p>If you want to use lighting that is different from what the rest of your renderer is using, you might want to call either:</p>
<pre class="wiki">viewer.setLightingMode( osg::View::SKY_LIGHT );
</pre>
<p>or</p>
<pre class="wiki">viewer.setLightingMode( osg::View::HEADLIGHT );
</pre>
<p>That's basically it for setup.</p>
<p>Now you just need to call !Viewer for rendering, and this requires a little extra work.</p>
<p>First off, it is recommended that you call <tt>glPushAttribs</tt>( GL_ALL_ATTRIB_BITS ) and <tt>glPushMatrix</tt> for each of the modelview, projection and texture matrices before calling your other <a class="wiki" href="https://www.openscenegraph.com/projects/osg/wiki/Support/KnowledgeBase/OpenGL">OpenGL</a> code, and the corresponding pop fuctions afterwards, and do the same with OSG. This prevents OSG and your other OpenGL code from interfering with each other. For example:</p>
<pre class="wiki">glPushAttrib=]( GL_ALL_ATTRIB_BITS );
glMatrixMode=](GL_PROJECTION);
glPushMatrix();
glMatrixMode(GL_TEXTURE);
glPushMatrix();
glMatrixMode(GL_MODELVIEW);
glPushMatrix();

your code here...


glMatrixMode(GL_TEXTURE);
glPopMatrix();
glMatrixMode(GL_PROJECTION);
glPopMatrix();
glMatrixMode(GL_MODELVIEW);
glPopMatrix();
glPopAttrib();
</pre>
<p>The next important thing for using !Viewer is that you need to tell it about your pre-existing viewport and projection and modelview matrices. The code to do that looks like this:</p>
<pre class="wiki">GLint viewParams[4];
glGetIntegerv( GL_VIEWPORT, viewParams );
viewer.getCamera()-&gt;setViewport(viewParams[0], viewParams[1], viewParams[2], viewParams[3]);

GLdouble glMat[16];

glGetDoublev( GL_PROJECTION_MATRIX, glMat );

viewer.setProjectionMatrix( osg::Matrix(glMat) );

glGetDoublev( GL_MODELVIEW_MATRIX, glMat );

viewer.setViewMatrix( osg::Matrix(glMat) );
</pre>
<p>Lastly, you need to make the actual calls to the !Viewer object:</p>
<pre class="wiki">viewer.frame();
</pre>
<p>If you do all of that, you should be able to successfully use OSG within your pre-existing rendering system, thereby gaining many of the advantages of OSG, without having to scrap your existing system.</p>
<h3 id="Ihavederivedaclassfromosg::DrawablebutitsdrawImplementationmethodiscalledonlyonce">I have derived a class from osg::Drawable, but its drawImplementation() method is called only once</h3>
<p>Try disabling the use of display lists for this class.</p>
<pre class="wiki">drawable-&gt;setUseDisplayList( false );
</pre>
<p>Otherwise a display list will be created once and this will be called for drawing your drawable next time instead of your drawImplementation.</p>
<h3 id="HowcanIgettheBoundingBoxforaloadedNodeor3Dmodel">How can I get the BoundingBox for a loaded Node or 3D model?</h3>
<p>To obtain an axis aligned <tt>osg::BoundingBox</tt> for a graph</p>
<pre class="wiki"> osg::ComputeBoundsVisitor  cbv;
 osg::BoundingBox           &amp;bb(cbv.getBoundingBox());

 pNode-&gt;accept(cbv);
// access as bb._min.x(), etc
</pre>
<p>For performance reasons the OSG stores <tt>osg::BoundingSphere's</tt> for all internal nodes, and <tt>osg::BoundingBox's</tt> for the Drawable leaves.</p>
<p>If you wish to use a BoundingBox of a node then you can convert the BoundingSphere to a BoundingBox by doing something like:</p>
<pre class="wiki"> BoundingBox bb;
 bb.expandBy(node-&gt;getBound());
</pre>
<h3 id="WhenusingmultipleviewersandormultiplerenderingwindowsIgetweirdresultsandmytexturesdontdisplaycorrectly">When using multiple viewers and/or multiple rendering windows, I get weird results and my textures don't display correctly</h3>
<p>Note, for osgViewer based viewers the is native support for multiple rendering windows so no problems should occur, however, for viewers that are rolled my users themselves such as usiong the low level osgUtil::<a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/SceneView" rel="nofollow">SceneView?</a> issues can arise, the rest of the entry applies to this type of usage.</p>
<p>Each rendering window has its own OpenGL context which is separate from all other contexts. Since OSG doesn't know how you have set up your windowing environment, you need to ensure that each osg::State object is tied to a unique OpenGL context. To do that you should:</p>
<ol>
<li>for each window, get the associated <tt>osgUtil::SceneView</tt> object</li>
<li>for each SceneView object, get the associated <tt>osg::State object</tt></li>
<li>call <tt>State::setContextID()</tt> on each State, passing a unique number to identify that context.</li>
</ol>
<p>After contracting the <a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/SceneView" rel="nofollow">SceneView?</a>'s:</p>
<pre class="wiki">// this will automatically create the osg::State amoung other operations
 sceneview0-&gt;setDefaults();
// now set the ID to 0 (this is the default, just set here for clarity
 sceneview0-&gt;getState()-&gt;setContextID(0);

 sceneview1-&gt;setDefaults();
 sceneview1-&gt;getState()-&gt;setContextID(1);
</pre>
<p>NOTE: context IDs are used as indices in vectors that grow automatically, so please avoid setting large numbers. Start counting from 0 and then increment by one each time.</p>
<h3 id="IhavetwoormoreviewssharingascenegraphbutIwanttolimitwhatpartofthescenegraphisshowninoneormoreoftheviews.HowdoIdothat">I have two or more views sharing a scene graph, but I want to limit what part of the scene graph is shown in one or more of the views. How do I do that?</h3>
<p>What is drawn in a view depends on the results of the Cull Traversal. Each view will have a unique <tt>osgViewer::View</tt> and a each <tt>osgViewer::Viewer</tt> will have a unique cull traversals mask. You can set a traversal mask on each <tt>View</tt> (or sceneView's cullSettings), which it will apply (as a bitwise AND) to each of the nodes it traverses. On each node, then, you can set a <tt>CullMask</tt> that corresponds to the view you want that sub-graph to be displayed in.</p>
<p>Like this:</p>
<pre class="wiki">  lefView-&gt;setCullMask( 0x1);
  rightView-&gt;setCullMask( 0x2 );


  leftNode-&gt;setNodeMask(0x1);
  rightNode-&gt;setNodeMask(0x2);

</pre>
<h3 id="Onpreviousquestion-Yeahbut....itdidntwork">On previous question - Yeah but.... it didn't work!</h3>
<p><strong>(Wiki editing note: references osgProducer::Viewer )</strong></p>
<p>When using <tt>osgProducer::Viewer</tt>, convenience functions are set up to allow attributes to be set globally for all Cameras and SceneHandler (including SceneViews) in an OsgCameraGroup. This includes traversal masks for CullVisitors, which will all be set to 0xFFFFFFFF by default. Before setting the TraversalMask on the unique [=<a class="missing wiki" href="https://www.openscenegraph.com/projects/osg/wiki/CullVisitors" rel="nofollow">CullVisitors?</a>=], you need to make them immune to imposition of global settings with this (CullSettings are applied to CullVisitors on traversal):</p>
<pre class="wiki">    osgProducer::Viewer::SceneHandlerList shl = viewer.getSceneHandlerList();
    osgProducer::Viewer::SceneHandlerList::iterator p;
    unsigned int n = 0;
    for( p = shl.begin(); p != shl.end(); p++ )
    {
        int inheritanceMask = (*p)-&gt;getSceneView()-&gt;getInheritanceMask();
        inheritanceMask &amp;= ~(osg::CullSettings::CULL_MASK);
        (*p)-&gt;getSceneView()-&gt;setInheritanceMask( inheritanceMask );
        (*p)-&gt;getSceneView()-&gt;setCullMask( 1&lt;&lt;(n));
        n++;
    }
</pre>
<h3 id="HowdoIcaptureascreengrab">How do I capture a screengrab?</h3>
<p><strong>(Wiki editing note: references Producer )</strong> <strong>(Wiki editing note: there used to be functionality in osgviewer to do this, but it seems gone? )</strong></p>
<p>For current OSG, take a look at the osgscreencapture example program. In essence, you simply need to attach a Camera post-draw callback. Here's a very simple example:</p>
<pre class="wiki">struct CaptureCB : public osg::Camera::DrawCallback
{
    CaptureCB( int w, int h )
      : w_( w ), h_( h )
    {}

    virtual void operator()( osg::RenderInfo&amp; ri ) const
    {
        std::string fName( "screen.png" ) );
        osg::ref_ptr&lt;osg::Image&gt; image = new osg::Image;
        image-&gt;readPixels( 0, 0, w_, h_, GL_RGBA, GL_UNSIGNED_BYTE );
        osgDB::writeImageFile( *image, fName );
    }

    int w_, h_;
};
</pre>
<p>Producer example from <tt>ViewerEventHandler.cpp</tt> <tt>ViewerEventHandler::SnapImageDrawCallback</tt>:</p>
<pre class="wiki">int x,y;
unsigned int width,height;
camera.getProjectionRectangle(x,y,width,height);
osg::ref_ptr&lt;osg::Image&gt; image = new osg::Image;
image-&gt;readPixels(x,y,width,height, GL_RGB,GL_UNSIGNED_BYTE);
osgDB::writeImageFile(*image,_filename);
</pre>
<p>GLUT example from the <a class="ext-link" href="http://www.it.uu.se/research/project/sst/api/d7/d5a/Main_8cpp-source.html"><span class="icon">SST Project</span></a>:</p>
<pre class="wiki">osg::ref_ptr&lt;osg::Image&gt;image = new osg::Image;
unsigned int w = glutGet(GLUT_WINDOW_WIDTH);
unsigned int h = glutGet(GLUT_WINDOW_HEIGHT);
image-&gt;allocateImage(w, h, 1, GL_RGB, GL_UNSIGNED_BYTE);
image-&gt;readPixels(0, 0, w, h, GL_RGB, GL_UNSIGNED_BYTE);
</pre>
<h3 id="WhydoesmyframeratedropwhenrenderingpointspritestoanFBOpbuffer">Why does my framerate drop when rendering point sprites to an FBO/pbuffer?</h3>
<p>Short answer: Change the coordinate origin mode of the PointSprite attribute to LOWER_LEFT:</p>
<pre class="wiki">osg::PointSprite *ps = new osg::PointSprite;
ps-&gt;setCoordOriginMode(osg::PointSprite::LOWER_LEFT);
</pre>
<p>Long answer: Read the section on Point Sprites in the nVidia OpenGL 2.0 Support document. It states the following:</p>
<p>When rendering to pixel buffers (commonly called pbuffers) or frame buffer objects (commonly called FBOs), change the GL_POINT_SPRITE_COORD_ORIGIN state set to GL_LOWER_LEFT setting for fully hardware accelerated rendering. Using GL_UPPER_LEFT with pbuffer and FBO rendering will force points to be transformed on the CPU.</p>
<h3 id="WhydoesmygeometryrendersopaquewhileIhavetransparentcolorsandormaterialsattachedtoit">Why does my geometry renders opaque while I have transparent colors and/or materials attached to it ?</h3>
<p>You need to activate OpenGL blending by setting the GL_BLEND mode on the geometry's stateset (or that of a parent node).</p>
<pre class="wiki">stateSet-&gt;setMode( GL_BLEND, osg::StateAttribute::ON );
</pre>
<p>Or in a .osg file:</p>
<pre class="wiki">file geom.osg

  Geometry {
    [...]
    StateSet {
      GL_BLEND ON
    }
    PrimitiveSets 1
    {
    [..]
</pre>
<h3 id="Iwroteascenecontainingaparticlesystemtoa.ivefilebutsomenodesdrawablesseemtobemissing">I wrote a scene containing a particle system to a .ive file, but some nodes/drawables seem to be missing</h3>
<p><strong>(Wiki editing note: Is this still valid with 2.4?)</strong></p>
<p>Some nodes and drawables in the osgParticle nodekit are currently not supported in .ive files. As a workaround you can save to a .osg file instead.</p>
<h2 id="OlderversionsofOpenSceneGraph"><span class="underline">Older versions of <a class="wiki" href="https://www.openscenegraph.com/index.php">OpenSceneGraph</a></span></h2>
<h3 id="DuringcompileIgeterrorsaboutProducer:Nosuchfileordirectory.Why-happenswithdailybuildsand0.9.4-2official.">During compile I get errors about Producer/*: No such file or directory. Why? - happens with daily builds and 0.9.4-2 official.</h3>
<p>First build and install <a class="ext-link" href="http://www.andesengineering.com/Producer/index.html"><span class="icon">OpenProducer</span></a>.</p>
<h3 id="CanIuseOSGwithoutProducerandorwithalreadycreatedMFCorWxWindowwindows">Can I use OSG without Producer, and/or with already created MFC or WxWindow windows ?</h3>
<p>You can use OSG with or without Producer, even if you are creating your own windows. See the osgsimple example for an example of using OSG with a generic windowing environment. OSG itself is windowing system agnostic, so setting up the window and OpenGL graphics context will be up to your application. osgsimple uses Producer, but is written in a way to provide you the skeleton to use your own windowing system.</p>
<p>Alternatively, you can use Producer in your own windowing environment as well by setting each Camera's RenderSurface to the window you've created. Like this:</p>
<pre class="wiki">osgProducer::Viewer viewer;
viewer.getCamera(0)-&gt;getRenderSurface()-&gt;setWindow( myWindow );
</pre>
<p>The variable 'myWindow' is an X11 Window, or a win32 HWND.</p>
<p>See : <a class="ext-link" href="http://osgcvs.no-ip.org/osgarchiver/archives/November2004/1019.html"><span class="icon">http://osgcvs.no-ip.org/osgarchiver/archives/November2004/1019.html</span></a> for even more details.</p>
<h3 id="HowcanIchangetheProducericonatrun-time">How can I change the Producer icon at run-time?</h3>
<p>In Microsoft Windows and Visual Studio 7.x:</p>
<p>First add an icon to your solution (Project/Add Recource/Icon).</p>
<p>After <tt>viewer-&gt;realize()</tt> do the following:</p>
<pre class="wiki">Producer::Window wnd = viewer-&gt;getCamera(0)-&gt;getRenderSurface()-&gt;getWindow();
HICON h1 = LoadIcon(GetModuleHandle(0), "YOUR_ICON");
DWORD dw = SetClassLongPtr(wnd, GCL_HICON, (LONG_PTR)h1);
</pre>
<p>The string "YOUR_ICON" should refer to the icon name in your resource file(.rc).</p>
<h2 id="MathMatricesVectorsQuaternions"><span class="underline">Math, Matrices, Vectors, Quaternions</span></h2>
<p><strong>(Wiki editing note: also describe Z-up convention)</strong></p>
<h3 id="WhatmultiplicationorderdothematrixvectorandquaternionclassesinOSGuse">What multiplication order do the matrix, vector and quaternion classes in OSG use?</h3>
<p>The OSG uses <em>post-multiplication</em> order. For example, if you want to create a matrix that first scales by 50% on all axes, then rotates 90 degrees around the X axis and finally translates 2 units in the X direction you would use</p>
<pre class="wiki">osg::Matrix M = osg::Matrix::scale(0.5, 0.5, 0.5) 
                * osg::Matrix::rotate(osg::inDegrees(90), osg::X_AXIS) 
                * osg::Matrix::translate(2, 0, 0));

// Use matrix M with, for example, an osg::MatrixTransform to transform its child nodes
osg::ref_ptr&lt;osg::MatrixTransform&gt; mt = new osg::MatrixTransform(M);
</pre>
<p>To transform a vertex v with matrix M you can use <tt>v * M</tt>.</p>
<p>Note that angles are passed in <em>radians</em>. You can convert from degrees to radians by using one of</p>
<pre class="wiki">osg::inDegrees(angle_in_degrees);
osg::DegreesToRadians(angle_in_degrees);
</pre>
<p>Conversion from radians to degrees can be done with <tt>osg::inRadians()</tt> or <tt>osg::RadiansToDegrees()</tt>.</p>
<h3 id="Ihaveanotherquestionnotansweredhere">I have another question not answered here…</h3>
<p>Check the Matrix and Quaternion FAQ at <a class="ext-link" href="http://www.j3d.org/matrix_faq/"><span class="icon">http://www.j3d.org/matrix_faq/</span></a></p>]]></description>
			<author>jtorresfabra@gmail.com (openscenegraph)</author>
			<category>Support</category>
			<pubDate>Wed, 25 Apr 2012 17:45:09 +0000</pubDate>
		</item>
	</channel>
</rss>
