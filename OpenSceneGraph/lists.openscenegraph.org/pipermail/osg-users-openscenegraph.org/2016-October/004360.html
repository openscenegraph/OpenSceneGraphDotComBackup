<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] transfer data to shader with osg::texture
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20transfer%20data%20to%20shader%20with%20osg%3A%3Atexture&In-Reply-To=%3C6e74e885-419a-f242-9e8f-1dc4323e226a%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="004358.html">
   <LINK REL="Next"  HREF="004368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] transfer data to shader with osg::texture</H1>
<!--htdig_noindex-->
    <B>Sebastian Messerschmidt</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20transfer%20data%20to%20shader%20with%20osg%3A%3Atexture&In-Reply-To=%3C6e74e885-419a-f242-9e8f-1dc4323e226a%40gmx.de%3E"
       TITLE="[osg-users] transfer data to shader with osg::texture">sebastian.messerschmidt at gmx.de
       </A><BR>
    <I>Wed Oct  5 01:47:38 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004358.html">[osg-users] transfer data to shader with osg::texture
</A></li>
        <LI>Next message: <A HREF="004368.html">[osg-users] transfer data to shader with osg::texture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4360">[ date ]</a>
              <a href="thread.html#4360">[ thread ]</a>
              <a href="subject.html#4360">[ subject ]</a>
              <a href="author.html#4360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Liu,

Are you getting values between 0 and 1?
Cheers
Sebastian
&gt;<i> thank you for your reply ,I have tried your solution ,But it still is invaild,the Geometry shader can not get original input values.Are there  other wrong in code?Thank you for your help.
</I>&gt;<i>
</I>&gt;<i> SMesserschmidt wrote:
</I>&gt;&gt;<i> Am 10/5/2016 um 3:37 AM schrieb liu ming:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi Wojtek ,Thank you for your reply,I have  tried GL_RGBA16F_ARB instead like that &quot;texture0-&gt;setInternalFormat(GL_RGBA16F_ARB);&quot;,but  it seemed like not valid.The value still is 0..1 range.Are there other solutions? Thank you.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> So they are now _between_ 0 and , instead of 0 _or_ 1? Then, at least,
</I>&gt;&gt;<i> you're on the right track.
</I>&gt;&gt;<i> What  seems wrong however is your sampler setup. Try this instead:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> osg::Uniform* sampler = new osg::Uniform(osg::Uniform::SAMPLER_1D, &quot;data&quot;);
</I>&gt;&gt;<i> sampler-&gt;set(0); //assign unit
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ss-&gt;addUniform(sampler);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ss-&gt;setTextureAttribute(0/*unit*/, texture0 ,osg::StateAttribute::ON );
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> Sebastian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ------------------
</I>&gt;&gt;&gt;<i> Read this topic online here:
</I>&gt;&gt;&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=68852#68852">http://forum.openscenegraph.org/viewtopic.php?p=68852#68852</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   ------------------
</I>&gt;&gt;<i> Post generated by Mail2Forum
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=68858#68858">http://forum.openscenegraph.org/viewtopic.php?p=68858#68858</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004358.html">[osg-users] transfer data to shader with osg::texture
</A></li>
	<LI>Next message: <A HREF="004368.html">[osg-users] transfer data to shader with osg::texture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4360">[ date ]</a>
              <a href="thread.html#4360">[ thread ]</a>
              <a href="subject.html#4360">[ subject ]</a>
              <a href="author.html#4360">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
