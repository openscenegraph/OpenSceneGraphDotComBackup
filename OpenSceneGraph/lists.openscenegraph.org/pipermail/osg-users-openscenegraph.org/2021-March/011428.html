<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] how do I make the light always hit the front of the camera?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20how%20do%20I%20make%20the%20light%20always%20hit%20the%20front%20of%20the%0A%20camera%3F&In-Reply-To=%3C00bcb4c9-824e-45bd-b993-375b01a44c81n%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="011425.html">
   <LINK REL="Next"  HREF="011430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] how do I make the light always hit the front of the camera?</H1>
<!--htdig_noindex-->
    <B>newli...@gmail.com</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20how%20do%20I%20make%20the%20light%20always%20hit%20the%20front%20of%20the%0A%20camera%3F&In-Reply-To=%3C00bcb4c9-824e-45bd-b993-375b01a44c81n%40googlegroups.com%3E"
       TITLE="[osg-users] how do I make the light always hit the front of the camera?">newlife958 at gmail.com
       </A><BR>
    <I>Tue Mar  9 16:23:30 PST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011425.html">[osg-users] how do I make the light always hit the front of the camera?
</A></li>
        <LI>Next message (by thread): <A HREF="011430.html">[osg-users] how do I make the light always hit the front of the camera?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11428">[ date ]</a>
              <a href="thread.html#11428">[ thread ]</a>
              <a href="subject.html#11428">[ subject ]</a>
              <a href="author.html#11428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi, Robert .
First of all, thank you for your interest and answer.

I'm rendering using osg::Light and osg::LightSource with a spotlight 
pointing down.

The exact position is set using light-&gt;setPosition()

The direction of the light is set with the code below.

     osg::vec3d world =world + osg::Vec3d(0.0, 0.0, -0.6)
     light-&gt;setDirection(-world)

However, if the camera's heading is rotated in the current implementation, 
the light currently being rendered in front is stopped at the position and 
only the camera rotates.

I want to rotate the position of the light along with the heading of the 
camera.
However, if you adjust the Direction value to rotate the position of the 
light, the rendered position will be distorted without rotating as desired.

So, I tried various things using the code below, but I didn't get the 
desired result.

osg::PositionAttitudeTransform *_pat = new osg::PositionAttitudeTransform();
osg::Quat ori =  osg::Quat(osg::DegreesToRadians(0.0), osg::Vec3(0, 1, 0)) *
                            osg::Quat(osg::DegreesToRadians(0.0), 
osg::Vec3(1, 0, 0)) *
                            osg::Quat(osg::DegreesToRadians(heading_value), 
osg::Vec3(0, 0, 1));
_pat-&gt;setAttitude(ori);

Is there a good way to adjust the position of the light like a camera?

2021&#45380; 3&#50900; 9&#51068; &#54868;&#50836;&#51068; &#50724;&#54980; 5&#49884; 12&#48516; 42&#52488; UTC+9&#50640; <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">robert.... at gmail.com</A>&#45784;&#51060; &#51089;&#49457;:

&gt;<i> Hi ?
</I>&gt;<i>
</I>&gt;<i> You don't say how you are rendering your present lights so providing 
</I>&gt;<i> guidance on how to adjust it isn't possible, you'll need to provide more 
</I>&gt;<i> information about your render system and what it relies upon for 
</I>&gt;<i> controlling the position and direction of the light.
</I>&gt;<i>
</I>&gt;<i> Also it's hard to understand what you mean.  Rotating something by 360 
</I>&gt;<i> degrees takes it full circle and back to where it was originally - so this 
</I>&gt;<i> bit makes no sense whatsoever.
</I>&gt;<i>
</I>&gt;<i> The light in the scene looks to be a spot light pointing downwards, 
</I>&gt;<i> pointing that back towards the camera would be a 90 degree rotation, but 
</I>&gt;<i> pointing a spotlight at the camera would be pretty odd.  Could you mean 
</I>&gt;<i> something completely different from what you are saying?
</I>&gt;<i>
</I>&gt;<i> Robert.
</I>&gt;<i>
</I>
-- 
You received this message because you are subscribed to the Google Groups &quot;OpenSceneGraph Users&quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email to <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users+unsubscribe at googlegroups.com.</A>
To view this discussion on the web visit <A HREF="https://groups.google.com/d/msgid/osg-users/00bcb4c9-824e-45bd-b993-375b01a44c81n%40googlegroups.com.">https://groups.google.com/d/msgid/osg-users/00bcb4c9-824e-45bd-b993-375b01a44c81n%40googlegroups.com.</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20210309/5d643e2f/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20210309/5d643e2f/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011425.html">[osg-users] how do I make the light always hit the front of the camera?
</A></li>
	<LI>Next message (by thread): <A HREF="011430.html">[osg-users] how do I make the light always hit the front of the camera?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11428">[ date ]</a>
              <a href="thread.html#11428">[ thread ]</a>
              <a href="subject.html#11428">[ subject ]</a>
              <a href="author.html#11428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
