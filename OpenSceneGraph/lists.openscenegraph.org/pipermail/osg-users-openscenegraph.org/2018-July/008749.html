<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Extra draw calls in osgText?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Extra%20draw%20calls%20in%20osgText%3F&In-Reply-To=%3CCAFN7Y%2BVqMsd6tmYx293Ar2AEZadCXcCALgHYCWqXGTb4%2BjAoOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="008747.html">
   <LINK REL="Next"  HREF="008753.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Extra draw calls in osgText?</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Extra%20draw%20calls%20in%20osgText%3F&In-Reply-To=%3CCAFN7Y%2BVqMsd6tmYx293Ar2AEZadCXcCALgHYCWqXGTb4%2BjAoOg%40mail.gmail.com%3E"
       TITLE="[osg-users] Extra draw calls in osgText?">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Jul 20 00:20:56 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008747.html">[osg-users] Extra draw calls in osgText?
</A></li>
        <LI>Next message (by thread): <A HREF="008753.html">[osg-users] Load OSG trimesh to ODE: Read Vertices from Mesh after Loading with osgDB::readNodeFile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8749">[ date ]</a>
              <a href="thread.html#8749">[ thread ]</a>
              <a href="subject.html#8749">[ subject ]</a>
              <a href="author.html#8749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Glenn,

This is a new one for me :-)

My guess is that the a GLyphquad has been inserted in into the
Text::_textureGlyphQuadMap but it's primitives member hasn't had
filled in with anything.

Do you know if this happens with any of the standard osgtext examples?

Cheers,
Robert.
On Thu, 19 Jul 2018 at 21:47, Glenn Waldron &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">gwaldron at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Robert,
</I>&gt;<i>
</I>&gt;<i> While doing some performance testing on the nifty new osgText code, I found that for every text being drawn there are one or two extra glDrawElements calls with a count of zero. I was able to eliminate them by checking for an empty primitive set before this draw call:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/openscenegraph/OpenSceneGraph/blob/master/src/osgText/Text.cpp#L1151">https://github.com/openscenegraph/OpenSceneGraph/blob/master/src/osgText/Text.cpp#L1151</A>
</I>&gt;<i>
</I>&gt;<i> It works, but I can't help wondering why the empty primitive sets exist in the first place. So I figured I'd see if you knew :) I am using the tip of the OSG 3.6.x branch.
</I>&gt;<i>
</I>&gt;<i> Glenn Waldron / osgEarth
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008747.html">[osg-users] Extra draw calls in osgText?
</A></li>
	<LI>Next message (by thread): <A HREF="008753.html">[osg-users] Load OSG trimesh to ODE: Read Vertices from Mesh after Loading with osgDB::readNodeFile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8749">[ date ]</a>
              <a href="thread.html#8749">[ thread ]</a>
              <a href="subject.html#8749">[ subject ]</a>
              <a href="author.html#8749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
