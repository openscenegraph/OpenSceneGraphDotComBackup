<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to rotate node's local coordinate system?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20rotate%20node%27s%20local%20coordinate%20system%3F&In-Reply-To=%3C1435049776.m2f.64161%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000690.html">
   <LINK REL="Next"  HREF="000693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to rotate node's local coordinate system?</H1>
<!--htdig_noindex-->
    <B>Elias Tarasov</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20rotate%20node%27s%20local%20coordinate%20system%3F&In-Reply-To=%3C1435049776.m2f.64161%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] How to rotate node's local coordinate system?">elias.tarasov at gmail.com
       </A><BR>
    <I>Tue Jun 23 01:56:16 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000690.html">[osg-users] How to rotate node's local coordinate system?
</A></li>
        <LI>Next message: <A HREF="000693.html">[osg-users] How to rotate node's local coordinate system?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#692">[ date ]</a>
              <a href="thread.html#692">[ thread ]</a>
              <a href="subject.html#692">[ subject ]</a>
              <a href="author.html#692">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello, Robert!
Thanks for the quick reply.
It seems i wasn't able to clarify my question. I dont use MatrixTransform or PositionAttitudeTransform here because i don't want to transform my target node relate to others. I want to change local XYZ in that node itself, not the position of my node relate to other nodes or world XYZ.

Let me describe more specifically. 
Standart aerodynamic convention (and it also looks reasonable in most practical situations) defines local(body) coordinate system as:
O - center of mass (here just center of a node), X - from center up to nose, Y - from center up to right wing, Z - down. That leads to Roll, Pitch, Yaw rotations around X,Y,Z respectively.

Let say i want to place camera right behind cessna's tail. Then, AFAIK that code can help me

Code:

nodeTracker = new osgGA::NodeTrackerManipulator;
nodeTracker-&gt;setHomePosition( Vec3(-90,0,0), Vec3(), Z_AXIS );
nodeTracker-&gt;setTrackerMode(osgGA::NodeTrackerManipulator::NODE_CENTER_AND_ROTATION );
nodeTracker-&gt;setTrackNode( cessna.get() );




So: eye Vec3(-90,0,0) means 90 behind center on X. //Local coords, right?
And of course what we can see now is depended on how X is oriented with respect to model body.

If, for instance, X has center at model's center and go straight up to nose,
then -90 means right behind tail (this is what i want to achieve)

But if X has center at model's center and go from right wing, then -90 means we see left side of an aeroplane, not the tail.

Then, even when cessna moves correctly (for instance, straight to the north), i see at as moving with right wing forward and nose to the west.

Also, Roll (rotation about X axis) will be looking like pitch (rotation about Y axis according to aerodynamic standart)
So to avoid confusion and necessity to remeber how that particular node (cessna) is oriented with respect to its own local coords, maybe the better
way is to rotate local coords somehow?

I might be wrong, just to explain why i cannot use Tranform classes according to you advice.

Could you explain how that problem might be solved?

Thank you!

Cheers,
Elias

------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopicec60.php?p=64161#64161">http://forum.openscenegraph.org/viewtopic.php?p=64161#64161</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000690.html">[osg-users] How to rotate node's local coordinate system?
</A></li>
	<LI>Next message: <A HREF="000693.html">[osg-users] How to rotate node's local coordinate system?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#692">[ date ]</a>
              <a href="thread.html#692">[ thread ]</a>
              <a href="subject.html#692">[ subject ]</a>
              <a href="author.html#692">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
