<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osgViewer/Renderer ctor set wrong defaults for	SceneView
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgViewer/Renderer%20ctor%20set%20wrong%20defaults%20for%0A%09SceneView&In-Reply-To=%3CCAFN7Y%2BVy0dmEA6iLhMhiuQbrx4Se%3D97CTCfZT6%2BxXnecnZBtfA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="278484.html">
   <LINK REL="Next"  HREF="002263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osgViewer/Renderer ctor set wrong defaults for	SceneView</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgViewer/Renderer%20ctor%20set%20wrong%20defaults%20for%0A%09SceneView&In-Reply-To=%3CCAFN7Y%2BVy0dmEA6iLhMhiuQbrx4Se%3D97CTCfZT6%2BxXnecnZBtfA%40mail.gmail.com%3E"
       TITLE="[osg-users] osgViewer/Renderer ctor set wrong defaults for	SceneView">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Feb  3 02:19:19 PST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="278484.html">[osg-users] osgViewer/Renderer ctor set wrong defaults for SceneView
</A></li>
        <LI>Next message: <A HREF="002263.html">[osg-users] osgViewer/Renderer ctor set wrong defaults for SceneView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2262">[ date ]</a>
              <a href="thread.html#2262">[ thread ]</a>
              <a href="subject.html#2262">[ subject ]</a>
              <a href="author.html#2262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Christian,

I can't figure out exactly what change you are talking about, could
you have a look at the the github page to figure out the commit that
is relevant.

Also could you explain the problems you are seeing in your
application, which version of the OSG worked, which ones now fail.

Thanks,
Robert.

On 3 February 2016 at 09:33, Christian Ehrlicher &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">Ch.Ehrlicher at gmx.de</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> in r13604 osgUtils/SceneView got a new default value for
</I>&gt;<i> SceneView::setDefaults():
</I>&gt;<i>
</I>&gt;<i> Added SceneView::Options enum enetries APPLY_GLOBAL_DEFAULTS and
</I>&gt;<i> CLEAR_GLOBAL_STATESET to control whether a _globalStateSet-&gt;clear() and
</I>&gt;<i> _globalStateSet-&gt;setGlobalDefaults() should be called.
</I>&gt;<i>
</I>&gt;<i> The problem seems to be that in osgViewer/Renderer.cpp those new enum values
</I>&gt;<i> are not respected when sceneViewOptions for the scenes is calculated:
</I>&gt;<i>
</I>&gt;<i> Renderer.cpp:399
</I>&gt;<i>
</I>&gt;<i> unsigned int sceneViewOptions = osgUtil::SceneView::HEADLIGHT;
</I>&gt;<i> if (view)
</I>&gt;<i> {
</I>&gt;<i>     switch(view-&gt;getLightingMode())
</I>&gt;<i>     {
</I>&gt;<i>         case(osg::View::NO_LIGHT): sceneViewOptions = 0; break;
</I>&gt;<i>         case(osg::View::SKY_LIGHT): sceneViewOptions =
</I>&gt;<i> osgUtil::SceneView::SKY_LIGHT; break;
</I>&gt;<i>         case(osg::View::HEADLIGHT): sceneViewOptions =
</I>&gt;<i> osgUtil::SceneView::HEADLIGHT; break;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> ...
</I>&gt;<i> _sceneView[0]-&gt;setDefaults(sceneViewOptions);
</I>&gt;<i> _sceneView[1]-&gt;setDefaults(sceneViewOptions);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This leads to a broken Scene in our application. As I've no idea about the
</I>&gt;<i> internals of osg (I just searched this bug) I hope this is enough to fix the
</I>&gt;<i> problem.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thx,
</I>&gt;<i>
</I>&gt;<i> Christian Ehrlicher
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="278484.html">[osg-users] osgViewer/Renderer ctor set wrong defaults for SceneView
</A></li>
	<LI>Next message: <A HREF="002263.html">[osg-users] osgViewer/Renderer ctor set wrong defaults for SceneView
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2262">[ date ]</a>
              <a href="thread.html#2262">[ thread ]</a>
              <a href="subject.html#2262">[ subject ]</a>
              <a href="author.html#2262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
