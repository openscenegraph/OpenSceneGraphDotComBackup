<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Processor Affinity and forked processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Processor%20Affinity%20and%20forked%20processes&In-Reply-To=%3C1448828521.m2f.65793%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002092.html">
   <LINK REL="Next"  HREF="278223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Processor Affinity and forked processes</H1>
<!--htdig_noindex-->
    <B>Pete Black</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Processor%20Affinity%20and%20forked%20processes&In-Reply-To=%3C1448828521.m2f.65793%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Processor Affinity and forked processes">pete at marchingcubes.com
       </A><BR>
    <I>Sun Nov 29 12:22:01 PST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002092.html">[osg-users] Processor Affinity and forked processes
</A></li>
        <LI>Next message: <A HREF="278223.html">[osg-users] osgShadow: shadow is seen on the opposite side of the	model too
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2093">[ date ]</a>
              <a href="thread.html#2093">[ thread ]</a>
              <a href="subject.html#2093">[ subject ]</a>
              <a href="author.html#2093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert,

Its not like I can't solve my own problem (I already worked around it by overriding all OSGs CPU affinity setting with platform specific code) , but as demonstrated by the original poster in this thread, I am not the only one who has had to spend a lot of time wondering what is going on and debugging this behaviour, especially since I saw different behaviour on different platforms, with identical code, and version of OSG.

Even given that there are clear benefits to binding OSG threads to specific CPUs, that should be something actively chosen by the programmer, or selected with a specific threading model identifier e.g. 'SingleThreadedDBOptimised' or something like that.

I mean, the comment around that section:

// we'll set processor affinity here to help single threaded apps
// with multiple processor cores, and using the database pager.

Doesn't do what it says - it makes no attempt to check if the app is using the database pager, just blindly sets CPU affinity in every case that the Viewer is created with the 'SingleThreaded' option.

Clearly OSG has a large number of users who expect it to play nicely with other libraries (e.g. the popularity of Qt integration) - and this behaviour just seems out of step with that, and, in my view,  a massively premature optimisation for the majority of applications.

However, you also seem quite attached to this 'feature' so I'll shut up about it now, its really a small issue for me in the scheme of things, and I am just trying to save other users the frustration of dealing with this largely undocumented behaviour.

Thanks for all your work on OSG - it is a core part of my project and makes my life a lot easier.

-Pete


------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopicbfba.php?p=65793#65793">http://forum.openscenegraph.org/viewtopic.php?p=65793#65793</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002092.html">[osg-users] Processor Affinity and forked processes
</A></li>
	<LI>Next message: <A HREF="278223.html">[osg-users] osgShadow: shadow is seen on the opposite side of the	model too
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2093">[ date ]</a>
              <a href="thread.html#2093">[ thread ]</a>
              <a href="subject.html#2093">[ subject ]</a>
              <a href="author.html#2093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
