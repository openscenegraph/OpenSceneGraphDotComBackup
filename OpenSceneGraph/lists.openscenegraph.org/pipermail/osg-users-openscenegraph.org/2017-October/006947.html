<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Running a per-frame task on the graphics thread
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Running%20a%20per-frame%20task%20on%20the%20graphics%20thread&In-Reply-To=%3C1506976303.m2f.72089%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="006949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Running a per-frame task on the graphics thread</H1>
<!--htdig_noindex-->
    <B>Jannik Heller</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Running%20a%20per-frame%20task%20on%20the%20graphics%20thread&In-Reply-To=%3C1506976303.m2f.72089%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Running a per-frame task on the graphics thread">scrawl at baseoftrash.de
       </A><BR>
    <I>Mon Oct  2 13:31:43 PDT 2017</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="006949.html">[osg-users] Running a per-frame task on the graphics thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6947">[ date ]</a>
              <a href="thread.html#6947">[ thread ]</a>
              <a href="subject.html#6947">[ subject ]</a>
              <a href="author.html#6947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi James,

You should be able to use a Drawable with DataVariance set to DYNAMIC for the 'sync phase', and a second Drawable (with no special dataVariance) for the drawing, with your logic implemented in the Drawable's drawImplementation(). RenderBins can be used to control when they are drawn. This should achieve what you want. Note the dynamic Drawable won't really 'block' the main thread (the main thread may still be doing culling, passing other Drawables onto the draw queue, etc.), but it will prevent the next frame from commencing until the dynamic Drawable is done drawing. This should all work regardless of which threading mode's in use. Placing the first drawable in the earliest RenderBin should ensure there is as little waiting as necessary.

Cheers,
Jannik

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=72089#72089">http://forum.openscenegraph.org/viewtopic.php?p=72089#72089</A>





</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="006949.html">[osg-users] Running a per-frame task on the graphics thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6947">[ date ]</a>
              <a href="thread.html#6947">[ thread ]</a>
              <a href="subject.html#6947">[ subject ]</a>
              <a href="author.html#6947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
