<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Force redraw of PagedLOD nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Force%20redraw%20of%20PagedLOD%20nodes&In-Reply-To=%3CCAFN7Y%2BWkqKvt_u9O6TkDRWmrgKBKM3-D1wWW72pGn_DdXmBGZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="003794.html">
   <LINK REL="Next"  HREF="003797.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Force redraw of PagedLOD nodes</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Force%20redraw%20of%20PagedLOD%20nodes&In-Reply-To=%3CCAFN7Y%2BWkqKvt_u9O6TkDRWmrgKBKM3-D1wWW72pGn_DdXmBGZQ%40mail.gmail.com%3E"
       TITLE="[osg-users] Force redraw of PagedLOD nodes">robert.osfield at gmail.com
       </A><BR>
    <I>Mon Aug  1 08:16:07 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003794.html">[osg-users] Force redraw of PagedLOD nodes
</A></li>
        <LI>Next message: <A HREF="003797.html">[osg-users] Force redraw of PagedLOD nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3795">[ date ]</a>
              <a href="thread.html#3795">[ thread ]</a>
              <a href="subject.html#3795">[ subject ]</a>
              <a href="author.html#3795">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Simone,

The way I would implement a feature like this would be to use a shader
that computes the the colour per vertex, using a uniform value to tell
the vertex shader whether to use the intensity or the elevation as the
input to the colour.  To change colour you would simply change a
single osg::Uniform that you would attach to the view's master
Camera's StateSet.

This approach doesn't require any modifications to the scene graph and
works with paged and non paged databases. It also allows you to have
multiple views each with their own preference for how the scene should
be rendered.

Robert.

On 1 August 2016 at 16:07, Simone Rapposelli
&lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">simone.rapposelli at gmail.com</A>&gt; wrote:
&gt;<i> First of all thank you for your reply.
</I>&gt;<i>
</I>&gt;<i> I have a point cloud structured in octree, where each node (PagedLOD) of the scene contains a part of the cloud which show points colored by their intensities using a gray scale (0: black --&gt; 1: white).
</I>&gt;<i> What I need is to let the user to show points colored by their elevation (z value) when he push a button in a toolbar.
</I>&gt;<i>
</I>&gt;<i> Nodes are loaded using osgDB::readNodeFile(path, myOptions), where myOptions is an object of a class I have derived from osgDB::Options and in which I have included some parameters that allow to set the color mode (elevation color or gray scale).
</I>&gt;<i> So, when I need to switch to the evelation view mode, I update some parameters in node options using setDatabaseOptions method of my PagedLOD node and this works fine.
</I>&gt;<i>
</I>&gt;<i> The problem is that the colors on the scene are updated only when I move from the current position, while I need to automatically refresh colors from the same camera position.
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=68237#68237">http://forum.openscenegraph.org/viewtopic.php?p=68237#68237</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003794.html">[osg-users] Force redraw of PagedLOD nodes
</A></li>
	<LI>Next message: <A HREF="003797.html">[osg-users] Force redraw of PagedLOD nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3795">[ date ]</a>
              <a href="thread.html#3795">[ thread ]</a>
              <a href="subject.html#3795">[ subject ]</a>
              <a href="author.html#3795">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
