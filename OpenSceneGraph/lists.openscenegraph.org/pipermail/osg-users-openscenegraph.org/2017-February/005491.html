<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [Toward DrawElementBaseVertex as drawcall]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BToward%20DrawElementBaseVertex%20as%20drawcall%5D&In-Reply-To=%3C1486377193.m2f.70114%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="005489.html">
   <LINK REL="Next"  HREF="005492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [Toward DrawElementBaseVertex as drawcall]</H1>
<!--htdig_noindex-->
    <B>Julien Valentin</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BToward%20DrawElementBaseVertex%20as%20drawcall%5D&In-Reply-To=%3C1486377193.m2f.70114%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] [Toward DrawElementBaseVertex as drawcall]">julienvalentin51 at gmail.com
       </A><BR>
    <I>Mon Feb  6 02:33:13 PST 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005489.html">[osg-users] [Toward DrawElementBaseVertex as drawcall]
</A></li>
        <LI>Next message: <A HREF="005492.html">[osg-users] [Toward DrawElementBaseVertex as drawcall]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5491">[ date ]</a>
              <a href="thread.html#5491">[ thread ]</a>
              <a href="subject.html#5491">[ subject ]</a>
              <a href="author.html#5491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert
I remember your rejection, but it's not what I asked.
I would like your sentiment about what the book extract says about efficient draw submission and basevertex based drawcall....
My old submission is just here to illustrate the benefit of that...

greets



robertosfield wrote:
&gt;<i> HI Julien,
</I>&gt;<i> 
</I>&gt;<i> Are you still talking about the same VAO implementation you original
</I>&gt;<i> proposed last year?
</I>&gt;<i> 
</I>&gt;<i> I tested this and decided against it.  In testing performance and
</I>&gt;<i> comparing it against my own non sharing VAO implementation the later
</I>&gt;<i> performance far better for a range of models that I have to test
</I>&gt;<i> against.  The biggest bag in performance between the two was on very
</I>&gt;<i> large models such as city models where there we are large number of
</I>&gt;<i> objects.  Even you unit test case performed better with my
</I>&gt;<i> implementation.  I found the CPU overhead in your implementations
</I>&gt;<i> swamped any other theoretical performance improvements.
</I>&gt;<i> 
</I>&gt;<i> The official VAO implementation that we now have is part of master,
</I>&gt;<i> performs well, looks to be pretty reliable.  As previously discussed
</I>&gt;<i> it may be possible to adapt this implementation to share the
</I>&gt;<i> osg::VertexArrayState object in cases where osg::Geometry share their
</I>&gt;<i> arrays.  However, such changes would have to justified by a real
</I>&gt;<i> performance improvement on real complete data.
</I>&gt;<i> 
</I>&gt;<i> Robert.
</I>&gt;<i> 
</I>&gt;<i> On 5 February 2017 at 23:34, Julien Valentin &lt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt; Excuse me to return on an old debate but I can't achieve VAO sharing with the current design...I really need an easy way for drawing with basevertices
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; To argue on the utility of VAO sharing among geometries, and (so on the replacement DrawElements to DrawElementBaseVertex as draw submission command):
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1)GPU Pro 4 : Evaluating drawcall cpu overhead and GPU Draw Submission Limitations
</I>&gt;<i> &gt; <A HREF="https://books.google.fr/books?id=_FnSBQAAQBAJ&amp;pg=PA24&amp;lpg=PA24&amp;dq=cost+of+glbindvertexarray&amp;source=bl&amp;ots=1O1DTprEUD&amp;sig=XBs_GMyYM8em72dF8fWnO3YeRKU&amp;hl=fr&amp;sa=X&amp;ved=0ahUKEwiunsa8mMvOAhXDWRoKHXwuBN4Q6AEISzAE#v=onepage&amp;q=cost%20of%20glbindvertexarray&amp;f=true">https://books.google.fr/books?id=_FnSBQAAQBAJ&amp;pg=PA24&amp;lpg=PA24&amp;dq=cost+of+glbindvertexarray&amp;source=bl&amp;ots=1O1DTprEUD&amp;sig=XBs_GMyYM8em72dF8fWnO3YeRKU&amp;hl=fr&amp;sa=X&amp;ved=0ahUKEwiunsa8mMvOAhXDWRoKHXwuBN4Q6AEISzAE#v=onepage&amp;q=cost%20of%20glbindvertexarray&amp;f=true</A>
</I>&gt;<i> &gt; 2)Performances of my VAO proposal  have conforted me in facts vaos should be shared and draw calls should be submitted with basevertex.
</I>&gt;<i> &gt; 1VAO/Geom  DrawCost 4
</I>&gt;<i> &gt; shared VAOs  DrawCost 2
</I>&gt;<i> &gt; (My VAO proposal contains a little overhead that can be easily deported to a NodeVisitor)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I would like other sentiments on the subject
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Cheers
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ------------------
</I>&gt;<i> &gt; Read this topic online here:
</I>&gt;<i> &gt; <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=70109#70109">http://forum.openscenegraph.org/viewtopic.php?p=70109#70109</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; osg-users mailing list
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> 
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i> 
</I>&gt;<i>  ------------------
</I>&gt;<i> Post generated by Mail2Forum
</I>

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=70114#70114">http://forum.openscenegraph.org/viewtopic.php?p=70114#70114</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005489.html">[osg-users] [Toward DrawElementBaseVertex as drawcall]
</A></li>
	<LI>Next message: <A HREF="005492.html">[osg-users] [Toward DrawElementBaseVertex as drawcall]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5491">[ date ]</a>
              <a href="thread.html#5491">[ thread ]</a>
              <a href="subject.html#5491">[ subject ]</a>
              <a href="author.html#5491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
