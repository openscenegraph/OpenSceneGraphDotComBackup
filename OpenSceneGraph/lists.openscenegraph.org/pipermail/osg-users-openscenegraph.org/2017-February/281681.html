<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] combining Quats
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20combining%20Quats&In-Reply-To=%3CCAO-%2Bzim9BrV2pPns0MwbeHAiqg7QxY5LQPXnFedjRBS7Poi0Ew%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Next"  HREF="005460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] combining Quats</H1>
<!--htdig_noindex-->
    <B>Trajce Nikolov NICK</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20combining%20Quats&In-Reply-To=%3CCAO-%2Bzim9BrV2pPns0MwbeHAiqg7QxY5LQPXnFedjRBS7Poi0Ew%40mail.gmail.com%3E"
       TITLE="[osg-users] combining Quats">trajce.nikolov.nick at gmail.com
       </A><BR>
    <I>Wed Feb  1 00:15:25 PST 2017</I>
    <P><UL>
        
        <LI>Next message: <A HREF="005460.html">[osg-users] combining Quats
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#281681">[ date ]</a>
              <a href="thread.html#281681">[ thread ]</a>
              <a href="subject.html#281681">[ subject ]</a>
              <a href="author.html#281681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi community,

this is sort of easy math question (btw, I missed that part in my classes
;-) ) I want to check it with you.

It is about node following terrain. my node is MatrixTransform and I have
to set it in world coordinates. The node has it's own rotation and I just
need to take the terrain normal into account. Here is the pseudocode that
produces some acceptable results (not sure if they are correct though, thus
asking you for hints)

Vec3 terrainNormal;

Quat terrainOrientation;
terrainOrientation.makeRotate(Vec3(0,0,1), terrainNormal);

Quat modelOrientation;
modelOrientation.makeRotate(Vec3(0,1,0), whatever);

Quat q;
q = terrainOrientation * modelOrientation; // not sure about this

MatrixTransform mxt = ...
mxt-&gt;setMatrix(Matrixd:;rotate(q) * ...);

Any hints?

Thanks a bunch as always!
Nick


-- 
trajce nikolov nick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170201/fdfe674f/attachment-0001.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170201/fdfe674f/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="005460.html">[osg-users] combining Quats
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#281681">[ date ]</a>
              <a href="thread.html#281681">[ thread ]</a>
              <a href="subject.html#281681">[ subject ]</a>
              <a href="author.html#281681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
