<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to avoid stencil interference between seperate	parts of a scenegraph
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20avoid%20stencil%20interference%20between%20seperate%0A%09parts%20of%20a%20scenegraph&In-Reply-To=%3C1487156309.m2f.70199%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="281793.html">
   <LINK REL="Next"  HREF="005573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to avoid stencil interference between seperate	parts of a scenegraph</H1>
<!--htdig_noindex-->
    <B>Malcolm Pigott</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20avoid%20stencil%20interference%20between%20seperate%0A%09parts%20of%20a%20scenegraph&In-Reply-To=%3C1487156309.m2f.70199%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] How to avoid stencil interference between seperate	parts of a scenegraph">osg.malcolm at hydrogenrocks.me.uk
       </A><BR>
    <I>Wed Feb 15 02:58:29 PST 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="281793.html">[osg-users] osgstereoimage
</A></li>
        <LI>Next message: <A HREF="005573.html">[osg-users] How to avoid stencil interference between seperate parts of a scenegraph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#281794">[ date ]</a>
              <a href="thread.html#281794">[ thread ]</a>
              <a href="subject.html#281794">[ subject ]</a>
              <a href="author.html#281794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I have a scene which utilises multiple stencils within the same camera, albeit under two different groups.

So I have:


Code:
ViewerCamera
|<i>
</I>+-GroupA (uses StencilA)
|<i>
</I>+-GroupB (has multiple stencils applied to different pieces of non-overlapping geometry)
|<i> |
</I>|<i> +-GroupBA (has its own stencil)
</I>|<i> |
</I>|<i> +-GroupBB (has its own stencil)
</I>|<i> |
</I>|<i> +-GroupBC (has its own stencil)
</I>


ViewerCamera has GL_STENCIL_BUFFER_BIT set.

If I don't add geometry under the GroupB masks, all is well. As soon as geometry is added into the GroupB stencils, the stencils in GroupA go wrong. It may also be interfering with the other stencils in GroupB.

I realise that I probably have to introduce something above GroupB or maybe each group with a separate stencil (such as another camera) to seperately clear GL_STENCIL_BUFFER_BIT but I don't understand cameras enough to work out how to do this. I may be completely wrong in this approach though!

I have tried introducing a slave camera to ViewerCamera and putting GroupB under that but GroupB disappears so I'm probably setting up the slave camera wrong.

How would you advise a modify the above hierarchy to keep GroupA and GroupB controlled by the same projection/ viewport/ etc. as ViewerCamera, but with GroupB's stencils not affecting GroupA's and vice-versa?

Thank you for any guidance you can offer.

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=70199#70199">http://forum.openscenegraph.org/viewtopic.php?p=70199#70199</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="281793.html">[osg-users] osgstereoimage
</A></li>
	<LI>Next message: <A HREF="005573.html">[osg-users] How to avoid stencil interference between seperate parts of a scenegraph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#281794">[ date ]</a>
              <a href="thread.html#281794">[ thread ]</a>
              <a href="subject.html#281794">[ subject ]</a>
              <a href="author.html#281794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
