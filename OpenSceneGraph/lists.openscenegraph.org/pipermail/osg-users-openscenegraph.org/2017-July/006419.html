<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Wait for Database pager to complete
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Wait%20for%20Database%20pager%20to%20complete&In-Reply-To=%3CCAFN7Y%2BU7i3ScwA9HAmzMJBEFFen2b38pDg6iUni01Bg_JroS%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006418.html">
   <LINK REL="Next"  HREF="006421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Wait for Database pager to complete</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Wait%20for%20Database%20pager%20to%20complete&In-Reply-To=%3CCAFN7Y%2BU7i3ScwA9HAmzMJBEFFen2b38pDg6iUni01Bg_JroS%2BQ%40mail.gmail.com%3E"
       TITLE="[osg-users] Wait for Database pager to complete">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Jul  7 08:23:56 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006418.html">[osg-users]  Wait for Database pager to complete
</A></li>
        <LI>Next message: <A HREF="006421.html">[osg-users] Wait for Database pager to complete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6419">[ date ]</a>
              <a href="thread.html#6419">[ thread ]</a>
              <a href="subject.html#6419">[ subject ]</a>
              <a href="author.html#6419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Bruno,

Make sure you are using ref_ptr&lt;&gt; in your ReadFileCallback for any
scene graph data structures so if you remove nodes from the main scene
graph they don't get deleted mid load.  If you do this properly then
there should be no need to mess around with blocks that would
complicate the code.

Robert.

On 7 July 2017 at 14:46, Bruno Oliveira &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">bruno.manata.oliveira at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> i have a PagedLOD bases scene.
</I>&gt;<i>
</I>&gt;<i> At some point I remove a node, but OSG sometimes is reading a subnode and
</I>&gt;<i> crashes at ReadFileCallback.
</I>&gt;<i>
</I>&gt;<i> I can solve this if there is some mechanism to wait for the current callback
</I>&gt;<i> to finish reading, like for instance a
</I>&gt;<i> osgDB::DataBasePager::waitForCurrentThreadToFinish() function.
</I>&gt;<i>
</I>&gt;<i> Is there something like this?
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006418.html">[osg-users]  Wait for Database pager to complete
</A></li>
	<LI>Next message: <A HREF="006421.html">[osg-users] Wait for Database pager to complete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6419">[ date ]</a>
              <a href="thread.html#6419">[ thread ]</a>
              <a href="subject.html#6419">[ subject ]</a>
              <a href="author.html#6419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
