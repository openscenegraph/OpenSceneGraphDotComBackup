<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osgUtil::IntersectionVisitor slow with huge geometry
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgUtil%3A%3AIntersectionVisitor%20slow%20with%20huge%20geometry&In-Reply-To=%3CCAM4StfDm2vF-v6u0ovErxGbFb9xreBSpcVuZevm51hua4Zmopw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006442.html">
   <LINK REL="Next"  HREF="006444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osgUtil::IntersectionVisitor slow with huge geometry</H1>
<!--htdig_noindex-->
    <B>Jordi Torres</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgUtil%3A%3AIntersectionVisitor%20slow%20with%20huge%20geometry&In-Reply-To=%3CCAM4StfDm2vF-v6u0ovErxGbFb9xreBSpcVuZevm51hua4Zmopw%40mail.gmail.com%3E"
       TITLE="[osg-users] osgUtil::IntersectionVisitor slow with huge geometry">jtorresfabra at gmail.com
       </A><BR>
    <I>Tue Jul 18 03:43:50 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006442.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
        <LI>Next message: <A HREF="006444.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6443">[ date ]</a>
              <a href="thread.html#6443">[ thread ]</a>
              <a href="subject.html#6443">[ subject ]</a>
              <a href="author.html#6443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Gianni,

For faster intersections it is far better to build the kdtree first. Also
splitting your huge geometry in several could help to traverse the graph in
case you don't want to use kdtrees.

Cheers.

2017-07-18 12:17 GMT+02:00 Gianni Ambrosio &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">g.ambrosio+osg at gmail.com</A>&gt;:

&gt;<i> Hi All,
</I>&gt;<i> I built a test geometry with about 9M triangles and 27M vertices. The
</I>&gt;<i> intent of my spike solution (attached) is to select a triangle with mouse
</I>&gt;<i> to change its color. I realized that the bottleneck of that code is the
</I>&gt;<i> line where the camera accepts the &quot;osgUtil::IntersectionVisitor&quot; (line 51:
</I>&gt;<i> camera-&gt;accept(iv)). That call takes most of the computation time.
</I>&gt;<i> Debugging the OSG code I fall into:
</I>&gt;<i>
</I>&gt;<i> void LineSegmentIntersector::intersect(osgUtil::IntersectionVisitor&amp; iv,
</I>&gt;<i> osg::Drawable* drawable, const osg::Vec3d&amp; s, const osg::Vec3d&amp; e)
</I>&gt;<i>
</I>&gt;<i> In that code there are different methods to be used: KdTree,
</I>&gt;<i> USE_DOUBLE_CALCULATIONS or USE_FLOAT_CALCULATIONS.
</I>&gt;<i> On the basis of your experience, is one of the previous method ideal to
</I>&gt;<i> solve my performance issue or something else must be done?
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Gianni
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71281#71281">http://forum.openscenegraph.org/viewtopic.php?p=71281#71281</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Jordi Torres
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170718/03f3bb7b/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170718/03f3bb7b/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006442.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
	<LI>Next message: <A HREF="006444.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6443">[ date ]</a>
              <a href="thread.html#6443">[ thread ]</a>
              <a href="subject.html#6443">[ subject ]</a>
              <a href="author.html#6443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
