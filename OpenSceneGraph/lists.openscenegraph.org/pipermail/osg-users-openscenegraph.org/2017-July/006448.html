<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Multi layer effect rendering problem on depthbuffer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Multi%20layer%20effect%20rendering%20problem%20on%20depthbuffer&In-Reply-To=%3C1500457458.m2f.71287%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006446.html">
   <LINK REL="Next"  HREF="006449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Multi layer effect rendering problem on depthbuffer</H1>
<!--htdig_noindex-->
    <B>neman meng</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Multi%20layer%20effect%20rendering%20problem%20on%20depthbuffer&In-Reply-To=%3C1500457458.m2f.71287%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Multi layer effect rendering problem on depthbuffer">neman.meng at gmail.com
       </A><BR>
    <I>Wed Jul 19 02:44:18 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006446.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
        <LI>Next message: <A HREF="006449.html">[osg-users] OSG-GLSL triangle adjacency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6448">[ date ]</a>
              <a href="thread.html#6448">[ thread ]</a>
              <a href="subject.html#6448">[ subject ]</a>
              <a href="author.html#6448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>hi all,

I have implemented the intersection effect between a block mesh and a geometry (kind of like capping effect)by multi-pass render as used in other osgFx::effect.

Now I have lots of blocks with different depth, I add each block and the same geometry into an effect node, as shown below:

rootnode
	--effect node1 
		--block mesh1 + geomBox
	--effect node2
		--blcok mesh2 + geomBox
	...
	
	--effct node18
		--block mesh18 + geomBox
		
		
all effect nodes could be individual rendered in right way, but the depth of different nodes are totally messed.
Regardless of their actual depth values, the subsequent nodes always overwrite the previous nodes.

I think it is because I forced to write the block depth into the depth buffer during the effect process.

So I want to know how can I render each effect into different depth buffer but combine those depth buffer at rootnode to decide the color buffer? 
... 

Thank you!

Cheers,
neman

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71287#71287">http://forum.openscenegraph.org/viewtopic.php?p=71287#71287</A>





</PRE>



<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006446.html">[osg-users] osgUtil::IntersectionVisitor slow with huge geometry
</A></li>
	<LI>Next message: <A HREF="006449.html">[osg-users] OSG-GLSL triangle adjacency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6448">[ date ]</a>
              <a href="thread.html#6448">[ thread ]</a>
              <a href="subject.html#6448">[ subject ]</a>
              <a href="author.html#6448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
