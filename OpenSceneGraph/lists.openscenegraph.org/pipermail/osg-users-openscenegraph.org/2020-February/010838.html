<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osg::Billboard positions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osg%3A%3ABillboard%20positions&In-Reply-To=%3Cmailman.70438.1581581043.7167.osg-users-openscenegraph.org%40lists.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010836.html">
   <LINK REL="Next"  HREF="010839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osg::Billboard positions</H1>
<!--htdig_noindex-->
    <B>OpenSceneGraph Users</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osg%3A%3ABillboard%20positions&In-Reply-To=%3Cmailman.70438.1581581043.7167.osg-users-openscenegraph.org%40lists.openscenegraph.org%3E"
       TITLE="[osg-users] osg::Billboard positions">osg-users at lists.openscenegraph.org
       </A><BR>
    <I>Thu Feb 13 00:03:49 PST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010836.html">[osg-users] osg::Billboard positions
</A></li>
        <LI>Next message (by thread): <A HREF="010839.html">[osg-users] osg::Billboard positions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Catalin,

I would recommend against deleting and recreating scene graphs on every
frame, this will lead to poor performance.

If you have a really dynamic dataset then it may be appropriate to write a
custom node for this, or use a shader.

In the case of shaders you can often replace billboards with a single
geometry that get instanced and have the
 vertex shader use the index id as a look up into a uniform array that
contains the offsets, or any scales you want.
To change the positions you just update the uniform, to change number you
just change the number of instances.

Robert.

On Wed, 12 Feb 2020 at 20:31, OpenSceneGraph Users &lt;
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have an issue, might not be related to osg::Billboard it self.
</I>&gt;<i>
</I>&gt;<i> At every frame, I delete all the drawables for a osg::Billboard:
</I>&gt;<i> tags-&gt;removeDrawables(0, size);
</I>&gt;<i>
</I>&gt;<i> and I add them again, possible with different values for position:
</I>&gt;<i> tags-&gt;addDrawable(osg::Geometry, osg::Vec3(pos.x, pos.y, pos.z));
</I>&gt;<i>
</I>&gt;<i> but in the view I still see the old positions of the tags!
</I>&gt;<i>
</I>&gt;<i> Does OSG has some kind of cache? Do I have to invalidate something?
</I>&gt;<i>
</I>&gt;<i> Greetings,
</I>&gt;<i> Catalin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20200213/748bf4bc/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20200213/748bf4bc/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010836.html">[osg-users] osg::Billboard positions
</A></li>
	<LI>Next message (by thread): <A HREF="010839.html">[osg-users] osg::Billboard positions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
