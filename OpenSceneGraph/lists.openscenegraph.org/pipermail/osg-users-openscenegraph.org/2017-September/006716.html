<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] using modern shaders with osg - setting vertex	attribute layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20using%20modern%20shaders%20with%20osg%20-%20setting%20vertex%0A%09attribute%20layout&In-Reply-To=%3C1504258271.m2f.71584%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006747.html">
   <LINK REL="Next"  HREF="006717.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] using modern shaders with osg - setting vertex	attribute layout</H1>
<!--htdig_noindex-->
    <B>antiro black</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20using%20modern%20shaders%20with%20osg%20-%20setting%20vertex%0A%09attribute%20layout&In-Reply-To=%3C1504258271.m2f.71584%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] using modern shaders with osg - setting vertex	attribute layout">antiro42 at gmail.com
       </A><BR>
    <I>Fri Sep  1 02:31:11 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006747.html">[osg-users] CullVisitor::apply(Geode&amp;) detected NaN,
</A></li>
        <LI>Next message: <A HREF="006717.html">[osg-users] using modern shaders with osg - setting vertex attribute layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6716">[ date ]</a>
              <a href="thread.html#6716">[ thread ]</a>
              <a href="subject.html#6716">[ subject ]</a>
              <a href="author.html#6716">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I am converting a project written in pure opengl to use OSG to improve compatibility and reduce maintenance.  The original project used a deferred rendering pipeline with a pretty big set of custom shaders. I would like to reuse these shaders with minimum adjustments.

In order to do this I want to use the same uniform names and the same layout for the VAO. I figured out that I can add callbacks to set the ModelView / Projection / etc matrices to uniforms with the same names as used in in the shaders, so that is taken care of. 

I do however not know how to specify the vertex attribute layout. My shaders all start with the following:
#version 330 core //so can't use gl_Normal etc
layout(location = 0) in vec3 position
layout(location = 1) in vec3 normal
layout(location = 2) in vec2 texCoords
layout(location = ....

I'm currently just using osgDB::readNodeFile() to read in the geometry and I'm assuming I need to do something more sophisticated to control how the vertex attributes are organized, but have been unable to figure out what.

If anyone could point me in the right direction, that would be most helpful!


Thank you!

Cheers,
antiro

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71584#71584">http://forum.openscenegraph.org/viewtopic.php?p=71584#71584</A>





</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006747.html">[osg-users] CullVisitor::apply(Geode&amp;) detected NaN,
</A></li>
	<LI>Next message: <A HREF="006717.html">[osg-users] using modern shaders with osg - setting vertex attribute layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6716">[ date ]</a>
              <a href="thread.html#6716">[ thread ]</a>
              <a href="subject.html#6716">[ subject ]</a>
              <a href="author.html#6716">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
