<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Problem blending multiple render passes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Problem%20blending%20multiple%20render%20passes&In-Reply-To=%3C99c2f3ab-e84a-7709-7a6f-851f5745a522%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006811.html">
   <LINK REL="Next"  HREF="006816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Problem blending multiple render passes</H1>
<!--htdig_noindex-->
    <B>Sebastian Messerschmidt</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Problem%20blending%20multiple%20render%20passes&In-Reply-To=%3C99c2f3ab-e84a-7709-7a6f-851f5745a522%40gmx.de%3E"
       TITLE="[osg-users] Problem blending multiple render passes">sebastian.messerschmidt at gmx.de
       </A><BR>
    <I>Sat Sep  9 05:48:43 PDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006811.html">[osg-users] Problem blending multiple render passes
</A></li>
        <LI>Next message (by thread): <A HREF="006816.html">[osg-users] Next developer release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6812">[ date ]</a>
              <a href="thread.html#6812">[ thread ]</a>
              <a href="subject.html#6812">[ subject ]</a>
              <a href="author.html#6812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>

Am 09.09.2017 um 14:42 schrieb antiro black:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> 1. I enabled blending on the root node of the subtree containing the camera's, I'm assuming this is carried over to the camera nodes.
</I>I'd rather enable it under the camera. Camera's have a default state set 
when created IIRC. So start by enabling blending in the camera itself.
&gt;<i> 
</I>&gt;<i> 2. I am using deferred rendering, all lighting calculations are based on the information in the GBuffer. I tried to get it to work with one camera and a subtree containing the lightvolumes with uniforms set per volume. However I couldn't get that to work, hence I thought I'd first try the simpler approach without writing to the stencil buffer.
</I>You don't need the stencil buffer for this in any case. The stencil 
approach simply helps to improve performance here. Running a new camera 
per light basically is a full-screen pass per light! ...
&gt;<i> 
</I>&gt;<i> 3. I get that it is hard to help without example code and I am really grateful that you are trying anyways! The problem is that I have a pretty advanced rendering engine written in pure openGL. I decided that I wanted to port this to use OSG for improved cross platform compatibility (slowly starting to regret that decision...). This means that I'm working in a project of ~20k lines of code, which makes it really hard to isolate things into minimal examples. I never expected it to be this hard to restructure the project to work with OSG. The previous code is rather straight forward / low level: first run this shader, then run than shader etc. Now everything is attached to nodes in the scene graph and it is harder to for me wrap my head around the order things are happening in and how the openGL state is modified. If I ever get to the end of this, I might write a tutorial on porting pure openGL code to OSG. It will be the tutorial I wish I had right now :P
</I>
You can still, for the sake of understanding the problem, set up a small 
example doing two pass on one geometry.

In order to keep the mailing list pollution down you can also contact me 
on a private channel.

Cheers
Sebastian
&gt;<i> 
</I>&gt;<i> Thank you!
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> antiro
</I>&gt;<i> 
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71683#71683">http://forum.openscenegraph.org/viewtopic.php?p=71683#71683</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i> 
</I></PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006811.html">[osg-users] Problem blending multiple render passes
</A></li>
	<LI>Next message (by thread): <A HREF="006816.html">[osg-users] Next developer release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6812">[ date ]</a>
              <a href="thread.html#6812">[ thread ]</a>
              <a href="subject.html#6812">[ subject ]</a>
              <a href="author.html#6812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
