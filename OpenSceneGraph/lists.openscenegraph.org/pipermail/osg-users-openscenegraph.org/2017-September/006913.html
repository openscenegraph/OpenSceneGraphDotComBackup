<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to access the view parameters from which the Cull	Visitor came?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20access%20the%20view%20parameters%20from%20which%20the%20Cull%0A%09Visitor%20came%3F&In-Reply-To=%3C379501506101492%40web16j.yandex.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006920.html">
   <LINK REL="Next"  HREF="006918.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to access the view parameters from which the Cull	Visitor came?</H1>
<!--htdig_noindex-->
    <B>Miguel</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20access%20the%20view%20parameters%20from%20which%20the%20Cull%0A%09Visitor%20came%3F&In-Reply-To=%3C379501506101492%40web16j.yandex.ru%3E"
       TITLE="[osg-users] How to access the view parameters from which the Cull	Visitor came?">cvx at yandex.ru
       </A><BR>
    <I>Fri Sep 22 10:31:32 PDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006920.html">[osg-users] Frame rate improvement
</A></li>
        <LI>Next message (by thread): <A HREF="006918.html">[osg-users] CompositeViewer:: checkNeedToDoFrame() always returns	true after adding an UpdateCallback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6913">[ date ]</a>
              <a href="thread.html#6913">[ thread ]</a>
              <a href="subject.html#6913">[ subject ]</a>
              <a href="author.html#6913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi!

I have a multi-view app (using CompositeViewer) in which some nodes should look differently in different views. For example, some label positions should be recalculated depending on the view's camera parameters and some annotations (rectangular area with a border some text) should be visible or hidden depending on the view scale.

I am trying to override 

void GraticuleNode::traverse(osg::NodeVisitor&amp; nv)

and check if the visitor is osg::NodeVisitor::CULL_VISITOR

if it is, I change child required parameters of child nodes, and make them visible or not with 

setNodeMask(visible ? 0x2 : 0);

I am new to OSG and I am not sure I am doing everything correctly and its not clear for me, how to access View parameters here ( in traverse(...) ). In particular, I need: 

1) to access view width and height in pixels (Viewport in pixels) and pass them to a specific node shader as uniforms, 

2) Check some View attributes depending on which I show or hide the child nodes. I set the View attributes when I create the osgViewer::View, for example, there is an attribute determining if the View is Primary (Main) or Secondary (Zoom).

Vasiliy.
</PRE>























<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006920.html">[osg-users] Frame rate improvement
</A></li>
	<LI>Next message (by thread): <A HREF="006918.html">[osg-users] CompositeViewer:: checkNeedToDoFrame() always returns	true after adding an UpdateCallback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6913">[ date ]</a>
              <a href="thread.html#6913">[ thread ]</a>
              <a href="subject.html#6913">[ subject ]</a>
              <a href="author.html#6913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
