<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] TextureBuffer memory not being released from GPU
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20TextureBuffer%20memory%20not%20being%20released%20from%20GPU&In-Reply-To=%3C1506684337.m2f.72078%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006940.html">
   <LINK REL="Next"  HREF="007013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] TextureBuffer memory not being released from GPU</H1>
<!--htdig_noindex-->
    <B>Tom Marsland</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20TextureBuffer%20memory%20not%20being%20released%20from%20GPU&In-Reply-To=%3C1506684337.m2f.72078%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] TextureBuffer memory not being released from GPU">tom at appsincadd.co.uk
       </A><BR>
    <I>Fri Sep 29 04:25:37 PDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006940.html">[osg-users] How to pre-compile shaders before actual usage?
</A></li>
        <LI>Next message (by thread): <A HREF="007013.html">[osg-users] TextureBuffer memory not being released from GPU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6941">[ date ]</a>
              <a href="thread.html#6941">[ thread ]</a>
              <a href="subject.html#6941">[ subject ]</a>
              <a href="author.html#6941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I've set up a system using PagedLOD derived classes and the TextureBuffer class with draw instancing to render large point clouds stored on disk.

Everything works fine to start with but I've noticed the gpu memory increasing as I zoom in and out, unloading and reloading the PagedLOD nodes and corresponding texture buffers. Eventually, the GPU memory gets full and it slows down a lot as it starts using system memory.

It looks like the memory on the GPU allocated to the texture buffers is not freed up, which would be fine if it got cached and reused but it doesn't look like this is happening.

I have spent a day or so looking at the source code for the texture classes and trying to manually clear the memory but am now a bit stuck! I figured that calling releaseGLObjects on the Geometry node or the TextureBuffer should clear the data but neither seems to have any effect.

Does anyone have any ideas? 
Thanks in advance!

Tom

------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopice03d.php?p=72078#72078">http://forum.openscenegraph.org/viewtopic.php?p=72078#72078</A>





</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006940.html">[osg-users] How to pre-compile shaders before actual usage?
</A></li>
	<LI>Next message (by thread): <A HREF="007013.html">[osg-users] TextureBuffer memory not being released from GPU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6941">[ date ]</a>
              <a href="thread.html#6941">[ thread ]</a>
              <a href="subject.html#6941">[ subject ]</a>
              <a href="author.html#6941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
