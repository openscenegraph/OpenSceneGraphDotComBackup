<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Mirror transformation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Mirror%20transformation&In-Reply-To=%3C1505394618.m2f.71723%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006839.html">
   <LINK REL="Next"  HREF="006841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Mirror transformation</H1>
<!--htdig_noindex-->
    <B>Ale Maro</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Mirror%20transformation&In-Reply-To=%3C1505394618.m2f.71723%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Mirror transformation">sasha71 at teletu.it
       </A><BR>
    <I>Thu Sep 14 06:10:18 PDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="006839.html">[osg-users] Mirror transformation
</A></li>
        <LI>Next message (by thread): <A HREF="006841.html">[osg-users] Automated builds of 3rdParty libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6848">[ date ]</a>
              <a href="thread.html#6848">[ thread ]</a>
              <a href="subject.html#6848">[ subject ]</a>
              <a href="author.html#6848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert,

I tried to simplify the scene graph (no shadow, effects, textures, shaders...) and the problem was still there.
I originally disabled back face culling since I have 2-sided lighting with different material.

So I supposed it is the expected behaviour for mirrored nodes and I try add some code to adjust the result.

With mirroring the direction of face normals changes so I first tried to update all normals (hoping they are also used to distinguish front and back face) but it did not work.
I thought to revert all faces directions changing primitive sets but this means to change the geometry and it is not so straightforward.

Reverting faces using statesets works fine.... 
it is not ideal becouse I always need to check the matrix and also I need to recourse all children of a mirrored node to apply the FrontFace state (becouse children can have a transformation that reset the mirroring).

If you have any other suggestion please let me know.

I will also go in depth with your suggestion to use a multipass shader to avoid multiple effect groups. Thank you.
I still have some issues with multipass shaders due to interaction with Qt... but I will try to go to this direction.

Ale

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71723#71723">http://forum.openscenegraph.org/viewtopic.php?p=71723#71723</A>





</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="006839.html">[osg-users] Mirror transformation
</A></li>
	<LI>Next message (by thread): <A HREF="006841.html">[osg-users] Automated builds of 3rdParty libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6848">[ date ]</a>
              <a href="thread.html#6848">[ thread ]</a>
              <a href="subject.html#6848">[ subject ]</a>
              <a href="author.html#6848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
