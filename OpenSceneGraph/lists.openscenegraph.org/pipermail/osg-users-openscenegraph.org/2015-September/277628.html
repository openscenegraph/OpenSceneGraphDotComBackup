<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Quat::makeRotate potential division by zero
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Quat%3A%3AmakeRotate%20potential%20division%20by%20zero&In-Reply-To=%3CCAOPUD5BzOOSis-8qS%2BnSG7dJyjGFam1XyG%3DBd46KiRV7HW4Riw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="001632.html">
   <LINK REL="Next"  HREF="001406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Quat::makeRotate potential division by zero</H1>
<!--htdig_noindex-->
    <B>Mattias Helsing</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Quat%3A%3AmakeRotate%20potential%20division%20by%20zero&In-Reply-To=%3CCAOPUD5BzOOSis-8qS%2BnSG7dJyjGFam1XyG%3DBd46KiRV7HW4Riw%40mail.gmail.com%3E"
       TITLE="[osg-users] Quat::makeRotate potential division by zero">helsing72 at gmail.com
       </A><BR>
    <I>Wed Sep  2 00:24:08 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001632.html">[osg-users] Oculus+OSG
</A></li>
        <LI>Next message: <A HREF="001406.html">[osg-users] Quat::makeRotate potential division by zero
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277628">[ date ]</a>
              <a href="thread.html#277628">[ thread ]</a>
              <a href="subject.html#277628">[ subject ]</a>
              <a href="author.html#277628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi

Our team chased down a bug where we passed an invalid rotation vector to:

void osg::Quat::makeRotate(const osg::Vec3d&amp; from, const osg::Vec3d&amp; to)

we passed an all zeroes Vec3d in the from parameter. This is then used
to normalize the vector, which causes INF values and lots of bad
things further down the line in our code. I know the bug is in our
code but I also see that there are divide-by-zero checks made in other
variations of makeRotate(...). The makeRotate_original even had a
warning print-out.

I guess it's to old performance vs user-friendliness problem, and
that's why I wanted to bring it up here before submitting anything.

What do you think?

/Mattias

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001632.html">[osg-users] Oculus+OSG
</A></li>
	<LI>Next message: <A HREF="001406.html">[osg-users] Quat::makeRotate potential division by zero
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277628">[ date ]</a>
              <a href="thread.html#277628">[ thread ]</a>
              <a href="subject.html#277628">[ subject ]</a>
              <a href="author.html#277628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
