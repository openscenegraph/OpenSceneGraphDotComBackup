<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Seeking advice: Efficient method for large grid	rendering (terrain) with unique state per grid square
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Seeking%20advice%3A%20Efficient%20method%20for%20large%20grid%0A%09rendering%20%28terrain%29%20with%20unique%20state%20per%20grid%20square&In-Reply-To=%3C1441751721.m2f.65071%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001524.html">
   <LINK REL="Next"  HREF="001500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Seeking advice: Efficient method for large grid	rendering (terrain) with unique state per grid square</H1>
<!--htdig_noindex-->
    <B>John Peterson</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Seeking%20advice%3A%20Efficient%20method%20for%20large%20grid%0A%09rendering%20%28terrain%29%20with%20unique%20state%20per%20grid%20square&In-Reply-To=%3C1441751721.m2f.65071%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Seeking advice: Efficient method for large grid	rendering (terrain) with unique state per grid square">halalkitty at gmail.com
       </A><BR>
    <I>Tue Sep  8 15:35:21 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001524.html">[osg-users] how to get the handle of opengl texture that	corresponds to a OSG::Texture
</A></li>
        <LI>Next message: <A HREF="001500.html">[osg-users] Seeking advice: Efficient method for large grid rendering (terrain) with unique state per grid square
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277721">[ date ]</a>
              <a href="thread.html#277721">[ thread ]</a>
              <a href="subject.html#277721">[ subject ]</a>
              <a href="author.html#277721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello everyone,

I am seeking some advice on the best way to implement a particular task using OSG. Hopefully I can articulate what I'd like to do in a way that makes sense--please do not hesitate to ask if I need to clarify.

Essentially, I'd like to use OSG to render a large grid which is basically a heightfield representing a terrain. Each square of the grid will represent a fairy large amount of area, about 5000 m^2 per grid square, and I envision having a large number of these grid squares--on the order of a couple hundred thousand. I'd like to be able to assign a unique state consisting of one or more textures to each grid square. For instance, one grid square may have a water texture, another square a grass texture, another a road segment, etc. My camera will almost always be just above the terrain, similar to what the DriveManipulator accomplishes. I do not foresee having to 'fly' high above the terrain; I don't know if that allows for some sort of optimization.

I've tried creating my own geometry objects, one per grid square, which allows me to set a unique StateSet per square. Performance scales poorly with total number of grid squares added, as one might expect. I thought OSG would cull the grid squares that were out out the viewport, but I suppose traversing all those geometries is CPU-intensive. That said, I did add all my objects to the root of the scene; I did not try grouping them hierarchically in any way (for instance, breaking down the grid into quadrants, then breaking those quadrants into four, etc.) If I built up a tree in this manner using osg::Groups, would OSG know to cull the entire group if its bounding box were outside the viewport, or does it just iterate over all the children each time? Is there a facility I should look into that can accomplish this?

My application sounds like a perfect fix for osgTerrain and its constituent classes, but my understanding (which may be incorrect) from reading osgTerrainTile is that while it can be assigned an elevation layer with many rows and columns, a colour layer for a texture will cover the entire tile. If I were to use osgTerrainTile, I'd be creating tiles with one row and column (one height value), and setting layers for my textures. This basically sounds like my existing solution and seems like an abuse (or horrible misuse? underuse?) of the terrain facilities, and again I'm concerned about performance.

Are there any techniques that I should look into to ensure a performant application? I'll admit that this is not my area of expertise. I appreciate any pointers in the right direction.

Best regards,
John

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=65071#65071">http://forum.openscenegraph.org/viewtopic.php?p=65071#65071</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001524.html">[osg-users] how to get the handle of opengl texture that	corresponds to a OSG::Texture
</A></li>
	<LI>Next message: <A HREF="001500.html">[osg-users] Seeking advice: Efficient method for large grid rendering (terrain) with unique state per grid square
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277721">[ date ]</a>
              <a href="thread.html#277721">[ thread ]</a>
              <a href="subject.html#277721">[ subject ]</a>
              <a href="author.html#277721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
