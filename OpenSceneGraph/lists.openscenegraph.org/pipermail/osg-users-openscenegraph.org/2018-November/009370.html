<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Switch between primitive and model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Switch%20between%20primitive%20and%20model&In-Reply-To=%3C74b3f0e5-8dda-6675-9d1e-e0baf3ebb3aa%40sandbox.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="009367.html">
   <LINK REL="Next"  HREF="009377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Switch between primitive and model</H1>
<!--htdig_noindex-->
    <B>Ulrich Hertlein</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Switch%20between%20primitive%20and%20model&In-Reply-To=%3C74b3f0e5-8dda-6675-9d1e-e0baf3ebb3aa%40sandbox.de%3E"
       TITLE="[osg-users] Switch between primitive and model">u.hertlein at sandbox.de
       </A><BR>
    <I>Mon Nov 12 13:01:42 PST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009367.html">[osg-users] Switch between primitive and model
</A></li>
        <LI>Next message (by thread): <A HREF="009377.html">[osg-users] Switch between primitive and model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9370">[ date ]</a>
              <a href="thread.html#9370">[ thread ]</a>
              <a href="subject.html#9370">[ subject ]</a>
              <a href="author.html#9370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Charlie,

On 12/11/18 03:26, Charlie Tan wrote:
&gt;<i> I am trying to toggle between a model that I have loaded (a unit cube) and a colored surface (a unit triangle). Thus, the triangle rendered should be half the area of the unit cube's face. In addition, the triangle rendered should lie on the cube face itself.
</I>&gt;<i> 
</I>&gt;<i> // Model
</I>&gt;<i> auto loadedModel = readRefNodeFiles(...);
</I>&gt;<i> auto swtch = new Switch();
</I>&gt;<i> 
</I>&gt;<i> scene-&gt;addChild(swtch);
</I>&gt;<i> swtch-&gt;addChild(loadedModel); //swtch[0]
</I>&gt;<i> 
</I>&gt;<i> // Colored surface
</I>&gt;<i> Node* geode;
</I>&gt;<i> auto polyGeom = Geometry();
</I>&gt;<i> polyGeom-&gt;setVertexArray(...);  //Set to (0,0,0), (1,0,0), (1,1,0)
</I>&gt;<i> polyGeom-&gt;setColorArray(...);
</I>&gt;<i> polyGeom-&gt;setNormalArray(...);
</I>&gt;<i> geode-&gt;addDrawable(polyGeom);
</I>&gt;<i> 
</I>&gt;<i> swtch-&gt;addChild(geode); //swtch[1]
</I>&gt;<i>...
</I>&gt;<i> The size, position and the orientation of the colored surface is way off as compared to my cube model.
</I>
You didn't say much about how the unit cube is constructed, but usually it means that it
has an edge length of one (1.0) and is centered around the origin (0,0,0).  This usually
also implies that the model matrix is the identity matrix.

So corners will be at min(-0.5, -0.5, -0.5) and max(0.5, 0.5, 0.5).

The triangle you are constructing, however, extends from the origin with an edge length of
1.0.  Try to offset your triangle by translate(-0.5, -0.5, -0.5) and you should see it
lining up.

You can also use the coordinates directly, e.g. a triangle (-0.5, -0.5, -0.5), (0.5, -0.5,
-0.5), (0.5, 0.5, -0.5).  Or something along those lines, depending on which face of the
cube you want to overlay.

Hope this helps,
Cheers,
/Ulrich

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="../attachments/20181112/2489cc11/attachment.sig">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20181112/2489cc11/attachment.sig</A>&gt;
</PRE>













<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009367.html">[osg-users] Switch between primitive and model
</A></li>
	<LI>Next message (by thread): <A HREF="009377.html">[osg-users] Switch between primitive and model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9370">[ date ]</a>
              <a href="thread.html#9370">[ thread ]</a>
              <a href="subject.html#9370">[ subject ]</a>
              <a href="author.html#9370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
