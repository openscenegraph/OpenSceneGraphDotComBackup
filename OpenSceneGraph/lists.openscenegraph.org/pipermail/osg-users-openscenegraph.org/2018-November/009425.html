<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] pass mat4 as attribute for glsl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20pass%20mat4%20as%20attribute%20for%20glsl&In-Reply-To=%3Ctencent_E4B048023B5A1A39A3E8D4A7645762317507%40qq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009424.html">
   <LINK REL="Next"  HREF="009428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] pass mat4 as attribute for glsl</H1>
<!--htdig_noindex-->
    <B>Garfield Pig  </B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20pass%20mat4%20as%20attribute%20for%20glsl&In-Reply-To=%3Ctencent_E4B048023B5A1A39A3E8D4A7645762317507%40qq.com%3E"
       TITLE="[osg-users] pass mat4 as attribute for glsl">yuqicxy at foxmail.com
       </A><BR>
    <I>Mon Nov 26 21:27:45 PST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009424.html">[osg-users] pass mat4 as attribute for glsl
</A></li>
        <LI>Next message (by thread): <A HREF="009428.html">[osg-users] Camera clear color
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9425">[ date ]</a>
              <a href="thread.html#9425">[ thread ]</a>
              <a href="subject.html#9425">[ subject ]</a>
              <a href="author.html#9425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ye Cong:
 For instance rendering,You can see osgEarth::Drawinstance,they use uniform texture buffer instead of vertex attribute.
 If you insist on using VertexAttribute,I guess you may inherit the osg::Geometry,and rewrite DrawImplement method,create a GLExtension to do this.
 just like this:
   contextID = state.getContextID();
   osg::ref_ptr&lt;osg::GLExtensions&gt; ext = osg::GLExtensions::Get(contextID, true);
   ext-&gt;glVertexAttribPointer(blabla);
   ext-&gt;glVertexAttribPointer(blabla);


Finally,you can use Matrix Array uniform ,but it's a stupid way I think.






------------------ Original ------------------
From: &quot;Cong Ye&quot;&lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">sirian_ye at hotmail.com</A>&gt;; 
Date: 2018&#24180;11&#26376;27&#26085;(&#26143;&#26399;&#20108;) &#20013;&#21320;12:58
To: &quot;osg-users&quot;&lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>&gt;; 
Subject: [osg-users] pass mat4 as attribute for glsl



Hi,

I am currently working on a project requires gpu instancing. I worked out a way to do the instancing with vec4 as position attribute in. However, in the real case, instances need to be scaled/rotated/translated. Now, I want to send the transform matrix as an attribute to the shader. Normally, general opengl uses glVertexAttribPointer with offset and glVertexAttribDivisor to sperate mat4 to vec4 then pass to the shader. However, I don't find the replacement function to do the offset data structure pass. Could someone enlighten me about it, please? 

thanks very much!

... 

Thank you!

Cheers,
Cong

------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopicaac3.php?p=75249#75249">http://forum.openscenegraph.org/viewtopic.php?p=75249#75249</A>





_______________________________________________
osg-users mailing list
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20181127/4ef1d486/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20181127/4ef1d486/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009424.html">[osg-users] pass mat4 as attribute for glsl
</A></li>
	<LI>Next message (by thread): <A HREF="009428.html">[osg-users] Camera clear color
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9425">[ date ]</a>
              <a href="thread.html#9425">[ thread ]</a>
              <a href="subject.html#9425">[ subject ]</a>
              <a href="author.html#9425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
