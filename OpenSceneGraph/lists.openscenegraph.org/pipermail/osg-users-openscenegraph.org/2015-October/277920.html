<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to grab color from a point on a model?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20grab%20color%20from%20a%20point%20on%20a%20model%3F&In-Reply-To=%3C1444228288.m2f.65318%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="001710.html">
   <LINK REL="Next"  HREF="001698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to grab color from a point on a model?</H1>
<!--htdig_noindex-->
    <B>Dan Flickinger</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20grab%20color%20from%20a%20point%20on%20a%20model%3F&In-Reply-To=%3C1444228288.m2f.65318%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] How to grab color from a point on a model?">dmflickinger at gmail.com
       </A><BR>
    <I>Wed Oct  7 07:31:28 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001710.html">[osg-users] StatsHandler missing numbers
</A></li>
        <LI>Next message: <A HREF="001698.html">[osg-users] How to grab color from a point on a model?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277920">[ date ]</a>
              <a href="thread.html#277920">[ thread ]</a>
              <a href="subject.html#277920">[ subject ]</a>
              <a href="author.html#277920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

I recently took over maintaining a system utilizing osg, which simulates sensors on an autonomous vehicle. One of the features in the works is to model a new LIDAR sensor. The system grabs intersections of line segments approximating laser pulses, pulling points into osgUtil::LineSegmentIntersector::Intersection objects. Now these intersections are used to generate simulated point clouds, and I am attempting to model intensity in these points by approximating the color of the model at the intersection point. So this is where I run into a wall.

I get an osg::Texture pointer from osg::Util::LineSegmentIntersector::Intersection.getTextureLookUp(osg::Vec3), which is an osg::Texture2D. This pulls the texture as expected. From there, I attempt to pull out an osg::Image* out of osg::Texture2D.getImage(0). All I'm getting from that is a bunch of NULLs; on multiple models.

My working theory is that _image is never getting set in the Texture2D object, or is that set right before getting handed over to OpenGL, and then unset as the images are deleted in order to not drag around a bunch of cruft? So is there a way to retain the images after loading the models? Or is there a better way to go about grabbing the color of a point on a model? Does texture compression play a part in this? I assume that compressed textures would just return garbage, not have _image set as NULL.

Best regards,

Dan

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=65318#65318">http://forum.openscenegraph.org/viewtopic.php?p=65318#65318</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001710.html">[osg-users] StatsHandler missing numbers
</A></li>
	<LI>Next message: <A HREF="001698.html">[osg-users] How to grab color from a point on a model?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277920">[ date ]</a>
              <a href="thread.html#277920">[ thread ]</a>
              <a href="subject.html#277920">[ subject ]</a>
              <a href="author.html#277920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
