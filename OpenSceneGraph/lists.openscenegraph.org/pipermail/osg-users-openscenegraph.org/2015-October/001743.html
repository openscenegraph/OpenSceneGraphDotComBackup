<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Using a custom StateAttribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Using%20a%20custom%20StateAttribute&In-Reply-To=%3C5624A9A5.6090303%40oktal-se.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="277965.html">
   <LINK REL="Next"  HREF="001744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Using a custom StateAttribute</H1>
<!--htdig_noindex-->
    <B>Lionel Lagarde</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Using%20a%20custom%20StateAttribute&In-Reply-To=%3C5624A9A5.6090303%40oktal-se.fr%3E"
       TITLE="[osg-users] Using a custom StateAttribute">lionel.lagarde at oktal-se.fr
       </A><BR>
    <I>Mon Oct 19 01:28:21 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="277965.html">[osg-users] Using a custom StateAttribute
</A></li>
        <LI>Next message: <A HREF="001744.html">[osg-users] Using a custom StateAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1743">[ date ]</a>
              <a href="thread.html#1743">[ thread ]</a>
              <a href="subject.html#1743">[ subject ]</a>
              <a href="author.html#1743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

An attribute is identified by a type (enum Type) and a member (int). The 
StateAttribute getters and setters have the member parameter defaulted 
to 0.

I use some custom state attributes:
- I use the type as an attribute class (i.e. MATERIAL for BRDF related 
parameters...)
- I use the member of prevent conflicts with the OSG legacy attributes


On 18/10/2015 22:58, Jannik Heller wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> How is one supposed to use a custom StateAttribute?
</I>&gt;<i>
</I>&gt;<i> The docs say that:
</I>&gt;<i>
</I>&gt;<i> &quot;When extending the osg's StateAttribute's simply define your own Type value which is unique, using the StateAttribute::Type enum as a guide of what values to use&quot;
</I>&gt;<i>
</I>&gt;<i> As it is, returning a unique value simply isn't possible because the getType() function returns an enum:
</I>&gt;<i>
</I>&gt;<i>          /** Return the Type identifier of the attribute's class type.*/
</I>&gt;<i>          virtual Type getType() const = 0;
</I>&gt;<i>
</I>&gt;<i> Type is the enum defined here containing the default types, with no room for user types:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i>
</I>&gt;<i>          enum Type
</I>&gt;<i>          {
</I>&gt;<i>              TEXTURE,
</I>&gt;<i>
</I>&gt;<i>              POLYGONMODE,
</I>&gt;<i>       ....
</I>&gt;<i>
</I>&gt;<i>              FRAME_BUFFER_OBJECT
</I>&gt;<i>          };
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I suppose that you could choose some integer, static_cast it back to enum Type and then hope that will work. (it will most likely work if the enum has a large enough bit size, but it's technically undefined behaviour, so I can't imagine that's how Robert intended it to be used).
</I>&gt;<i>
</I>&gt;<i> To me it seems the feature advertised in docs of creating your own StateAttributes simply isn't possible, just because of this one function returning enum instead of int, which would be an easy fix. Am I missing something here?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Jannik
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=65369#65369">http://forum.openscenegraph.org/viewtopic.php?p=65369#65369</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20151019/cdda60ab/attachment-0002.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20151019/cdda60ab/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="277965.html">[osg-users] Using a custom StateAttribute
</A></li>
	<LI>Next message: <A HREF="001744.html">[osg-users] Using a custom StateAttribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1743">[ date ]</a>
              <a href="thread.html#1743">[ thread ]</a>
              <a href="subject.html#1743">[ subject ]</a>
              <a href="author.html#1743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
