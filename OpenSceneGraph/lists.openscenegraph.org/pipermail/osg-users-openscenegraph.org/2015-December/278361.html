<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Support for COLLADA_DOM 2.4 checked in
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Support%20for%20COLLADA_DOM%202.4%20checked%20in&In-Reply-To=%3C1450004333.m2f.65855%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="002136.html">
   <LINK REL="Next"  HREF="002140.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Support for COLLADA_DOM 2.4 checked in</H1>
<!--htdig_noindex-->
    <B>Alex Cham</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Support%20for%20COLLADA_DOM%202.4%20checked%20in&In-Reply-To=%3C1450004333.m2f.65855%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Support for COLLADA_DOM 2.4 checked in">cau.mbox at gmail.com
       </A><BR>
    <I>Sun Dec 13 02:58:53 PST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002136.html">[osg-users] OSG version for Node-derivation of Drawable?
</A></li>
        <LI>Next message: <A HREF="002140.html">[osg-users] Support for COLLADA_DOM 2.4 checked in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#278361">[ date ]</a>
              <a href="thread.html#278361">[ thread ]</a>
              <a href="subject.html#278361">[ subject ]</a>
              <a href="author.html#278361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi, Robert!

# TESTED AGAINST

# commit 9a6b96ea61859aa21c60a86fa3fa5eb07d93346b
# Author: Robert OSFIELD
# Date:   Mon Nov 9 16:02:09 2015 +0000
# Updated ChangeLog for 3.5.1 dev release
# git-svn-id: <A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk@15181">http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk@15181</A> 16af8721-9629-0410-8352-f15c8da7e697

# AND

# commit 94433cd7445db88420cd239e6a3d87bcbd2883cc
# Author: rosen
# Date:   Wed Oct 14 20:16:46 2015 +0900
# fix new lines to conform to unix (from debian <A HREF="http://anonscm.debian.org/cgit/debian-science/packages/collada-dom.git/diff/debian/patches/linefeed-fixup.patch?id=9652330772f7e441b423a41d88f\">http://anonscm.debian.org/cgit/debian-science/packages/collada-dom.git/diff/debian/patches/linefeed-fixup.patch?id=9652330772f7e441b423a41d88f\</A>
# 				       52c245569c049)




Prerequisites


DAE::open BUG DOM 1.4.1
<A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=1082260">https://bugzilla.redhat.com/show_bug.cgi?id=1082260</A>
DAE::open BUG DOM 1.4.1 (FIXED since 2.4.3)
<A HREF="https://github.com/rdiankov/collada-dom/blob/master/changelog.rst#243">https://github.com/rdiankov/collada-dom/blob/master/changelog.rst#243</A>



forked core collada-dom library into github
fork does not contain any viewers/opengl/windowing library dependencies

<A HREF="https://forums.khronos.org/showthread.php/11302-collada-dom-forked-to-github">https://forums.khronos.org/showthread.php/11302-collada-dom-forked-to-github</A>
<A HREF="https://github.com/rdiankov/collada-dom">https://github.com/rdiankov/collada-dom</A>



COLLADA DOM 2.4.0 DOM 1.4.1, 1.5.0

<A HREF="https://github.com/rdiankov/collada-dom/blob/master/changelog.rst#240">https://github.com/rdiankov/collada-dom/blob/master/changelog.rst#240</A>



COLLADA DOM 2.4.0 DOM 1.4.1 since OSG 2014/11/23
<A HREF="http://forum.openscenegraph.org/viewtopic.php?t=14539&amp;highlight=collada">http://forum.openscenegraph.org/viewtopic.php?t=14539&amp;highlight=collada</A>

Plugin depends from Collada DOM library
plugin only work with DOM 1.4 of Collada DOM
Collada DOM library depends from Boost (part), libxml2, pcre, pcrecpp, minizip, zlib

(Page require content UPDATE!)
<A HREF="../../../../www.openscenegraph.com/index.php/documentation/guides/user-guides/111-collada.html">http://www.openscenegraph.org/index.php/documentation/guides/user-guides/111-collada</A>



-DCOLLADA_INCLUDE_DIR= &amp;&amp; -DCOLLADA_DYNAMIC_LIBRARY=

osgviewer myFile.dae
osgconv myFile.osg myFile.dae

<A HREF="https://github.com/openscenegraph/osg/blob/master/src/osgPlugins/dae/README.txt">https://github.com/openscenegraph/osg/blob/master/src/osgPlugins/dae/README.txt</A>



collada-dom/dom/test/1.4/data/

cube.dae
Seymour.dae
<A HREF="https://github.com/rdiankov/collada-dom/tree/master/dom/test/1.4/data">https://github.com/rdiankov/collada-dom/tree/master/dom/test/1.4/data</A>







Code:


# ERROR

# Error occurs if 1.5 dom linked into OSG but reading 1.4.dae and vice versa

# Error: Trying to load an invalid COLLADA version for this DOM build!
# Error: Failed to load file:/home/opengl/Research/GLES2/Assets/Animation/test.asf.amc.dae

# Load failed in COLLADA DOM
# Load failed in COLLADA DOM conversion

# FIXES

# COLLADA DOM CMake Defaults

# #option(OPT_COLLADA15 &quot;Enable collada 1.5 compilation&quot; ON)
# #option(OPT_COLLADA14 &quot;Enable collada 1.4 compilation&quot; ON)

# MUST for OSG + COLLADA DOM (Build vCOLLADA DOM 1.4 library only)!

# cd ./x64Linux &amp;&amp; \
#     /usr/bin/cmake \
# 	../src \
# 	-DOPT_COLLADA15=0 \
# 	-DOPT_COLLADA14=1



#export PATH = ${PATH}:/home/myaccount/OpenSceneGraph/bin
export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:../x64LinuxMesaGL2/lib/;
export OSG_FILE_PATH=../Assets/:../Assets/Images;

#../x64LinuxMesaGL2/bin/osgconv --format dae
# Same as above
../x64LinuxMesaGL2/bin/osgconv --plugin ../x64LinuxMesaGL2/lib/osgPlugins-3.5.1/osgdb_dae.so


# COLLADA DOM Default cube.dae
# <A HREF="https://github.com/rdiankov/collada-dom/tree/master/dom/test/1.4/data">https://github.com/rdiankov/collada-dom/tree/master/dom/test/1.4/data</A>

#../x64LinuxMesaGL2/bin/osganimationviewer /home/opengl/Research/GLES2/Repo/colladadom/src/dom/test/1.4/data/cube.dae
# PASSED

../x64LinuxMesaGL2/bin/osganimationviewer /home/opengl/Research/GLES2/Repo/colladadom/src/dom/test/1.4/data/Seymour.dae
# PASSED


#../x64LinuxMesaGL2/bin/osganimationviewer /home/opengl/Research/GLES2/Repo/colladadom/src/dom/test/1.5/data/Seymour.dae
# FAILED
# With the above error




	

Thank you!

Cheers,
Alex

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=65855#65855">http://forum.openscenegraph.org/viewtopic.php?p=65855#65855</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002136.html">[osg-users] OSG version for Node-derivation of Drawable?
</A></li>
	<LI>Next message: <A HREF="002140.html">[osg-users] Support for COLLADA_DOM 2.4 checked in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#278361">[ date ]</a>
              <a href="thread.html#278361">[ thread ]</a>
              <a href="subject.html#278361">[ subject ]</a>
              <a href="author.html#278361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
