<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Geometries disappearing at optimization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Geometries%20disappearing%20at%20optimization&In-Reply-To=%3C952297f4-c167-e286-7a08-16a86a511767%40remograph.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007946.html">
   <LINK REL="Next"  HREF="007948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Geometries disappearing at optimization</H1>
<!--htdig_noindex-->
    <B>Andreas Ekstrand</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Geometries%20disappearing%20at%20optimization&In-Reply-To=%3C952297f4-c167-e286-7a08-16a86a511767%40remograph.com%3E"
       TITLE="[osg-users] Geometries disappearing at optimization">andreas.ekstrand at remograph.com
       </A><BR>
    <I>Sun Apr  1 17:03:24 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007946.html">[osg-users] [build] osgWidget Visual Studio project is invalid with CMake 3.11.0
</A></li>
        <LI>Next message (by thread): <A HREF="007948.html">[osg-users] Geometries disappearing at optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7947">[ date ]</a>
              <a href="thread.html#7947">[ thread ]</a>
              <a href="subject.html#7947">[ subject ]</a>
              <a href="author.html#7947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I'm sending this message again with an attached .osgb file instead of 
debug-friendly .osg, because of the attachment size:

Hi Robert,

Happy Easter! :-)

Sorry for the late feedback on the performance changes in the 
MergeGeometryVisitor that I was involved in a while ago. But I 
discovered a rather serious issue - in the attached example mesh the 
last geometry (lower-left quadrant) disappears in 
MergeGeometryVisitor::mergeGroup and I think it's due to it reaching the 
10000 vertices maximum. It works in old 3.4 and it's easily reproducible 
in the 3.6 branch by just running osgviewer with default optimizations, 
while turning off optimizations will keep the geometry intact.

I haven't dug deep enough to find the detailed cause but the last 
&quot;left-over&quot; geometry obviously isn't added back. Hopefully you will find 
the cause quickly since it wasn't too long ago you rewrote parts of this 
code. If not, please let me know if I can help with further debugging!

Also, I wonder if there shouldn't be a way to control the 10000 maximum 
from outside Optimizer somehow?

Regards,
Andreas

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20180402/6cabdda5/attachment-0001.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20180402/6cabdda5/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: optimize2.osgb
Type: application/octet-stream
Size: 153942 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20180402/6cabdda5/attachment-2.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20180402/6cabdda5/attachment-0001.obj</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007946.html">[osg-users] [build] osgWidget Visual Studio project is invalid with CMake 3.11.0
</A></li>
	<LI>Next message (by thread): <A HREF="007948.html">[osg-users] Geometries disappearing at optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7947">[ date ]</a>
              <a href="thread.html#7947">[ thread ]</a>
              <a href="subject.html#7947">[ subject ]</a>
              <a href="author.html#7947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
