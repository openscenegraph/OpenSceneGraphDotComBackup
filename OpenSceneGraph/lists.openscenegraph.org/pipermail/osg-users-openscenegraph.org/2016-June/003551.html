<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Get current Billboard ModelView matrix?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Get%20current%20Billboard%20ModelView%20matrix%3F&In-Reply-To=%3CCAFN7Y%2BVRTtQWA4nq1K%3DDVzsAMC_3uV%3DHAJ4sD8n_Ca1fqfwHxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="003546.html">
   <LINK REL="Next"  HREF="003547.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Get current Billboard ModelView matrix?</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Get%20current%20Billboard%20ModelView%20matrix%3F&In-Reply-To=%3CCAFN7Y%2BVRTtQWA4nq1K%3DDVzsAMC_3uV%3DHAJ4sD8n_Ca1fqfwHxQ%40mail.gmail.com%3E"
       TITLE="[osg-users] Get current Billboard ModelView matrix?">robert.osfield at gmail.com
       </A><BR>
    <I>Thu Jun 30 03:40:49 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003546.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
        <LI>Next message: <A HREF="003547.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3551">[ date ]</a>
              <a href="thread.html#3551">[ thread ]</a>
              <a href="subject.html#3551">[ subject ]</a>
              <a href="author.html#3551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Philip,

In your scene graph are there dynamic transforms or is it just the
changes in the camera's view matrix that is altering the accumulated
modelview matrix?

Robert.

On 30 June 2016 at 09:44, Philipp Meyer &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">philipp.meyer at fh-bielefeld.de</A>&gt; wrote:
&gt;<i> My goal is to create a fragment shader that computes the delta distance to each fragment compared to the previous frame.
</I>&gt;<i>
</I>&gt;<i> In the shader, I can easily calculate the current distance to a fragment by using built in functions, the problem is that I also need access to the fragment position in the PREVIOUS frame in order to compute the delta and generate the output.
</I>&gt;<i>
</I>&gt;<i> As the vertex and fragment shaders have no native access to data of the previous frame my idea was to use uniform variables to pass the viewMatrix and the modelMatrix of the PREVIOUS frame to the vertex shader.
</I>&gt;<i>
</I>&gt;<i> I can easily retrieve old viewMatrix by setting a uniform variable in the program main render loop after the current frame completed.
</I>&gt;<i> However, it is very difficult to obtain the old modelMatrix because the modelMatrix is unique to every primitive in the scene (or in other words, there are many modelView matrices and not just one).
</I>&gt;<i>
</I>&gt;<i> So, the only solution I found was to attach a uniform to every transform node in my scene graph and store the previous modelMatrix in it.
</I>&gt;<i> This is very CPU intensive but works okay, unfortunately I do not yet take Billboards into account and this is why I need to calculate the modelMatrix of a Billboard.
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=67926#67926">http://forum.openscenegraph.org/viewtopic.php?p=67926#67926</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003546.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
	<LI>Next message: <A HREF="003547.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3551">[ date ]</a>
              <a href="thread.html#3551">[ thread ]</a>
              <a href="subject.html#3551">[ subject ]</a>
              <a href="author.html#3551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
