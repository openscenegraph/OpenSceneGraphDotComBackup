<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Get current Billboard ModelView matrix?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Get%20current%20Billboard%20ModelView%20matrix%3F&In-Reply-To=%3C1467280810.m2f.67930%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003549.html">
   <LINK REL="Next"  HREF="003552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Get current Billboard ModelView matrix?</H1>
<!--htdig_noindex-->
    <B>Julien Valentin</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Get%20current%20Billboard%20ModelView%20matrix%3F&In-Reply-To=%3C1467280810.m2f.67930%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Get current Billboard ModelView matrix?">julienvalentin51 at gmail.com
       </A><BR>
    <I>Thu Jun 30 03:00:10 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003549.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
        <LI>Next message: <A HREF="003552.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3550">[ date ]</a>
              <a href="thread.html#3550">[ thread ]</a>
              <a href="subject.html#3550">[ subject ]</a>
              <a href="author.html#3550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi mille
ok I understand better why rtt doesn't fit your use.
As Robert says before you should read back the modelview accumulated by the cull pass ..
so 2 solutions:
-either you'll have to override traverse() method on all nodes
-either you'll have setup your own CullVisitor managing your scenegraph



mille25 wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> that was my first idea as well, however, then I realized that this approach does not work.
</I>&gt;<i> 
</I>&gt;<i> The problem is that there is no way to know if a certain pixel still shows the same fragment. For example, if the camera view angle changes by 180 degrees in one frame, the pixel at the 0,0 texture coordinate would no longer refer to the same fragment. Therefore, the program would compute the delta between two unrelated fragments, yielding a wrong result.
</I>&gt;<i> 
</I>&gt;<i> However, with my approach, the program would calculate the old fragment position by using the old view matrix (pre 180 degree change) and the model matrix (unchanged in this example), compute the distance to the camera and compare it to the old distance, resulting in 0. 
</I>&gt;<i> 
</I>&gt;<i> Or another example: Imagine the camera looking at the ground (perfectly planar surface) at a 45 degree angle and moving forward every frame. If I only compared the pixel values of the output texture, every point on the ground would yield a 0 delta distance, because the new fragment is just as close to the camera as the old fragment. However, with my approach, each fragment would show a negative delta distance, because they moved towards the camera.
</I>&gt;<i> 
</I>&gt;<i> Thank you!
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Philipp
</I>

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=67930#67930">http://forum.openscenegraph.org/viewtopic.php?p=67930#67930</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003549.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
	<LI>Next message: <A HREF="003552.html">[osg-users] Get current Billboard ModelView matrix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3550">[ date ]</a>
              <a href="thread.html#3550">[ thread ]</a>
              <a href="subject.html#3550">[ subject ]</a>
              <a href="author.html#3550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
