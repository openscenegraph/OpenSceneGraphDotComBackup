<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] ColorMask and depth information issue.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20ColorMask%20and%20depth%20information%20issue.&In-Reply-To=%3CCAFN7Y%2BWJGuj3tFgb_j5OR%2B1S2ArLBuYWNpauX7Min%3D8SnbxeUQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001209.html">
   <LINK REL="Next"  HREF="001215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] ColorMask and depth information issue.</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20ColorMask%20and%20depth%20information%20issue.&In-Reply-To=%3CCAFN7Y%2BWJGuj3tFgb_j5OR%2B1S2ArLBuYWNpauX7Min%3D8SnbxeUQ%40mail.gmail.com%3E"
       TITLE="[osg-users] ColorMask and depth information issue.">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Aug 14 12:00:00 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001209.html">[osg-users] ColorMask and depth information issue.
</A></li>
        <LI>Next message: <A HREF="001215.html">[osg-users] ColorMask and depth information issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1212">[ date ]</a>
              <a href="thread.html#1212">[ thread ]</a>
              <a href="subject.html#1212">[ subject ]</a>
              <a href="author.html#1212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Alessandro,

I have run osgviewer with all three models:

   osgviewer bm_209.osg  bnm_147.osg  occluder_163.osg

When I rotate the view so the occluder plane comes down in front of the
boxes the pink box disappears and the yellow boxes stays on screen.

Looking at the three models this is exactly what I'd expect.  The yellow
box doesn't get occluded before it's getting drawn first, then the
occluder, then the pink box.  The occluder doesn't get seen because the
ColorMask is disable colour writes.

If you want both boxes to be occluded then you need to set the RenderBin
details for this subgraph so the RenderBin number is something like -1 so
it's drawn before the default opaque bin (RenderBin number 0).  Without
this explicit setting the rendering order can become arbitrary, sometimes
it might be the occluder would be drawn first other times not.

Robert.


On 14 August 2015 at 14:48, Alessandro Terenzi &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">a.terenzi at gmail.com</A>&gt; wrote:

&gt;<i> Have you tried to rotate the view? There's a plane hanging over the red
</I>&gt;<i> and yellow boxes and unless you move the camera you won't realize about
</I>&gt;<i> it's presence in the scene (regardless of the ColorMask).
</I>&gt;<i>
</I>&gt;<i> I'm attaching a couple of screenshots related to what I get with and
</I>&gt;<i> without the color mask applied to the plane after having rotated the camera
</I>&gt;<i> a little bit.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Alessandro
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64771#64771">http://forum.openscenegraph.org/viewtopic.php?p=64771#64771</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Attachments:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_43_16_67_211.png">http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_43_16_67_211.png</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_42_16_14_317.png">http://forum.openscenegraph.org//files/osgviewer_2015_08_14_15_42_16_14_317.png</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150814/02382cbd/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150814/02382cbd/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001209.html">[osg-users] ColorMask and depth information issue.
</A></li>
	<LI>Next message: <A HREF="001215.html">[osg-users] ColorMask and depth information issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1212">[ date ]</a>
              <a href="thread.html#1212">[ thread ]</a>
              <a href="subject.html#1212">[ subject ]</a>
              <a href="author.html#1212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
