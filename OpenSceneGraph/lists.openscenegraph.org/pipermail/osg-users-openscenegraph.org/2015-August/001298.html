<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] &quot;LOS&quot; materail query
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%22LOS%22%20materail%20query&In-Reply-To=%3CCAFN7Y%2BXsjO5oVfTa%2Bq4n1pS%3DD2ULbaLD%3DsBnNYi%2BU3x-gQekLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="001295.html">
   <LINK REL="Next"  HREF="001299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] &quot;LOS&quot; materail query</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%22LOS%22%20materail%20query&In-Reply-To=%3CCAFN7Y%2BXsjO5oVfTa%2Bq4n1pS%3DD2ULbaLD%3DsBnNYi%2BU3x-gQekLQ%40mail.gmail.com%3E"
       TITLE="[osg-users] &quot;LOS&quot; materail query">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Aug 21 02:28:26 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001295.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
        <LI>Next message: <A HREF="001299.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Mike,

In the osgUtil::LineSegmentItersector::Intersection object there is now (in
OSG-3.2 onwards) the convenience method:

            /** Convenience function for mapping the intersection point to
any textures assigned to the objects intersected.
             *  Returns the Texture pointer and texture coords of object
hit when a texture is available on the object, returns NULL otherwise.*/
            osg::Texture* getTextureLookUp(osg::Vec3&amp; tc) const;

&gt;<i>From the Texture* you can then get the assigned osg::Image, and osg::Image
</I>has a convenience method:

        /** Get the color value for specified texcoord.*/
        Vec4 getColor(const Vec3&amp; texcoord) const;

Which should give you exactly what you want.  It's possible to everything
these new methods do on old versions of the OSG than 3.2 but you'll need to
replicate what these do internally.  Have a look at the source online for
these methods for inspiration.

Robert.


On 20 August 2015 at 20:58, Mike Greene &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">mgreene at hiwaay.net</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am wanting to do a dust cloud when an entity (helicopter) lands on a
</I>&gt;<i> terrain. Ideally, would like the color of the dust cloud to be similar to
</I>&gt;<i> the material/texture that the entity is on. Is there a way to do a
</I>&gt;<i> &quot;material/texture color&quot; query based on an entity position, kind of like an
</I>&gt;<i> LOS intersector test?
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Mike
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64857#64857">http://forum.openscenegraph.org/viewtopic.php?p=64857#64857</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150821/8090d424/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150821/8090d424/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001295.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
	<LI>Next message: <A HREF="001299.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
