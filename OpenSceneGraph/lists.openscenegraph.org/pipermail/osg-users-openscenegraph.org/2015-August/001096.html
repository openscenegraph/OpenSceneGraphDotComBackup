<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Segfault occuring in -- void Text::drawImplementation(osg::State&amp; state, const osg::Vec4&amp; colorMultiplier) const -- after updating from osg 3.3.1 to the current trunk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Segfault%20occuring%20in%20--%20void%0A%20Text%3A%3AdrawImplementation%28osg%3A%3AState%26%20state%2C%0A%20const%20osg%3A%3AVec4%26%20colorMultiplier%29%20const%20--%20after%20updating%20from%20osg%203.3.1%20to%0A%20the%20current%20trunk&In-Reply-To=%3CCAFN7Y%2BVnXobaXPpYPZXzoTFTxcOy9hsYiqH07RiBxfahziSm0Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="001089.html">
   <LINK REL="Next"  HREF="001097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Segfault occuring in -- void Text::drawImplementation(osg::State&amp; state, const osg::Vec4&amp; colorMultiplier) const -- after updating from osg 3.3.1 to the current trunk</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Segfault%20occuring%20in%20--%20void%0A%20Text%3A%3AdrawImplementation%28osg%3A%3AState%26%20state%2C%0A%20const%20osg%3A%3AVec4%26%20colorMultiplier%29%20const%20--%20after%20updating%20from%20osg%203.3.1%20to%0A%20the%20current%20trunk&In-Reply-To=%3CCAFN7Y%2BVnXobaXPpYPZXzoTFTxcOy9hsYiqH07RiBxfahziSm0Q%40mail.gmail.com%3E"
       TITLE="[osg-users] Segfault occuring in -- void Text::drawImplementation(osg::State&amp; state, const osg::Vec4&amp; colorMultiplier) const -- after updating from osg 3.3.1 to the current trunk">robert.osfield at gmail.com
       </A><BR>
    <I>Thu Aug  6 09:08:17 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001089.html">[osg-users] Segfault occuring in -- void	Text::drawImplementation(osg::State&amp; state,	const osg::Vec4&amp; colorMultiplier) const -- after updating from osg	3.3.1 to the current trunk
</A></li>
        <LI>Next message: <A HREF="001097.html">[osg-users] Segfault occuring in -- void	Text::drawImplementation(osg::State&amp; state,	const osg::Vec4&amp; colorMultiplier) const -- after updating from osg	3.3.1 to the current trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1096">[ date ]</a>
              <a href="thread.html#1096">[ thread ]</a>
              <a href="subject.html#1096">[ subject ]</a>
              <a href="author.html#1096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Curtis,

On 5 August 2015 at 18:19, Curtis Rubel &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">crubel at compro.net</A>&gt; wrote:

&gt;<i> Just tested the trunk from a svn co from about 1 hour ago,
</I>&gt;<i> with my test osgviewerQT.cpp source.
</I>&gt;<i>
</I>&gt;<i> Still getting a segv when running it.  I was running in release
</I>&gt;<i> mode for this test so cannot verify if its exactly the same fault
</I>&gt;<i> or not....but it would seem that there is still some sort of issue
</I>&gt;<i> with this.
</I>&gt;<i>
</I>&gt;<i> I will rebuild in debug mode as soon as I have some more free time
</I>&gt;<i> and check to see if its the same bug or something different as
</I>&gt;<i> I saw before.
</I>&gt;<i>
</I>
I have just added some more checks into src/osgText/Text.cpp so that it
should mange the chached coordinate arrays more robustly, your example no
longer crashes like it was prior these latest changes.  This fixes are now
checked into svn/trunk and the OSG-3.4 branch and part of the
OSG-3.4.0-rc10.

While your example doesn't crash for me now, it hangs in the swap buffers,
without even a window appearing on screen so it looks like there are other
problems with this particular example unrelated to the osgText issue that
is hopefully now resolved.  I'm no Qt expert so am not about to dive into
why your example doesn't bring up a context correctly.

Could you please try out OSG svn/trunk, OSG-3.4 branch or the 3.4.0-rc10
and let me know if your text usage now works with your application.

Robert.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150806/eb14c37a/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150806/eb14c37a/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001089.html">[osg-users] Segfault occuring in -- void	Text::drawImplementation(osg::State&amp; state,	const osg::Vec4&amp; colorMultiplier) const -- after updating from osg	3.3.1 to the current trunk
</A></li>
	<LI>Next message: <A HREF="001097.html">[osg-users] Segfault occuring in -- void	Text::drawImplementation(osg::State&amp; state,	const osg::Vec4&amp; colorMultiplier) const -- after updating from osg	3.3.1 to the current trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1096">[ date ]</a>
              <a href="thread.html#1096">[ thread ]</a>
              <a href="subject.html#1096">[ subject ]</a>
              <a href="author.html#1096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
