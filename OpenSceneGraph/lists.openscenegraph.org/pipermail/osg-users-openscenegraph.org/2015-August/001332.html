<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] &quot;LOS&quot; materail query
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%22LOS%22%20materail%20query&In-Reply-To=%3C1440591870.m2f.64903%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="001325.html">
   <LINK REL="Next"  HREF="001333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] &quot;LOS&quot; materail query</H1>
<!--htdig_noindex-->
    <B>Mike Greene</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%22LOS%22%20materail%20query&In-Reply-To=%3C1440591870.m2f.64903%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] &quot;LOS&quot; materail query">mgreene at hiwaay.net
       </A><BR>
    <I>Wed Aug 26 05:24:30 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001325.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
        <LI>Next message: <A HREF="001333.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1332">[ date ]</a>
              <a href="thread.html#1332">[ thread ]</a>
              <a href="subject.html#1332">[ subject ]</a>
              <a href="author.html#1332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Yes, a null texture is the problem. I am using the osgparticleeffects example, as I know the object does have a texture. It is the example where you click on the terrain and at that point an explosion and smoke effect starts. 

But when printing out the coordinates of &quot;hit&quot; in the code above, they do show valid locations on the terrain whenever a mouse &quot;clicks&quot; on the terrain to place a particle effect. Using one of these valid &quot;hits&quot;, I then use that intersection to try the texture return code.

For example, one of the hit outputs that I ran returned an X,Y,Z of 
838.203, 840.662, 268.477 (LocalIntersectPoint), but the texture returned is NULL and of course then tc is (0,0,0).

Debugging the code for getTextureLookup, the first two lines :

Code:

osg::Texture* LineSegmentIntersector::Intersection::getTextureLookUp(osg::Vec3&amp; tc) const
{
    osg::Geometry* geometry = drawable.valid() ? drawable-&gt;asGeometry() : 0;
    osg::Vec3Array* vertices = geometry ? dynamic_cast&lt;osg::Vec3Array*&gt;(geometry-&gt;getVertexArray()) : 0;




show that drawable.valid is true, but then the value of vertices is always all zeroes.
... 

Thank you!

Cheers,
Mike[/code]

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64903#64903">http://forum.openscenegraph.org/viewtopic.php?p=64903#64903</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001325.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
	<LI>Next message: <A HREF="001333.html">[osg-users] &quot;LOS&quot; materail query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1332">[ date ]</a>
              <a href="thread.html#1332">[ thread ]</a>
              <a href="subject.html#1332">[ subject ]</a>
              <a href="author.html#1332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
