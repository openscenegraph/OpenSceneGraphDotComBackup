<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [build] Building OSG on OS X 10.10.4 - ffmpeg issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5Bbuild%5D%20Building%20OSG%20on%20OS%20X%2010.10.4%20-%20ffmpeg%20issue&In-Reply-To=%3CCAFN7Y%2BUcvCu%3DnTn6wm_F%3DRrrRCorGjwtc1ir-nshm%2BCpO%2BWp0A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="277472.html">
   <LINK REL="Next"  HREF="277473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [build] Building OSG on OS X 10.10.4 - ffmpeg issue</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5Bbuild%5D%20Building%20OSG%20on%20OS%20X%2010.10.4%20-%20ffmpeg%20issue&In-Reply-To=%3CCAFN7Y%2BUcvCu%3DnTn6wm_F%3DRrrRCorGjwtc1ir-nshm%2BCpO%2BWp0A%40mail.gmail.com%3E"
       TITLE="[osg-users] [build] Building OSG on OS X 10.10.4 - ffmpeg issue">robert.osfield at gmail.com
       </A><BR>
    <I>Tue Aug 18 02:34:08 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="277472.html">[osg-users] [build] Building OSG on OS X 10.10.4 - ffmpeg issue
</A></li>
        <LI>Next message: <A HREF="277473.html">[osg-users] [build] Build Openscenegraph 3.2.1 in OSX Yosemite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1254">[ date ]</a>
              <a href="thread.html#1254">[ thread ]</a>
              <a href="subject.html#1254">[ subject ]</a>
              <a href="author.html#1254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Jeffrey,

OSX has a feature where you can built for multiple architectures within the
same lib/binary, and by default CMake will be selecting this for, but it
requires all the dependencies to be built this way too, you can't mix and
match.  In your case you'll either need to install a ffmpeg that supports
the same range of architectures as your OSG build or going into ccmake to
adjust the build target so it's the same as ffmpeg.

Robert.

On 14 August 2015 at 20:18, Jeffrey Haines &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">jeffhaines at me.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm trying to compile OSG on OS X 10.10.4
</I>&gt;<i>
</I>&gt;<i> I have all the dependencies install using homebrew.
</I>&gt;<i>
</I>&gt;<i> My build stops at 94% and its related to ffmpeg.
</I>&gt;<i>
</I>&gt;<i> I need help figuring this out.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i> [ 94%] Building CXX object
</I>&gt;<i> src/osgPlugins/ffmpeg/CMakeFiles/osgdb_ffmpeg.dir/ReaderWriterFFmpeg.cpp.o
</I>&gt;<i> [ 95%] Linking CXX shared module
</I>&gt;<i> ../../../lib/osgPlugins-3.2.3/osgdb_ffmpeg.so
</I>&gt;<i> Undefined symbols for architecture x86_64:
</I>&gt;<i>   &quot;_av_abuffersink_params_alloc&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_av_buffersink_get_buffer_ref&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_packet in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_av_buffersink_params_alloc&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_get_by_name&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_alloc&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_config&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_create_filter&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_dump&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_free&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_close in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_graph_parse&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_inout_free&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_link&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_register_all&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_header in libavdevice.a(lavfi.o)
</I>&gt;<i>   &quot;_avfilter_unref_buffer&quot;, referenced from:
</I>&gt;<i>       _lavfi_read_packet in libavdevice.a(lavfi.o)
</I>&gt;<i> ld: symbol(s) not found for architecture x86_64
</I>&gt;<i> clang: error: linker command failed with exit code 1 (use -v to see
</I>&gt;<i> invocation)
</I>&gt;<i> make[2]: *** [lib/osgPlugins-3.2.3/osgdb_ffmpeg.so] Error 1
</I>&gt;<i> make[1]: *** [src/osgPlugins/ffmpeg/CMakeFiles/osgdb_ffmpeg.dir/all] Error
</I>&gt;<i> 2
</I>&gt;<i> make: *** [all] Error 2
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Jeffrey
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64775#64775">http://forum.openscenegraph.org/viewtopic.php?p=64775#64775</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150818/3ab28741/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150818/3ab28741/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="277472.html">[osg-users] [build] Building OSG on OS X 10.10.4 - ffmpeg issue
</A></li>
	<LI>Next message: <A HREF="277473.html">[osg-users] [build] Build Openscenegraph 3.2.1 in OSX Yosemite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1254">[ date ]</a>
              <a href="thread.html#1254">[ thread ]</a>
              <a href="subject.html#1254">[ subject ]</a>
              <a href="author.html#1254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
