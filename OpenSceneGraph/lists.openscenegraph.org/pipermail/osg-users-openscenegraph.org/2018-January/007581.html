<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BosgPlugins%5D%20iOS/OSX%3A%20avfoundation%20plugin%20not%0A%20reporting%20correct%20media%20duration&In-Reply-To=%3CCAFN7Y%2BXb1sBWyaJDrpNvcHxMiNwvXhD51F24Ays-G7AFBCjDXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007580.html">
   <LINK REL="Next"  HREF="007585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BosgPlugins%5D%20iOS/OSX%3A%20avfoundation%20plugin%20not%0A%20reporting%20correct%20media%20duration&In-Reply-To=%3CCAFN7Y%2BXb1sBWyaJDrpNvcHxMiNwvXhD51F24Ays-G7AFBCjDXg%40mail.gmail.com%3E"
       TITLE="[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Jan 19 01:05:36 PST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007580.html">[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration
</A></li>
        <LI>Next message (by thread): <A HREF="007585.html">[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7581">[ date ]</a>
              <a href="thread.html#7581">[ thread ]</a>
              <a href="subject.html#7581">[ subject ]</a>
              <a href="author.html#7581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Alessandro,

Has AVFoundation changed?  Or do you think that the original code was
likely wrong all along?

If there is chance that different versions work slightly different
then making your suggested change could break older versions so we
might need to put some version handling around it.

Robert.

On 19 January 2018 at 08:50, Alessandro Terenzi &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">a.terenzi at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i> I found out that when you want to know the duration of a media file, specifically a movie, the instruction:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i> _videoDuration = CMTimeGetSeconds([_data-&gt;avplayer.currentItem duration]);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> returns 0, I tried to use the following instead:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i> _videoDuration = CMTimeGetSeconds([[_data-&gt;avplayer.currentItem asset] duration]);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> that seems to return the correct movie's duration in seconds.
</I>&gt;<i>
</I>&gt;<i> If you agree I will send a pull request about this fix.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Alessandro
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=72784#72784">http://forum.openscenegraph.org/viewtopic.php?p=72784#72784</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>





































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007580.html">[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration
</A></li>
	<LI>Next message (by thread): <A HREF="007585.html">[osg-users] [osgPlugins] iOS/OSX: avfoundation plugin not reporting correct media duration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7581">[ date ]</a>
              <a href="thread.html#7581">[ thread ]</a>
              <a href="subject.html#7581">[ subject ]</a>
              <a href="author.html#7581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
