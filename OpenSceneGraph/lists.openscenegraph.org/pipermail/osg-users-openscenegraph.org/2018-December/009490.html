<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Rendering stats crash on FreeBSD with i915.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Rendering%20stats%20crash%20on%20FreeBSD%20with%20i915.&In-Reply-To=%3C20181222021434.GA35907%40freebird%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="009487.html">
   <LINK REL="Next"  HREF="009499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Rendering stats crash on FreeBSD with i915.</H1>
<!--htdig_noindex-->
    <B>Michael Danilov</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Rendering%20stats%20crash%20on%20FreeBSD%20with%20i915.&In-Reply-To=%3C20181222021434.GA35907%40freebird%3E"
       TITLE="[osg-users] Rendering stats crash on FreeBSD with i915.">mike.d.ft402 at gmail.com
       </A><BR>
    <I>Fri Dec 21 18:14:34 PST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009487.html">[osg-users] Working with osg::Text on animation
</A></li>
        <LI>Next message (by thread): <A HREF="009499.html">[osg-users] Write PagedLOD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9490">[ date ]</a>
              <a href="thread.html#9490">[ thread ]</a>
              <a href="subject.html#9490">[ subject ]</a>
              <a href="author.html#9490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>OSG crashes when trying to dispay stats more detailed than Frame Rate.
When viewing any .ac model, hit &quot;s&quot; twice. It will draw the detailed stats once and crash immediately.

#0  0x0000000000000000 in ?? ()
#1  0x00000000408a6218 in ARBQuerySupport::beginQuery () from /usr/local/lib/libosgViewer.so.131
#2  0x00000000408ab0de in osgViewer::Renderer::draw () from /usr/local/lib/libosgViewer.so.131
#3  0x0000000041b5d8e1 in osg::GraphicsContext::runOperations () from /usr/local/lib/libosg.so.131
#4  0x0000000041bc3d72 in osg::OperationThread::run () from /usr/local/lib/libosg.so.131
#5  0x0000000041b60eb9 in osg::GraphicsThread::run () from /usr/local/lib/libosg.so.131
#6  0x0000000041f13b09 in OpenThreads::ThreadPrivateActions::StartThread () from /usr/local/lib/libOpenThreads.so.20
#7  0x000000004321ec06 in pthread_create () from /lib/libthr.so.3
#8  0x0000000000000000 in ?? ()

Trace with --SingleThreaded:

#0  0x0000000000000000 in ?? ()
#1  0x00000000408a6228 in ARBQuerySupport::beginQuery () from /usr/local/lib/libosgViewer.so.131
#2  0x00000000408ab86c in osgViewer::Renderer::cull_draw () from /usr/local/lib/libosgViewer.so.131
#3  0x0000000041b5d8e1 in osg::GraphicsContext::runOperations () from /usr/local/lib/libosg.so.131
#4  0x00000000408e2e0b in osgViewer::ViewerBase::renderingTraversals () from /usr/local/lib/libosgViewer.so.131
#5  0x00000000408e1e4c in osgViewer::ViewerBase::run () from /usr/local/lib/libosgViewer.so.131
#6  0x00000000004044f0 in ?? ()
#7  0x0000000000402d95 in ?? ()
#8  0x0000000040629000 in ?? ()
#9  0x0000000000000000 in ?? ()

I noticed this bug when using FlightGear, which crashes when displaying stats as well.

OpenSceneGraph Library 3.4.1
FreeBSD clang version 6.0.0 (tags/RELEASE_600/final 326565) (based on LLVM 6.0.0)
Both i915 kernel modules affected: the one shipped with the kernel and drm-next-kmod.
Both modeset and intel X11 video drivers affected.
FreeBSD-11.2-RELEASE-p4
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009487.html">[osg-users] Working with osg::Text on animation
</A></li>
	<LI>Next message (by thread): <A HREF="009499.html">[osg-users] Write PagedLOD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9490">[ date ]</a>
              <a href="thread.html#9490">[ thread ]</a>
              <a href="subject.html#9490">[ subject ]</a>
              <a href="author.html#9490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
