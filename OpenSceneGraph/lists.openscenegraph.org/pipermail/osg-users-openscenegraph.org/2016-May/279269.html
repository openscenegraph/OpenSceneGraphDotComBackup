<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Arcball Camera without unexpecting 'roll' of the camera
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Arcball%20Camera%20without%20unexpecting%20%27roll%27%20of%20the%20camera&In-Reply-To=%3C1463403547.m2f.67113%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="003064.html">
   <LINK REL="Next"  HREF="003058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Arcball Camera without unexpecting 'roll' of the camera</H1>
<!--htdig_noindex-->
    <B>Daniel Neos</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Arcball%20Camera%20without%20unexpecting%20%27roll%27%20of%20the%20camera&In-Reply-To=%3C1463403547.m2f.67113%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Arcball Camera without unexpecting 'roll' of the camera">daniel.rd at hotmail.de
       </A><BR>
    <I>Mon May 16 05:59:07 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003064.html">[osg-users] How does PIXEL_SIZE_ON_SCREEN work
</A></li>
        <LI>Next message: <A HREF="003058.html">[osg-users] Arcball Camera without unexpecting 'roll' of the	camera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279269">[ date ]</a>
              <a href="thread.html#279269">[ thread ]</a>
              <a href="subject.html#279269">[ subject ]</a>
              <a href="author.html#279269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi everyone,

I have implemented a Cameramanipulator by myself, because I need more individually control over the camera in the scene, like rotating around a specific axis.

I let osg compute the Boundingsphere of my scene and set the rotationpoint and the lookat-point or center-point at the center of the Boundingsphere.

My rotation works like this

1.) Translate the camera to the center of the Boundingsphere (Multiplicated from the right side of the viewmatrix of the camera fist)

2.) Rotate the viewmatrix by the OSG::x_axis and OSG::y_axis (depending on the mousemovement)

3.) Translate the camera back with the vector from step 1.

4.) Now with the last step I ensure, that the camera stays focused at the samepoint by getting the eye, center and up vector and reseting the center vector, while eye and up remains the same.

This usually works fine and it is easy to navigate through the scene with the mouse, but as I reach some regions the camera unexpectedly seem to rotate around its own z-axis which results in to a 'roll'.

How can I prevent this behaviour? Sample code with arcball camera would be appreciated too :)

Thank you!

Cheers,
Daniel

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=67113#67113">http://forum.openscenegraph.org/viewtopic.php?p=67113#67113</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003064.html">[osg-users] How does PIXEL_SIZE_ON_SCREEN work
</A></li>
	<LI>Next message: <A HREF="003058.html">[osg-users] Arcball Camera without unexpecting 'roll' of the	camera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279269">[ date ]</a>
              <a href="thread.html#279269">[ thread ]</a>
              <a href="subject.html#279269">[ subject ]</a>
              <a href="author.html#279269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
