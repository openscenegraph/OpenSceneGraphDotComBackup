<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [Toward BufferObject serialization] Geometry serializer FinishedObjectReadCallback???
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BToward%20BufferObject%20serialization%5D%20Geometry%0A%20serializer%20FinishedObjectReadCallback%3F%3F%3F&In-Reply-To=%3CCAFN7Y%2BUeup4HJ3q_XHOGSsOJ225mWo_uoWMM5AmfW0TEOpojuw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="279318.html">
   <LINK REL="Next"  HREF="003115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [Toward BufferObject serialization] Geometry serializer FinishedObjectReadCallback???</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BToward%20BufferObject%20serialization%5D%20Geometry%0A%20serializer%20FinishedObjectReadCallback%3F%3F%3F&In-Reply-To=%3CCAFN7Y%2BUeup4HJ3q_XHOGSsOJ225mWo_uoWMM5AmfW0TEOpojuw%40mail.gmail.com%3E"
       TITLE="[osg-users] [Toward BufferObject serialization] Geometry serializer FinishedObjectReadCallback???">robert.osfield at gmail.com
       </A><BR>
    <I>Mon May 23 01:53:27 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="279318.html">[osg-users] [Toward BufferObject serialization] Geometry serializer	FinishedObjectReadCallback???
</A></li>
        <LI>Next message: <A HREF="003115.html">[osg-users] [Toward BufferObject serialization] Geometry	serializer FinishedObjectReadCallback???
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3112">[ date ]</a>
              <a href="thread.html#3112">[ thread ]</a>
              <a href="subject.html#3112">[ subject ]</a>
              <a href="author.html#3112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Julian,

I have a vague recollection that this callback had to be used to force
the VBO to be built or something along those lines.  Off the top of my
head I don't recall the exact problem that instigated the change and
the contributor that came up with this solution.  Perhaps git log for
the files in question might help piece together why it's done.

Robert.

On 20 May 2016 at 17:35, Julien Valentin &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">julienvalentin51 at gmail.com</A>&gt; wrote:
&gt;<i> Hi,all
</I>&gt;<i> I would like to provide osg TransformFeedback serialization feature but something weird forbid BufferObject serialization:
</I>&gt;<i> This callback calls setUseVertexBufferObjects(false) and just kill all BufferObject attached the geometry's BufferDatas
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i> struct GeometryFinishedObjectReadCallback : public osgDB::FinishedObjectReadCallback
</I>&gt;<i> {
</I>&gt;<i>     virtual void objectRead(osgDB::InputStream&amp;, osg::Object&amp; obj)
</I>&gt;<i>     {
</I>&gt;<i>         osg::Geometry&amp; geometry = static_cast&lt;osg::Geometry&amp;&gt;(obj);
</I>&gt;<i>         if (geometry.getUseVertexBufferObjects())
</I>&gt;<i>         {
</I>&gt;<i>             geometry.setUseVertexBufferObjects(false);
</I>&gt;<i>             geometry.setUseVertexBufferObjects(true);
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't understand the utility of this callback (surely because I want to remove it:) )
</I>&gt;<i> Does anyone know its purpose?
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Julien
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=67181#67181">http://forum.openscenegraph.org/viewtopic.php?p=67181#67181</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="279318.html">[osg-users] [Toward BufferObject serialization] Geometry serializer	FinishedObjectReadCallback???
</A></li>
	<LI>Next message: <A HREF="003115.html">[osg-users] [Toward BufferObject serialization] Geometry	serializer FinishedObjectReadCallback???
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3112">[ date ]</a>
              <a href="thread.html#3112">[ thread ]</a>
              <a href="subject.html#3112">[ subject ]</a>
              <a href="author.html#3112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
