<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Question about security of shader developments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Question%20about%20security%20of%20shader%20developments&In-Reply-To=%3C42d15579-f73b-9fb2-14af-ab0188f05fce%40modenbach-ac.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="009673.html">
   <LINK REL="Next"  HREF="009676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Question about security of shader developments</H1>
<!--htdig_noindex-->
    <B>Werner Modenbach</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Question%20about%20security%20of%20shader%20developments&In-Reply-To=%3C42d15579-f73b-9fb2-14af-ab0188f05fce%40modenbach-ac.de%3E"
       TITLE="[osg-users] Question about security of shader developments">texion at modenbach-ac.de
       </A><BR>
    <I>Thu Jan 31 02:43:13 PST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009673.html">[osg-users] Question about security of shader developments
</A></li>
        <LI>Next message (by thread): <A HREF="009676.html">[osg-users] Question about security of shader developments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9674">[ date ]</a>
              <a href="thread.html#9674">[ thread ]</a>
              <a href="subject.html#9674">[ subject ]</a>
              <a href="author.html#9674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Michael and all other people responding to my request,

first of all thank you very much!

@Michael: What you suggest is something like asking Zuckerberg to
publish his algorithms.
&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; And belief me, Chinese don't care at all about patents
or other rules we usually accept here.

I'm really surprised that there is no real solution for my problem.
Since OpenGL 4 all developers are advised to create their own shaders.
And once you get familiar
with that you quickly discover the potential of it. A good portion of
your know how gets transferred to shaders.
This should be a common problem in the commercial field. And no solution
from NVIDIA etc. ?

@Robert: Thanks for pointing me to SPIR-V. I'll have a look at it.
Anyway better than pure source code.
&#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; Unfortunately not natively supported by OSG.

Hiding shader source code inside an executable is not that problem
because all our executables are encrypted.
And memory spy during runtime is detected already.
The problem here is the driver api.

@Damian: Do you have any links for detecting OpenGL/GPU debuggers?

Many, many thanks to everybody.

- Werner -

Am 31.01.2019 um 10:29 schrieb michael kapelko:
&gt;<i> Hi.
</I>&gt;<i>
</I>&gt;<i> You may have a look at the problem from a different angle. If someone
</I>&gt;<i> is stealing from you that means they need it. If you cannot stop it
</I>&gt;<i> (or it costs much more than simply let them have it), then you should
</I>&gt;<i> lead it. Instead of hiding your great shaders you can publish them
</I>&gt;<i> yourself (don't forget to add some notes about your company in the
</I>&gt;<i> comments)! This would be the marketing way of handling the problem.
</I>&gt;<i>
</I>&gt;<i> On Thu, 31 Jan 2019 at 12:17, Damian Dixon &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">damian.dixon at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't know what the OSG solution to this would be.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You could obfuscate the shader code. Though to be honest this would only slow someone down not stop them from obtaining the shader source.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In addition to obfusication put the shader source into the DLL/exe and potentially hide the strings by a simple rotation or masking of the data.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You could add additional logic to detect OpenGL/GPU debuggers and/or check the OpenGL shared library is loaded from sensible locations.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The other options would be to look at the following in OpenGL. I've not used either of them so they may not work particularly well.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_gl_spirv.txt">https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_gl_spirv.txt</A> (OpenGL 4.6)
</I>&gt;&gt;<i> <A HREF="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glShaderBinary.xhtml">https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glShaderBinary.xhtml</A> (OpenGL 4.1)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You may find that the SPIRV extension is not widely supported yet on all GPUs and drivers (mesa support is not yet there) that your customers are using. SPIRV modules are an intermediate compiled representation of the shaders so someone with a lot of time could reverse engineer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The shader binary I believe may be limited to the GPU/driver that it was compiled for.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also OSG would need to be modified to use SPIRV or shader binaries.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Most of this is a trade off between cost of implementation, additional test and support costs and lost revenue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards
</I>&gt;&gt;<i> Damian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, 30 Jan 2019 at 17:50, Werner Modenbach &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">texion at modenbach-ac.de</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Dear Robert, dear community,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I use OSG since many years now with great success. But being honest I
</I>&gt;&gt;&gt;<i> usually just use the osg api and direct gl calls are very rare in our code.
</I>&gt;&gt;&gt;<i> That's the reason why I ask people with more gl experience here.
</I>&gt;&gt;&gt;<i> I'm working in a commercial environment. Unfortunately we have very bad
</I>&gt;&gt;&gt;<i> experience about the security of our developments
</I>&gt;&gt;&gt;<i> especially with a famous Asian country. Cracking and copying is the
</I>&gt;&gt;&gt;<i> normal case there.
</I>&gt;&gt;&gt;<i> During the years we have established a quite secure environment for our
</I>&gt;&gt;&gt;<i> executables by encrypting the them and by detecting
</I>&gt;&gt;&gt;<i> debugging and sniffing tools running in parallel.
</I>&gt;&gt;&gt;<i> There is mainly one really weak part, the shaders we develop.
</I>&gt;&gt;&gt;<i> We spent years now in very complex and highly optimized shaders and I
</I>&gt;&gt;&gt;<i> have sleepless nights knowing that the shader code is
</I>&gt;&gt;&gt;<i> transferred to the driver as plain source code.
</I>&gt;&gt;&gt;<i> My question: Is there any way solving this problem? Is there any driver
</I>&gt;&gt;&gt;<i> api for that? I searched all over OSG but didn't find anything.
</I>&gt;&gt;&gt;<i> Is this feature missing in general or is it just not in the OSG api?
</I>&gt;&gt;&gt;<i> If all the questions are answered NO can anybody provide a contact to
</I>&gt;&gt;&gt;<i> NVIDIA for discussing this problem?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Many thanks in advance for any hints and help.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> - Werner -
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>

</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009673.html">[osg-users] Question about security of shader developments
</A></li>
	<LI>Next message (by thread): <A HREF="009676.html">[osg-users] Question about security of shader developments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9674">[ date ]</a>
              <a href="thread.html#9674">[ thread ]</a>
              <a href="subject.html#9674">[ subject ]</a>
              <a href="author.html#9674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
