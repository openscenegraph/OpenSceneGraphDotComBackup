<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to realize volume rendering for medical use
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20realize%20volume%20rendering%20for%20medical%20use&In-Reply-To=%3C8aa0e1e8-2463-4b35-acb3-60998b16b356%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010663.html">
   <LINK REL="Next"  HREF="010664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to realize volume rendering for medical use</H1>
<!--htdig_noindex-->
    <B>Yuhui Ren</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20realize%20volume%20rendering%20for%20medical%20use&In-Reply-To=%3C8aa0e1e8-2463-4b35-acb3-60998b16b356%40googlegroups.com%3E"
       TITLE="[osg-users] How to realize volume rendering for medical use">yuhuimoon at gmail.com
       </A><BR>
    <I>Tue Dec 24 19:40:40 PST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010663.html">[osg-users] How to realize volume rendering for medical use
</A></li>
        <LI>Next message (by thread): <A HREF="010664.html">[osg-users]  Computer repair services phone number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10674">[ date ]</a>
              <a href="thread.html#10674">[ thread ]</a>
              <a href="subject.html#10674">[ subject ]</a>
              <a href="author.html#10674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I want to show different parts of one man's head, such as brain, 
bones, blood vessel, muscle and other tissue, by using color functions and 
gradient opacity function. As the following pictures of reference software, 
I can get different effects by adjusting control points, including scalar 
color mapping, scalar opacity mapping and gradient opacity.

[image: 2019-12-25_111721.png][image: 2019-12-25_111539.png] 

I have run the osgVolume demo of OSG. I try to find any transfer function 
to adjust effect I want. But I can't find more function besides 
&quot;TransferFunction1D&quot; and &quot;AlphaFuncProperty&quot;. And the member functions of 
them are too less to realize the effects I want. This is some parts of my 
code.


osg::ref_ptr&lt;osg::TransferFunction1D&gt; transferFunction;

transferFunction = new osg::TransferFunction1D;

transferFunction-&gt;setColor(0.4, osg::Vec4(0.75,0.25,0.12,0.0));

transferFunction-&gt;setColor(0.5, osg::Vec4(0.975, 0.9, 0.82, 0.6));

transferFunction-&gt;setColor(0.6, osg::Vec4(1, 1, 1, 0.6));

transferFunction-&gt;setColor(1.0, osg::Vec4(0.9, 0.9, 0.9, 0.6));


float alphaFunc=0.02f;

osgVolume::AlphaFuncProperty* ap = new osgVolume::AlphaFuncProperty(alphaFunc);

osgVolume::CompositeProperty* cp = new osgVolume::CompositeProperty;

cp-&gt;addProperty(ap);


This is the result of my demo.

[image: 2019-12-25_112706.png]




I'm confused with how to get better effect by OSG volume rendering. I have 
attached the source code file. Thanks.




On Tuesday, December 24, 2019 at 11:58:17 PM UTC+8, Robert Osfield wrote:
&gt;<i>
</I>&gt;<i> Hi Yuhui,
</I>&gt;<i>
</I>&gt;<i> On Sunday, 22 December 2019 08:40:00 UTC, Yuhui Ren wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a 3D medical application developed by OSG. I want to realize 
</I>&gt;&gt;<i> volume rendering of CT/MRI dataset. Refer to the figure below.  I can set 
</I>&gt;&gt;<i> different effects of rendering. I have browse the osgVolume. I find that 
</I>&gt;&gt;<i> the transfer functions are too few to realize the effect I want. So what 
</I>&gt;&gt;<i> I&#8217;m asking really if anybody has any advice. It would be really 
</I>&gt;&gt;<i> appreciated, thanks!
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't know what you are looking for so can't provide any specific 
</I>&gt;<i> advice.  
</I>&gt;<i>
</I>&gt;<i> What do you mean by &quot;the transfer functions are too few&quot;?  
</I>&gt;<i>
</I>&gt;<i> What effect do you want?
</I>&gt;<i>  
</I>&gt;<i> Cheers,
</I>&gt;<i> Robert.
</I>&gt;<i>
</I>
-- 
You received this message because you are subscribed to the Google Groups &quot;OpenSceneGraph Users&quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email to <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users+unsubscribe at googlegroups.com.</A>
To view this discussion on the web visit <A HREF="https://groups.google.com/d/msgid/osg-users/8aa0e1e8-2463-4b35-acb3-60998b16b356%40googlegroups.com.">https://groups.google.com/d/msgid/osg-users/8aa0e1e8-2463-4b35-acb3-60998b16b356%40googlegroups.com.</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20191224/43af8755/attachment-0001.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191224/43af8755/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: main.cpp
Type: text/x-c++src
Size: 53623 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20191224/43af8755/attachment-0001.cpp">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191224/43af8755/attachment-0001.cpp</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2019-12-25_111721.png
Type: image/png
Size: 753060 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20191224/43af8755/attachment-0003.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191224/43af8755/attachment-0003.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2019-12-25_111539.png
Type: image/png
Size: 401500 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20191224/43af8755/attachment-0004.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191224/43af8755/attachment-0004.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2019-12-25_112706.png
Type: image/png
Size: 357489 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20191224/43af8755/attachment-0005.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191224/43af8755/attachment-0005.png</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010663.html">[osg-users] How to realize volume rendering for medical use
</A></li>
	<LI>Next message (by thread): <A HREF="010664.html">[osg-users]  Computer repair services phone number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10674">[ date ]</a>
              <a href="thread.html#10674">[ thread ]</a>
              <a href="subject.html#10674">[ subject ]</a>
              <a href="author.html#10674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
