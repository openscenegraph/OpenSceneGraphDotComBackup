<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20incorrectly%20imported%20TEXTURE_DIMENSION%20macro%20in%0A%20osgText_Text.frag&In-Reply-To=%3CCAFN7Y%2BWw7XKaEc1iLOjwuWeSM9K7X3Edh1uXND%2BRMLEu596N5g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010648.html">
   <LINK REL="Next"  HREF="010650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20incorrectly%20imported%20TEXTURE_DIMENSION%20macro%20in%0A%20osgText_Text.frag&In-Reply-To=%3CCAFN7Y%2BWw7XKaEc1iLOjwuWeSM9K7X3Edh1uXND%2BRMLEu596N5g%40mail.gmail.com%3E"
       TITLE="[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Dec 18 06:30:08 PST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010648.html">[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag
</A></li>
        <LI>Next message (by thread): <A HREF="010650.html">[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10649">[ date ]</a>
              <a href="thread.html#10649">[ thread ]</a>
              <a href="subject.html#10649">[ subject ]</a>
              <a href="author.html#10649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Cory,

On Wed, 18 Dec 2019 at 14:21, Cory Riddell &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">cory at codeware.com</A>&gt; wrote:

&gt;<i> Thank you for pointing me to exactly the right spot. I made a change at
</I>&gt;<i> the top of that function rather than in the spot you indicated.
</I>&gt;<i>
</I>&gt;<i> I set the locale immediately after the stringstream is constructed (line
</I>&gt;<i> 104):
</I>&gt;<i>
</I>&gt;<i>     std::stringstream ss;
</I>&gt;<i>     ss.imbue(std::locale::classic());
</I>&gt;<i>     ss&lt;&lt;std::fixed&lt;&lt;std::setprecision(3);
</I>&gt;<i>
</I>

This is exactly the fix I wrote 20 minutes ago, and now checked in :-)


<A HREF="https://github.com/openscenegraph/OpenSceneGraph/commit/1968f3d6e14fe4cdfa98df465c1f383d2bb7d8de">https://github.com/openscenegraph/OpenSceneGraph/commit/1968f3d6e14fe4cdfa98df465c1f383d2bb7d8de</A>

This fix is checked into OSG-3.6 branch and master.


&gt;<i> I see that the method createStateSet() is virtual. Rather than edit the
</I>&gt;<i> OSG source, would you advise creating a subclass and overriding this method?
</I>&gt;<i>
</I>
This is something you could do if you had to for older versions of the
OSG.  The best solution is to have it part of the stringstream setup in
Text.cpp as I'm sure this issue will crop up for others that change don't
have standard locale.

Cheers,
Robert.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20191218/17575b8a/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20191218/17575b8a/attachment.html</A>&gt;
</PRE>











<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010648.html">[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag
</A></li>
	<LI>Next message (by thread): <A HREF="010650.html">[osg-users] incorrectly imported TEXTURE_DIMENSION macro in osgText_Text.frag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10649">[ date ]</a>
              <a href="thread.html#10649">[ thread ]</a>
              <a href="subject.html#10649">[ subject ]</a>
              <a href="author.html#10649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
