<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Correct%20way%20to%20modify%20scene%20graph%20%5BSEC%3DUNCLASSIFIED%5D&In-Reply-To=%3C5D28B2B70064DB478038C53DF4F4CADF78256B7B%40EDNREX521.dsto.defence.gov.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007210.html">
   <LINK REL="Next"  HREF="007180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]</H1>
<!--htdig_noindex-->
    <B>Thamm, Russell</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Correct%20way%20to%20modify%20scene%20graph%20%5BSEC%3DUNCLASSIFIED%5D&In-Reply-To=%3C5D28B2B70064DB478038C53DF4F4CADF78256B7B%40EDNREX521.dsto.defence.gov.au%3E"
       TITLE="[osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]">Russell.Thamm at dst.defence.gov.au
       </A><BR>
    <I>Thu Nov 16 16:40:16 PST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007210.html">[osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]
</A></li>
        <LI>Next message (by thread): <A HREF="007180.html">[osg-users] [3rdparty] ImGui integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7227">[ date ]</a>
              <a href="thread.html#7227">[ thread ]</a>
              <a href="subject.html#7227">[ subject ]</a>
              <a href="author.html#7227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>UNCLASSIFIED
Thanks again Paul,

I am using ref_ptrs but maybe not properly.

I will analyse my code again.

Cheers
Russell


IMPORTANT: This email remains the property of the Department of Defence and is subject to the jurisdiction of section 70 of the Crimes Act 1914. If you have received this email in error, you are requested to contact the sender and delete the email.
From: Paul Pocock [mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">paul.tanja at internode.on.net</A>]
Sent: Tuesday, 14 November, 2017 2:34 p.m.
To: Thamm, Russell
Subject: Re: [osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]


Hi Russell, Sill question but are you using ref_ptrs ?

On 14/11/17 10:45, Thamm, Russell wrote:

UNCLASSIFIED
Hi Paul,

Thanks for your response.

The viewer is single-threaded. Furthermore, I now make all modifications to the scene tree in the render thread (prerender) but I still get the occasional crash in the render thread:

C:\Program Files\Microsoft Visual Studio  9.0\VC\include\vector line 116

Expression(&quot;this-&gt;_Has_Container()&quot;, 0)

Unfortunately the error doesn't occur reliably enough to track down. It does seem to occur when I modify the scene tree.

Cheers
Russell


IMPORTANT: This email remains the property of the Department of Defence and is subject to the jurisdiction of section 70 of the Crimes Act 1914. If you have received this email in error, you are requested to contact the sender and delete the email.
From: Paul Pocock [mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">paul.tanja at internode.on.net</A>]
Sent: Thursday, 9 November, 2017 2:50 p.m.
To: OpenSceneGraph Users; Thamm, Russell
Subject: Re: [osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]


Hi Russell,

I suppose setting the threading model to SingleThreaded is not an option, maybe set Root Node to DYNAMIC variance? I can't remember the actual call.

good luck,

On 09/11/17 14:49, Thamm, Russell wrote:

UNCLASSIFIED
Hi

I am in the process of porting an MFC application from plib to osg.

Currently, if I want to actually modify the scene graph (adding, deleting nodes etc) while the render thread is running I do the following:

parentNode-&gt;setNodeMask(0);
modify scene graph below parent node
parentNode-&gt;setNodeMask(~0);

This seems to work but is there a better way?

Cheers
Russell












IMPORTANT: This email remains the property of the Department of Defence and is subject to the jurisdiction of section 70 of the Crimes Act 1914. If you have received this email in error, you are requested to contact the sender and delete the email.



_______________________________________________

osg-users mailing list

<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>&lt;mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>&gt;

<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20171117/d6760907/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20171117/d6760907/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007210.html">[osg-users] Correct way to modify scene graph [SEC=UNCLASSIFIED]
</A></li>
	<LI>Next message (by thread): <A HREF="007180.html">[osg-users] [3rdparty] ImGui integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7227">[ date ]</a>
              <a href="thread.html#7227">[ thread ]</a>
              <a href="subject.html#7227">[ subject ]</a>
              <a href="author.html#7227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
