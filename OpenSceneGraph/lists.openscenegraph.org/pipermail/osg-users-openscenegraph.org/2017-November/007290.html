<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] META_object macro returning osg::Object* for cloneType and clone
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20META_object%20macro%20returning%20osg%3A%3AObject%2A%20for%0A%20cloneType%20and%20clone&In-Reply-To=%3CCAFN7Y%2BXu4QgMe8jd4riTf3yAAsZzQKDk8YxsNG3xcD9RjYyqHw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007285.html">
   <LINK REL="Next"  HREF="007286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] META_object macro returning osg::Object* for cloneType and clone</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20META_object%20macro%20returning%20osg%3A%3AObject%2A%20for%0A%20cloneType%20and%20clone&In-Reply-To=%3CCAFN7Y%2BXu4QgMe8jd4riTf3yAAsZzQKDk8YxsNG3xcD9RjYyqHw%40mail.gmail.com%3E"
       TITLE="[osg-users] META_object macro returning osg::Object* for cloneType and clone">robert.osfield at gmail.com
       </A><BR>
    <I>Mon Nov 27 00:17:09 PST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007285.html">[osg-users] META_object macro returning osg::Object* for cloneType and clone
</A></li>
        <LI>Next message (by thread): <A HREF="007286.html">[osg-users] META_object macro returning osg::Object* for cloneType and clone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7290">[ date ]</a>
              <a href="thread.html#7290">[ thread ]</a>
              <a href="subject.html#7290">[ subject ]</a>
              <a href="author.html#7290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Hartwig,

I attempted at having different return types with Object::clone() in
different subclasses many years ago but different compilers would
accept or not accept this usage, it simple wasn't portable enough to
roll out.

If you know the type and want to clone without doing the extra C++
legwork you can use the osg::clone(..) method i.e.

   osg::Texture2D* orig_texture; = ....
   osg::ref_ptr&lt;osg::Texture2D&gt; new_texture = osg::clone(orig_texture);

This will do the required dynamic for you.

If you are worried about the cost of the dynamic cast then you could
just explicitly call the copy constructor:

   osg::ref_ptr&lt;osg::Texture2D&gt; new_texture = new osg::Texture2D(*orig_texture);

 Robert.
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007285.html">[osg-users] META_object macro returning osg::Object* for cloneType and clone
</A></li>
	<LI>Next message (by thread): <A HREF="007286.html">[osg-users] META_object macro returning osg::Object* for cloneType and clone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7290">[ date ]</a>
              <a href="thread.html#7290">[ thread ]</a>
              <a href="subject.html#7290">[ subject ]</a>
              <a href="author.html#7290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
