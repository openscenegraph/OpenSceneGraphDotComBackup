<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] multiple views + instancing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20multiple%20views%20%2B%20instancing&In-Reply-To=%3C1510772787.m2f.72391%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007212.html">
   <LINK REL="Next"  HREF="007218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] multiple views + instancing</H1>
<!--htdig_noindex-->
    <B>David Heitbrink</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20multiple%20views%20%2B%20instancing&In-Reply-To=%3C1510772787.m2f.72391%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] multiple views + instancing">david-heitbrink at uiowa.edu
       </A><BR>
    <I>Wed Nov 15 11:06:27 PST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007212.html">[osg-users] OpenSceneGraph-3.5.8 dev release tagged
</A></li>
        <LI>Next message (by thread): <A HREF="007218.html">[osg-users] multiple views + instancing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7217">[ date ]</a>
              <a href="thread.html#7217">[ thread ]</a>
              <a href="subject.html#7217">[ subject ]</a>
              <a href="author.html#7217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Right now I having problems setting unique uniforms and num instances on a per view basis (camera). 

Right now I am using hardware instancing, with a scene with 1000's of relatively complex objects, but only a handful of actual models. I was able to encode index's to textures + position and rotation transforms into a single texture buffer.

To do the viewport culling for this I added &quot;proxy&quot; nodes, which are just osg::group nodes, with a compute bound + cull call backs. The cull call back, calls back to a class tracking which instances are visible in which view. Each view has a group attach to it between the camera and the main scene. In said group, the texture buffer object is attached here.

The instanced models are further down in the scene graph. I in a draw callback from camera, I update each models uniform for its offset into the texture buffer, its instance count, plus texture buffer (transforms + some options for the fragment shader).  All of this works great until I have multiple cameras.

 Basically I cannot figure out a good way of modifying the instance count + offset uniform so I get unique values for each camera. Does anyone have some advice for this?

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=72391#72391">http://forum.openscenegraph.org/viewtopic.php?p=72391#72391</A>





</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007212.html">[osg-users] OpenSceneGraph-3.5.8 dev release tagged
</A></li>
	<LI>Next message (by thread): <A HREF="007218.html">[osg-users] multiple views + instancing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7217">[ date ]</a>
              <a href="thread.html#7217">[ thread ]</a>
              <a href="subject.html#7217">[ subject ]</a>
              <a href="author.html#7217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
