<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Unwanted Culling in 3.6.4 vs 3.5.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Unwanted%20Culling%20in%203.6.4%20vs%203.5.1&In-Reply-To=%3CCAG9QTxQrJmB1X%2B-%3DEX7pZZDgUFP8K5d5LbVAMuT2frDc7psStw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010680.html">
   <LINK REL="Next"  HREF="010684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Unwanted Culling in 3.6.4 vs 3.5.1</H1>
<!--htdig_noindex-->
    <B>Anders Backman</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Unwanted%20Culling%20in%203.6.4%20vs%203.5.1&In-Reply-To=%3CCAG9QTxQrJmB1X%2B-%3DEX7pZZDgUFP8K5d5LbVAMuT2frDc7psStw%40mail.gmail.com%3E"
       TITLE="[osg-users] Unwanted Culling in 3.6.4 vs 3.5.1">andersb at cs.umu.se
       </A><BR>
    <I>Thu Jan  9 03:39:49 PST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010680.html">[osg-users] How to realize volume rendering for medical use
</A></li>
        <LI>Next message (by thread): <A HREF="010684.html">[osg-users] Unwanted culling in 3.6.4 vs 3.5.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10681">[ date ]</a>
              <a href="thread.html#10681">[ thread ]</a>
              <a href="subject.html#10681">[ subject ]</a>
              <a href="author.html#10681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all.

Another issue I discovered with 3.6.4 is that we now suddenly get unwanted
culling.
At first it looks like a small feature culling thing (which we disable at
global level with:

  // Don't do small feature culling
  osg::CullStack::CullingMode cullingMode =
m_viewer-&gt;getCamera()-&gt;getCullingMode();
  cullingMode &amp;= ~(osg::CullStack::SMALL_FEATURE_CULLING);
  m_viewer-&gt;getCamera()-&gt;setCullingMode(cullingMode);


However, this does not look like a small feature thing to me at all.
Actually, it culls even when you get close to the objects.
Attached are two osgt-files.

One is saved from OSG 3.5.1 (works as intended).

Second one is saved from OSG 3.6.4 (where we get the unwanted culling).


If you use a later version of OSG (3.6.4) the one from 3.6.4 generates lots
of warnings:

CullVisitor::apply(Geode&amp;) detected NaN,
    depth=nan, center=(0 0 7.125),
    matrix={
        -nan(ind) -nan(ind) -nan(ind) -nan(ind)
        -nan(ind) -nan(ind) -nan(ind) -nan(ind)
        -nan(ind) -nan(ind) -nan(ind) -nan(ind)
        0.187249 -0.470484 -6.20285 1

whereas the one from 3.5.1 does not.

Anyone give me a hand on this? I am really stuck.
I was first totally into small feature culling, trying to dig up old code
where people was trying to disable small feature culling on subgraphs etc.
But that is not the issue here.

Any suggestion would help. I tried to make the scene as small as possible.


-- 
__________________________________________
Anders Backman, HPC2N
90187 Ume&#229; University, Sweden
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">anders at cs.umu.se</A> <A HREF="http://www.hpc2n.umu.se/">http://www.hpc2n.umu.se</A>
Cell: +46-70-392 64 67
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20200109/2c3237bb/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20200109/2c3237bb/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010680.html">[osg-users] How to realize volume rendering for medical use
</A></li>
	<LI>Next message (by thread): <A HREF="010684.html">[osg-users] Unwanted culling in 3.6.4 vs 3.5.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10681">[ date ]</a>
              <a href="thread.html#10681">[ thread ]</a>
              <a href="subject.html#10681">[ subject ]</a>
              <a href="author.html#10681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
