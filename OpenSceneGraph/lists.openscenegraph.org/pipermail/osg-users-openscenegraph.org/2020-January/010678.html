<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] How to access material properties from a GLSL shader?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20access%20material%20properties%20from%20a%20GLSL%0A%20shader%3F&In-Reply-To=%3C5b4d4380-6d02-4726-a13f-2068c47d70d6%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010677.html">
   <LINK REL="Next"  HREF="010697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] How to access material properties from a GLSL shader?</H1>
<!--htdig_noindex-->
    <B>Chris Djali / AnyOldName3</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20How%20to%20access%20material%20properties%20from%20a%20GLSL%0A%20shader%3F&In-Reply-To=%3C5b4d4380-6d02-4726-a13f-2068c47d70d6%40googlegroups.com%3E"
       TITLE="[osg-users] How to access material properties from a GLSL shader?">krizdjali at gmail.com
       </A><BR>
    <I>Wed Jan  8 15:21:34 PST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010677.html">[osg-users] How to access material properties from a GLSL shader?
</A></li>
        <LI>Next message (by thread): <A HREF="010697.html">[osg-users] How to access material properties from a GLSL shader?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10678">[ date ]</a>
              <a href="thread.html#10678">[ thread ]</a>
              <a href="subject.html#10678">[ subject ]</a>
              <a href="author.html#10678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

osg::Material pretty much encapsulates OpenGL's fixed-function material 
state, so things like glMaterialfv (that controls material settings for 
whole draw calls) and glColorMaterial (that controls what vertex colours 
actually affect). If you're using a suitably old GLSL version, you can 
access this state through the built-in uniforms. These aren't featured 
prominently in lots of the modern OpenGL documentation like the wiki as 
they're removed in modern OpenGL, but I have this bookmarked and it at 
least says what's there: <A HREF="http://mew.cx/glsl_quickref.pdf.">http://mew.cx/glsl_quickref.pdf.</A> Once you know an 
actual uniform name, relevant stuff should show up in a search engine. The 
one problem you'll hit is that there's no built-in uniform to say whether 
glColorMaterial is enabled or what mode it's in, so you'll have to set that 
up yourself with a uniform or shader define.

I *think* that with the right combination of settings, OSG exposes similar 
uniforms in newer OpenGL/GLSL versions where the fixed function pipeline 
has been removed, so that's something to look into. I've never needed this, 
though, so don't know if it just happens when OSG is compiled with GL3 
support, or whether there's more that you need to do.

Hope this helps,

Chris

On Wednesday, 8 January 2020 22:53:28 UTC, Armin Samii wrote:
&gt;<i>
</I>&gt;<i> Does openscenegraph provide easy access to osg::Material values in the 
</I>&gt;<i> shaders? If so, in which Uniforms are the various properties set? If not, 
</I>&gt;<i> is the best path forward to set my own Uniforms based on osg::Material?
</I>&gt;<i>
</I>&gt;<i> For context: I had an OBJ/MTL that loaded and rendered fine by default, 
</I>&gt;<i> but when I turn on `setUseVertexAttributeAliasing`, the texture coordinates 
</I>&gt;<i> seem to break. I am trying to replace the default rendering with my own 
</I>&gt;<i> shader instead, but can't reproduce the original look and feel. While 
</I>&gt;<i> texture coordinates and texture loading does work with shaders, I cannot 
</I>&gt;<i> seem to find how to access the colors specified in the MTL files.
</I>&gt;<i>
</I>&gt;<i> (A google search shows several results for &quot;openscenegraph material 
</I>&gt;<i> shaders&quot; which looks helpful, but they are all in the forum, which is now 
</I>&gt;<i> inaccessible. Apologies if this question has been asked and answered 
</I>&gt;<i> elsewhere.)
</I>&gt;<i>
</I>
-- 
You received this message because you are subscribed to the Google Groups &quot;OpenSceneGraph Users&quot; group.
To unsubscribe from this group and stop receiving emails from it, send an email to <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users+unsubscribe at googlegroups.com.</A>
To view this discussion on the web visit <A HREF="https://groups.google.com/d/msgid/osg-users/5b4d4380-6d02-4726-a13f-2068c47d70d6%40googlegroups.com.">https://groups.google.com/d/msgid/osg-users/5b4d4380-6d02-4726-a13f-2068c47d70d6%40googlegroups.com.</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20200108/23018d81/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20200108/23018d81/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010677.html">[osg-users] How to access material properties from a GLSL shader?
</A></li>
	<LI>Next message (by thread): <A HREF="010697.html">[osg-users] How to access material properties from a GLSL shader?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10678">[ date ]</a>
              <a href="thread.html#10678">[ thread ]</a>
              <a href="subject.html#10678">[ subject ]</a>
              <a href="author.html#10678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
