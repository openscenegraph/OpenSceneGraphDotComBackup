<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Performance drop in 3.6.4 vs 3.5.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Performance%20drop%20in%203.6.4%20vs%203.5.1&In-Reply-To=%3CCAOuEi%2BGeJspvPfQTkzT4NjB2wEE%3D%3D4z%2BZdkdZB0ZsnfB_SLhCw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010671.html">
   <LINK REL="Next"  HREF="010676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Performance drop in 3.6.4 vs 3.5.1</H1>
<!--htdig_noindex-->
    <B>Anders Backman</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Performance%20drop%20in%203.6.4%20vs%203.5.1&In-Reply-To=%3CCAOuEi%2BGeJspvPfQTkzT4NjB2wEE%3D%3D4z%2BZdkdZB0ZsnfB_SLhCw%40mail.gmail.com%3E"
       TITLE="[osg-users] Performance drop in 3.6.4 vs 3.5.1">andersb at cs.umu.se
       </A><BR>
    <I>Wed Jan  8 06:31:18 PST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010671.html">[osg-users]  Webmail recovery within minutes (fix it)
</A></li>
        <LI>Next message (by thread): <A HREF="010676.html">[osg-users] Performance drop in 3.6.4 vs 3.5.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10675">[ date ]</a>
              <a href="thread.html#10675">[ thread ]</a>
              <a href="subject.html#10675">[ subject ]</a>
              <a href="author.html#10675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all.

Windows 10.
NVida GeForce RTX 2080.


I recently switched to 3.6.4 from 3.5.1 and noticed a huge drop in
performance, especially when running with two separate windows (two
applications).

1. I use *SingleThreaded mode*
2. I use  *m_viewer-&gt;setReleaseContextAtEndOfFrameHint(false);*
3.  I use *window-&gt;setSyncToVBlank(false);*

The above attributes are quite tightly connected to my issues.

But first, running osgViewer with those settings I get using a simple obj
file. Details not important, see below.
When loading a simple .obj file (couple of hundred triangles) into
osgViewer:

*&gt; osgViewer --window 0 0 1280 720*

3.5.1: 1900 fps. Draw 0.08ms
3.6.4: 2500 fps Draw 0.05ms

Now this already show something different between the two versions,
although perhaps not so relevant.

[image: image.png]

But if I start two instances of the viewer at the same time, I get a HUGE
difference.

3.5.1: Two windows, both run in ~2000fps, smoothly.
3.6.4: Two windows, fps varies between 80-1200fps. Animations are not
smooth at all (when spinning the model).

I also have a few more issues, but I have not been able to pin them down
yet:

I get small objects culled at a certain distance although they where not
culled in previous version.
Might be some change in how bounding volume update is handled in 3.6.4,
will know more later.

Anyone else noticed the performance drop/change in 3.6.4?

/Anders



-- 
__________________________________________
Anders Backman, HPC2N
90187 Ume&#229; University, Sweden
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">anders at cs.umu.se</A> <A HREF="http://www.hpc2n.umu.se/">http://www.hpc2n.umu.se</A>
Cell: +46-70-392 64 67
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20200108/36da001d/attachment-0001.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20200108/36da001d/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 225353 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20200108/36da001d/attachment-0001.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20200108/36da001d/attachment-0001.png</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010671.html">[osg-users]  Webmail recovery within minutes (fix it)
</A></li>
	<LI>Next message (by thread): <A HREF="010676.html">[osg-users] Performance drop in 3.6.4 vs 3.5.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10675">[ date ]</a>
              <a href="thread.html#10675">[ thread ]</a>
              <a href="subject.html#10675">[ subject ]</a>
              <a href="author.html#10675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
