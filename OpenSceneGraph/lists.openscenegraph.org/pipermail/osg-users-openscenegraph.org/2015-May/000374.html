<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3CCALFd4CftWXw3CX-LN%3DZfWWe31H%3DSU6a4_CEKeRDN9_ij0mqj6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="276596.html">
   <LINK REL="Next"  HREF="000381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Jan Ciger</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3CCALFd4CftWXw3CX-LN%3DZfWWe31H%3DSU6a4_CEKeRDN9_ij0mqj6A%40mail.gmail.com%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">jan.ciger at gmail.com
       </A><BR>
    <I>Tue May 12 08:07:56 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="276596.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000381.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#374">[ date ]</a>
              <a href="thread.html#374">[ thread ]</a>
              <a href="subject.html#374">[ subject ]</a>
              <a href="author.html#374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello Bj&#246;rn,

On Tue, May 12, 2015 at 4:20 PM, Bj&#246;rn Blissing &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">bjorn.blissing at vti.se</A>&gt;
wrote:

&gt;<i> Hi again,
</I>&gt;<i>
</I>&gt;<i> I repeated my measurements with a pure OpenGL application and compared
</I>&gt;<i> them to the previously recorded data from OSG:
</I>&gt;<i>
</I>&gt;<i> OpenGL + Nvidia Defaults + Vsync On Min: 56.7 Max: 65.0 Avg: 60.8
</I>&gt;<i> OpenGL + Nvidia Defaults + Vsync Off Min: 2.9 Max: 25.0 Avg: 14.6
</I>&gt;<i> OSG 3.2.1 + Nvidia Defaults + VSync On Min: 59 Max: 65 Avg: 62
</I>&gt;<i> OSG 3.2.1 + Nvidia Defaults + VSync Off Min: 6 Max: 21 Avg: 14
</I>&gt;<i>
</I>&gt;<i> So it seems that OSG does not add any additional latency compared to a
</I>&gt;<i> pure OpenGL application.
</I>&gt;<i>
</I>&gt;<i> I repeated the measurements with Windows Desktop Window Manager both on
</I>&gt;<i> and off, but these measurements had no discernible difference.
</I>&gt;<i>
</I>&gt;<i>
</I>Did you try to call glFlush() at the end of the each frame in your OpenGL
application? That should force the driver to not buffer but to actually
hold your program until the vsync event. Right now you are rendering much
faster than the GPU can scan out, so your program blocks only once the
rendering queue becomes full - which seems to be about the 3 frames of
latency.

glFlush() is bad for performance because it stalls the GPU on every frame
but should lower the latency from the fixed 60ms you see with vsync on.

Jan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150512/49e709a8/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150512/49e709a8/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="276596.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000381.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#374">[ date ]</a>
              <a href="thread.html#374">[ thread ]</a>
              <a href="subject.html#374">[ subject ]</a>
              <a href="author.html#374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
