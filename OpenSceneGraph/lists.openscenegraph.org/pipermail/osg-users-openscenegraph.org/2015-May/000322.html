<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] OpenThreads, scheduling, etc ... policies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20OpenThreads%2C%20scheduling%2C%20etc%20...%20policies&In-Reply-To=%3C1430930235.m2f.63650%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000304.html">
   <LINK REL="Next"  HREF="276529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] OpenThreads, scheduling, etc ... policies</H1>
<!--htdig_noindex-->
    <B>Curtis Rubel</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20OpenThreads%2C%20scheduling%2C%20etc%20...%20policies&In-Reply-To=%3C1430930235.m2f.63650%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] OpenThreads, scheduling, etc ... policies">crubel at compro.net
       </A><BR>
    <I>Wed May  6 09:37:15 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000304.html">[osg-users] OpenThreads, scheduling, etc ... policies
</A></li>
        <LI>Next message: <A HREF="276529.html">[osg-users] [build] OSG 3.3.7 cmake_policy CMP0020
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#322">[ date ]</a>
              <a href="thread.html#322">[ thread ]</a>
              <a href="subject.html#322">[ subject ]</a>
              <a href="author.html#322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Robert,

Attached is a copy of the PThread.cpp file from OSG 3.3.7 that I modified that allows Linux systems to take full advantage of the pthread scheduling parameters.  The changes I made are all within the 
#ifdef ALLOW_PRIORITY_SCHEDULING

define and the static int SetThreadSchedulingParams(Thread *thread)
function.

Feel free to pass this around to anyone that would like to review. comment and/or test the changes when time permits.  I am not
trying to rush anything, just figured I would go ahead and send
you what I am referring too, so it will be handy when time permits
you/(or your group) to take a look at it.

I am currently running with this change here and all our old existing OSG applications still are running OK as well as are my new test applications that take advantage of the changes.

One thing to note is that on at least my Linux system here, unless the user is running with root privileges or their application as been changed to run with root privileges the Linux kernel does not allow the application to run at anything other than the default policy of SCHEDULE_OTHER and priority 0(zero), no matter what they attempt to set.  This is another protection that seems to be in place to protect someone from accidentally causing a system problem.

Anything else that I can do to assist in getting this change implemented at some point, please let me know.

....

Thank you for your time and consideration in this matter.

Cheers,
Curtis

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=63650#63650">http://forum.openscenegraph.org/viewtopic.php?p=63650#63650</A>



-------------- next part --------------
A non-text attachment was scrubbed...
Name: PThread.cpp
Type: text/x-c++src
Size: 26266 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20150506/74cd8814/attachment-0003.cpp">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150506/74cd8814/attachment-0003.cpp</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000304.html">[osg-users] OpenThreads, scheduling, etc ... policies
</A></li>
	<LI>Next message: <A HREF="276529.html">[osg-users] [build] OSG 3.3.7 cmake_policy CMP0020
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#322">[ date ]</a>
              <a href="thread.html#322">[ thread ]</a>
              <a href="subject.html#322">[ subject ]</a>
              <a href="author.html#322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
