<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Significant%20drop%20in%20frame%20rate%20when%20updating%20from%0A%20OSG%203.2.1%20to%203.4.0&In-Reply-To=%3C28255e83-8264-c14e-1ec6-06c3dd827784%40texion.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005876.html">
   <LINK REL="Next"  HREF="005942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0</H1>
<!--htdig_noindex-->
    <B>Werner Modenbach</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Significant%20drop%20in%20frame%20rate%20when%20updating%20from%0A%20OSG%203.2.1%20to%203.4.0&In-Reply-To=%3C28255e83-8264-c14e-1ec6-06c3dd827784%40texion.eu%3E"
       TITLE="[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0">Werner.Modenbach at texion.eu
       </A><BR>
    <I>Tue Mar 28 08:24:07 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005876.html">[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0
</A></li>
        <LI>Next message: <A HREF="005942.html">[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5941">[ date ]</a>
              <a href="thread.html#5941">[ thread ]</a>
              <a href="subject.html#5941">[ subject ]</a>
              <a href="author.html#5941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert,

I have done 1 week of testing now on the dramatic performance issue.
As I said, when linking my program against osg 3.2.1 I get 60 fps
and linking the program without any change against version 3.4.0 I get 
2.5 fps.
Exporting my scene and running it in your viewer in 3.4.0 also has 60 fps.
So the problem is somewhere in the settings of my software. :-(
I used 2 different tools for profiling and both tell me that about 95% 
of the
running time is done in nvoglv64.dll. One of the tool tells me it is 
mainly the
function &quot;DrvPresentBuffers&quot; but I'm not sure if this is reliable.

I know it is actually not your duty giving help here but you are very
familiar with the driver calls and it would help a lot if you can provide
an idea what kind of setting might cause this issue.

Many thanks in advance

- Werner -

Am 20.03.2017 um 18:08 schrieb Robert Osfield:
&gt;<i> Hi Werner,
</I>&gt;<i>
</I>&gt;<i> Hopefully others will be able to chip in as I don't have a answer 
</I>&gt;<i> right now, it's certainly very odd.  If it were a general problem then 
</I>&gt;<i> we'd seen lots of issue with it being reported.
</I>&gt;<i>
</I>&gt;<i> With this level of slow down it's almost like your'e invoking a 
</I>&gt;<i> software renderer when running with 3.4.0.
</I>&gt;<i>
</I>&gt;<i> My next thought is that perhaps an OpenGL error is being invoked 
</I>&gt;<i> somehow. Are there any errors being reported to the console?
</I>&gt;<i>
</I>&gt;<i> What happens with the standard OSG example set?  Does osgviewer run 
</I>&gt;<i> any differently with models you have on the two versions.
</I>&gt;<i>
</I>&gt;<i> Robert.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 20 March 2017 at 15:29, Werner Modenbach 
</I>&gt;<i> &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">Werner.Modenbach at texion.eu</A> &lt;mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">Werner.Modenbach at texion.eu</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi Robert,
</I>&gt;<i>
</I>&gt;<i>     I updated my project from version 3.2.1 to 3.4.0.
</I>&gt;<i>     I'm on Window 7 Pro.
</I>&gt;<i>     Unfortunately the frame rate dropped significantly from 60 fps to
</I>&gt;<i>     2.x fps.
</I>&gt;<i>     I verified it several times by just linking to the 2 versions
</I>&gt;<i>     without any change of my code.
</I>&gt;<i>     Please see the 2 screen shots with the stats output.
</I>&gt;<i>
</I>&gt;<i>     Do you have any idea what might be the reason for it or how I can
</I>&gt;<i>     do further analysis?
</I>&gt;<i>
</I>&gt;<i>     Thanks for any idea.
</I>&gt;<i>
</I>&gt;<i>     - Werner -
</I>&gt;<i>
</I>&gt;<i>     Ich habe 2 zu dieser E-Mail geh&#246;rende Dateien hochgeladen:
</I>&gt;<i>     OSG 3.4.0.png
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw</A>&gt;(727
</I>&gt;<i>     KB)Hightail
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/">https://www.hightail.com</A>&gt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw</A>
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5vZE1UQw</A>&gt;
</I>&gt;<i>     OSG 3.2.1.png
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw</A>&gt;(628
</I>&gt;<i>     KB)Hightail
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/">https://www.hightail.com</A>&gt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw</A>
</I>&gt;<i>     &lt;<A HREF="https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw">https://www.hightail.com/download/dDZFdFdRMm1veE5jR01UQw</A>&gt;
</I>&gt;<i>     Mozilla Thunderbird &lt;<A HREF="http://www.getthunderbird.com/">http://www.getthunderbird.com</A>&gt; macht es
</I>&gt;<i>     einfach, gro&#223;e Dateien &#252;ber E-Mails zu teilen.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     osg-users mailing list
</I>&gt;<i>     <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>&gt;
</I>&gt;<i>     <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>     &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170328/3ba4a6d7/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170328/3ba4a6d7/attachment-0003.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 641 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20170328/3ba4a6d7/attachment-0006.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170328/3ba4a6d7/attachment-0006.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 403 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20170328/3ba4a6d7/attachment-0007.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170328/3ba4a6d7/attachment-0007.png</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005876.html">[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0
</A></li>
	<LI>Next message: <A HREF="005942.html">[osg-users] Significant drop in frame rate when updating from OSG 3.2.1 to 3.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5941">[ date ]</a>
              <a href="thread.html#5941">[ thread ]</a>
              <a href="subject.html#5941">[ subject ]</a>
              <a href="author.html#5941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
