<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Slow down with shared nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Slow%20down%20with%20shared%20nodes&In-Reply-To=%3CCAFN7Y%2BVvJJAYNdfOAhwNRtKNpNcGn6nkJSoCL2xJk6xZ7xd2dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="282003.html">
   <LINK REL="Next"  HREF="005788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Slow down with shared nodes</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Slow%20down%20with%20shared%20nodes&In-Reply-To=%3CCAFN7Y%2BVvJJAYNdfOAhwNRtKNpNcGn6nkJSoCL2xJk6xZ7xd2dw%40mail.gmail.com%3E"
       TITLE="[osg-users] Slow down with shared nodes">robert.osfield at gmail.com
       </A><BR>
    <I>Tue Mar  7 02:33:46 PST 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="282003.html">[osg-users] Slow down with shared nodes
</A></li>
        <LI>Next message: <A HREF="005788.html">[osg-users] Slow down with shared nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5781">[ date ]</a>
              <a href="thread.html#5781">[ thread ]</a>
              <a href="subject.html#5781">[ subject ]</a>
              <a href="author.html#5781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Andr&#233;,

I can't think of any changes between 3.2.x and 3.4.0 that would cause
a slow down like you are describing.

The best way to start looking at what might be the cause would be to
isolate what part of the application is the bottleneck, the first step
would be to use on the on screen stats and then look at the costs of
the update, event, cull, draw dispatch and draw GPU phases.

Also have a look at the full stats with to see if there is a different
number of nodes or state being rendered in the two cases.

Robert.



On 7 March 2017 at 08:21, Andre Normann &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">andre.normann at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am currently migrating from OpenSceneGraph 3.2.3 to 3.4.0. In my
</I>&gt;<i> application I get a significant slow down, when I share nodes. Here is a
</I>&gt;<i> quick example layout of my scenegraph:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Parent
</I>&gt;<i>   |
</I>&gt;<i>   + ---&gt; MatrixTransform1 --&gt; Node1
</I>&gt;<i>   |
</I>&gt;<i>   + ---&gt; MatrixTransform2 --&gt; Node1
</I>&gt;<i>   |
</I>&gt;<i>   ...
</I>&gt;<i>   |
</I>&gt;<i>   + ---&gt; MatrixTransform3 --&gt; Node1
</I>&gt;<i>
</I>&gt;<i> I have a root node with several MatrixTransforms. The nodes below the
</I>&gt;<i> MatrixTransforms are shared. In 3.2.3 everything works well and I have a
</I>&gt;<i> framerate of 60 Hz. In 3.4.0 the framerate drops with each new added
</I>&gt;<i> MatrixTransform. But when I do not share the nodes and instead create clones
</I>&gt;<i> with a DEEP_COPY_ALL flag, everything is well in 3.4.0.
</I>&gt;<i>
</I>&gt;<i> So what could cause the slow down in 3.4.0 with node sharing?
</I>&gt;<i>
</I>&gt;<i> I am using OpenSceneGraph 3.2.3/3.4.0 with a release build on Window 7.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Andr&#233;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="282003.html">[osg-users] Slow down with shared nodes
</A></li>
	<LI>Next message: <A HREF="005788.html">[osg-users] Slow down with shared nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5781">[ date ]</a>
              <a href="thread.html#5781">[ thread ]</a>
              <a href="subject.html#5781">[ subject ]</a>
              <a href="author.html#5781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
