<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Slow down with shared nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Slow%20down%20with%20shared%20nodes&In-Reply-To=%3CCAFN7Y%2BXLtBLn9rtpU69ZEsGcHd6KgKnn9G-OBD9AXVmw6Q-4Ug%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="005792.html">
   <LINK REL="Next"  HREF="005794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Slow down with shared nodes</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Slow%20down%20with%20shared%20nodes&In-Reply-To=%3CCAFN7Y%2BXLtBLn9rtpU69ZEsGcHd6KgKnn9G-OBD9AXVmw6Q-4Ug%40mail.gmail.com%3E"
       TITLE="[osg-users] Slow down with shared nodes">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Mar  8 00:31:25 PST 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005792.html">[osg-users] Slow down with shared nodes
</A></li>
        <LI>Next message: <A HREF="005794.html">[osg-users] Slow down with shared nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5793">[ date ]</a>
              <a href="thread.html#5793">[ thread ]</a>
              <a href="subject.html#5793">[ subject ]</a>
              <a href="author.html#5793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Andre,

On 8 March 2017 at 07:59, Andre Normann &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">andre.normann at gmail.com</A>&gt; wrote:
&gt;<i> Hi Robert,
</I>&gt;<i>
</I>&gt;<i> when I use display lists instead of vertex buffer objects (using
</I>&gt;<i> osgUtil::GLObjectsVisitor), everything is fine with 3.4.0.
</I>
Good to hear you've been able to get the performance back.

It doesn't quite get to the bottom of what is going on, but does give
us some more clues.  Use of VBO's shouldn't affect performance as much
as you've seen, it can increase the draw dispatch overhead for models
with a very large number of osg::Geometry, but for scenes with a
moderate number of osg::Geometry and large number of vertices one
normally sees a performance improvement.

I have never see the scale of performance with use of VBO's, so
something is happening somewhere in your scene graph or in the way the
OSG is handling it so cause this massive increasing in the draw
dispatch overhead.  Unfortunately we don't yet have enough clues to
know what it might be.

Is there any chance that the osg::Geometry have vertex arrays that are
set as dynamic/updated per frame?  I'm just clutching at straws as
downloading the VBO's on every frame would increase the draw dispatch
time.

Another possibility is that the GL driver is buggy and in certain
combinations of usage falls off it's fast paths.  What is the hardware
and drivers that you are using?

Robert.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005792.html">[osg-users] Slow down with shared nodes
</A></li>
	<LI>Next message: <A HREF="005794.html">[osg-users] Slow down with shared nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5793">[ date ]</a>
              <a href="thread.html#5793">[ thread ]</a>
              <a href="subject.html#5793">[ subject ]</a>
              <a href="author.html#5793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
