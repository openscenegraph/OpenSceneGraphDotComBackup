<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Android: Survive Context Loss without complete reinitialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Android%3A%20Survive%20Context%20Loss%20without%20complete%0A%20reinitialization&In-Reply-To=%3CCAFN7Y%2BV1Td%3Dsn_iHAdvW%2B%3Dv3po%2BnnvP4KvyA1ODWGM%2BEVBn5%3Dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010208.html">
   <LINK REL="Next"  HREF="010215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Android: Survive Context Loss without complete reinitialization</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Android%3A%20Survive%20Context%20Loss%20without%20complete%0A%20reinitialization&In-Reply-To=%3CCAFN7Y%2BV1Td%3Dsn_iHAdvW%2B%3Dv3po%2BnnvP4KvyA1ODWGM%2BEVBn5%3Dw%40mail.gmail.com%3E"
       TITLE="[osg-users] Android: Survive Context Loss without complete reinitialization">robert.osfield at gmail.com
       </A><BR>
    <I>Tue Jul 23 02:03:20 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010208.html">[osg-users] Android: Survive Context Loss without complete reinitialization
</A></li>
        <LI>Next message (by thread): <A HREF="010215.html">[osg-users] Android: Survive Context Loss without complete reinitialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10214">[ date ]</a>
              <a href="thread.html#10214">[ thread ]</a>
              <a href="subject.html#10214">[ subject ]</a>
              <a href="author.html#10214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Martin,

On Mon, 22 Jul 2019 at 19:33, Martin Siggel &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">martinsiggel+osg at gmail.com</A>&gt;
wrote:
&gt;<i> I am using OSG 3.6.4-rc3.
</I>
That's from back in January so it would be worth updating to 3.6.4-rc8.

I've done a diff between rc3 and rc8 and overall there are quite a few
fixes, I couldn't see a change that would affect things for you with
osgText.

&gt;<i> The only built-in shaders I am using right now are the osgText shaders:
</I><A HREF="https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osgText/shaders">https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osgText/shaders</A>

These are automatically bound, when no other shaders are added to a text
node.

&gt;<i> When I don't add shaders to a geometry node, other built-in shaders seem
</I>to get active as well. I guess these are the ones from
<A HREF="https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osg/shaders">https://github.com/openscenegraph/OpenSceneGraph/tree/master/src/osg/shaders</A>
.

Those shaders are related to the shader pipeline that is only part of
master, they don't exist in 3.6.  If you are aren't creating your own
shaders do they come with your data?  Or are you using osgUtil::ShaderGen?

&gt;<i> When I e.g. use osgText, the text will appear after starting the
</I>application. When I go to the android main screen and then go back to the
app, the text nodes will become black rectangles. Somehow, osg seems to
reference still the &quot;old&quot; objects from the context before.

&gt;<i> Still, from the log I can verify, that shaders are compiled again after
</I>resuming to the app.

What hardware/software Android platform are you testing with?

&gt;<i> I could provide a &quot;minimal&quot; example if anyone is interested.
</I>
I don't personally have a Android dev environment setup, so I can't test.
I was hoping that other Android users would chip in here, unfortunately the
forum has been a bit unreliable of late so perhaps this is contributing.

Cheers,
Robert.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20190723/bbcd5ab4/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20190723/bbcd5ab4/attachment.html</A>&gt;
</PRE>






















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010208.html">[osg-users] Android: Survive Context Loss without complete reinitialization
</A></li>
	<LI>Next message (by thread): <A HREF="010215.html">[osg-users] Android: Survive Context Loss without complete reinitialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10214">[ date ]</a>
              <a href="thread.html#10214">[ thread ]</a>
              <a href="subject.html#10214">[ subject ]</a>
              <a href="author.html#10214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
