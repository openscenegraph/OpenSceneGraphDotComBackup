<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Removing objects with shared GL state from scene graph
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1562106076.m2f.76361%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010176.html">
   <LINK REL="Next"  HREF="010179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Removing objects with shared GL state from scene graph</H1>
<!--htdig_noindex-->
    <B>Chris Djali</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1562106076.m2f.76361%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Removing objects with shared GL state from scene graph">krizdjali at gmail.com
       </A><BR>
    <I>Tue Jul  2 15:21:16 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010176.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
        <LI>Next message (by thread): <A HREF="010179.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10178">[ date ]</a>
              <a href="thread.html#10178">[ thread ]</a>
              <a href="subject.html#10178">[ subject ]</a>
              <a href="author.html#10178">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

This surprises me, but apparently clearing the object cache is enough to stop anything from leaking (otherwise, in the case where the second text node was removed, too, without releasing its GL objects, CodeXL was reporting two leaked shaders and three leaked program pipelines). I was expecting some things not to be released by their destructors, but apparently everything is.

I'm now in a situation where I think I can solve the issue that's bothering me sufficiently tidily that it won't be a maintanance nightmare, so the OpenMW Construction Set might be about to get its first non-nasty piece of code, which is nice.

I've seen that the object cache also has a releaseGLObjects function, which I imagine should have roughly the same effect except with the option to do it for just one context instead of all of them. I'm planning on calling that as part of a viewer cleanup operation. Might it be an idea to make this happen automatically in OSG without applications having to set it up themselves?

Cheers,
Chris

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=76361#76361">http://forum.openscenegraph.org/viewtopic.php?p=76361#76361</A>





</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010176.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
	<LI>Next message (by thread): <A HREF="010179.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10178">[ date ]</a>
              <a href="thread.html#10178">[ thread ]</a>
              <a href="subject.html#10178">[ subject ]</a>
              <a href="author.html#10178">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
