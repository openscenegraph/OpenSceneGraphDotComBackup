<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Removing objects with shared GL state from scene graph
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1564071428.m2f.76493%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010234.html">
   <LINK REL="Next"  HREF="010242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Removing objects with shared GL state from scene graph</H1>
<!--htdig_noindex-->
    <B>Chris Djali</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1564071428.m2f.76493%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Removing objects with shared GL state from scene graph">krizdjali at gmail.com
       </A><BR>
    <I>Thu Jul 25 09:17:08 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010234.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
        <LI>Next message (by thread): <A HREF="010242.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10241">[ date ]</a>
              <a href="thread.html#10241">[ thread ]</a>
              <a href="subject.html#10241">[ subject ]</a>
              <a href="author.html#10241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

Annoyingly, while that branch fixes the issue in my examples, it isn't fixing it in my actual application. The cache gets cleared when the application exits (potentially after all OpenGL contexts have been closed), but not when views are added to and removed from the composite viewer, so I'm still getting the same Warning: detected OpenGL error 'invalid value' at after RenderBin::draw(..) message. I'm not seeing Renderer::releaseGLObjects get called ever, but I can't tell whether it would be called if there was a view active when the application was closed, as I'm also battling a Qt bug that causes a crash in that situation.

There might be something weird that needs fixing at my end. I can see with tracepoints that a pair of Renderers gets constructed when the application constructs a View and StatsHandler and they get destroyed when the last ref_ptr to the view is destroyed, so the Renderers aren't sticking around forever.

Cheers,
Chris

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=76493#76493">http://forum.openscenegraph.org/viewtopic.php?p=76493#76493</A>





</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010234.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
	<LI>Next message (by thread): <A HREF="010242.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10241">[ date ]</a>
              <a href="thread.html#10241">[ thread ]</a>
              <a href="subject.html#10241">[ subject ]</a>
              <a href="author.html#10241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
