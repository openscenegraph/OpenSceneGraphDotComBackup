<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Removing objects with shared GL state from scene graph
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3CCAA0Tzvk3nq%3DZA--P_ujORApzwWsnA2s332e6VqnJLr8UdMT7tA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010250.html">
   <LINK REL="Next"  HREF="010252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Removing objects with shared GL state from scene graph</H1>
<!--htdig_noindex-->
    <B>Martin Siggel</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3CCAA0Tzvk3nq%3DZA--P_ujORApzwWsnA2s332e6VqnJLr8UdMT7tA%40mail.gmail.com%3E"
       TITLE="[osg-users] Removing objects with shared GL state from scene graph">martinsiggel+osg at gmail.com
       </A><BR>
    <I>Fri Jul 26 03:41:08 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010250.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
        <LI>Next message (by thread): <A HREF="010252.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10251">[ date ]</a>
              <a href="thread.html#10251">[ thread ]</a>
              <a href="subject.html#10251">[ subject ]</a>
              <a href="author.html#10251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert,

I had a custom camera manipulator, which was derived from orbitmanipulator.

I experienced the issue in my Android app. I assigned this manipulator to
the osgviewer and kept a reference outside of the viewer. My idea was to
keep the current state of orbit animation and position when going back to
the app.

However, this prevented cleaning up all the GL objects from the current
context, even though I deleted the viewer. After removing the reference to
the manipulator, everything worked as expected.

Therefore, I suppose that there has to be some reference to the camera in
the manipulator.

I could provide an example but it will be an Android example. Is there
something you could use?

Martin

Robert Osfield &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">robert.osfield at gmail.com</A>&gt; schrieb am Fr., 26. Juli 2019,
12:31:

&gt;<i> Hi Martin,
</I>&gt;<i>
</I>&gt;<i> On Fri, 26 Jul 2019 at 11:12, Martin Siggel &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">martinsiggel+osg at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Yes, it's the standard manipulator. I am not sure though, if it keeps a
</I>&gt;&gt;<i> direct reference or an indirect reference (via other nodes) to the camera.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Still I noticed, if I keep a reference to the camera manipulator my
</I>&gt;&gt;<i> viewer is not cleaned up correctly.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm afraid I'm not able to parse the above.  Do you have a ref_ptr&lt;&gt; to
</I>&gt;<i> the camera manipulator in your application outside of the View/Viewer
</I>&gt;<i> handle to it?  What CameraManipulator are you using?
</I>&gt;<i>
</I>&gt;<i> Could you create a small example to illustrate this usage case?  I've been
</I>&gt;<i> reviewingan testing all the CompositeViewer/View and associated examples
</I>&gt;<i> today but haven't yet come across an example of usage case they is causing
</I>&gt;<i> the problems.
</I>&gt;<i>
</I>&gt;<i> Robert.
</I>&gt;<i>
</I>&gt;<i> Robert.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20190726/0a571326/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20190726/0a571326/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010250.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
	<LI>Next message (by thread): <A HREF="010252.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10251">[ date ]</a>
              <a href="thread.html#10251">[ thread ]</a>
              <a href="subject.html#10251">[ subject ]</a>
              <a href="author.html#10251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
