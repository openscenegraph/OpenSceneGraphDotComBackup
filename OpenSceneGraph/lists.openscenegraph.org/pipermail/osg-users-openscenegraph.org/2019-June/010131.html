<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Force%20OSG%20for%20GLES%202.0%20to%20reenable%20vertex%0A%20attributes%20before%20drawing%20geometry&In-Reply-To=%3CCAFN7Y%2BV54aQ%3D7e4%3D4cZKgZ3A60PSTKQxgybC1T5rf3cx-VnuPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010122.html">
   <LINK REL="Next"  HREF="010143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Force%20OSG%20for%20GLES%202.0%20to%20reenable%20vertex%0A%20attributes%20before%20drawing%20geometry&In-Reply-To=%3CCAFN7Y%2BV54aQ%3D7e4%3D4cZKgZ3A60PSTKQxgybC1T5rf3cx-VnuPA%40mail.gmail.com%3E"
       TITLE="[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Jun 14 00:55:02 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010122.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
        <LI>Next message (by thread): <A HREF="010143.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10131">[ date ]</a>
              <a href="thread.html#10131">[ thread ]</a>
              <a href="subject.html#10131">[ subject ]</a>
              <a href="author.html#10131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Plamen,

There is no explicit mechanism for forcing extra
glEnableVertexAttribArray calls as they shouldn't be required.  What
you describe sounds like a bug in the driver or the OSG.

Which version of the OSG are you using?  What hardware target are you using?

What happens when you don't use osg::ShapeDrawable? For instance just
use a normal osg::Geometry.  FYI, osg::ShapeDrawable was never meant
for widespread usage back when it was originally written, it's was
simply written to provide a quick a dirty means of visualizing
primitive shapes for debug purposes - this is going back to 2002 :-)

Robert.

On Fri, 14 Jun 2019 at 05:57, Plamen Terziev &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">plspace at abv.bg</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I've built OSG for Android with GLES 2.0 support. I've created very simple scene where I render a sphere using ShapeDrawable.
</I>&gt;<i>
</I>&gt;<i> In the first frame I can see that OSG calls glEnableVertexAttribArray() and sets the data using glVertexAttribPointer(). After that it calls glDrawElements() and the sphere renders fine.
</I>&gt;<i>
</I>&gt;<i> However at the end of the frame the app calls glDisableVertexAttribArray() (I am using Qt for OSG integration and Qt changes the vertex arrays). That's why the next frame no geometry draws because OSG does not call again glEnableVertexAttribArray() and glVertexAttribPointer() but only glDrawElements().
</I>&gt;<i>
</I>&gt;<i> I'd like to force OSG to call on each frame glEnableVertexAttribArray() and glVertexAttribPointer() before calling glDrawElements() because the vertex arrays state has changed between the frames and needs to provide again the correct data.
</I>&gt;<i>
</I>&gt;<i> How I can do this?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Plamen
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=76274#76274">http://forum.openscenegraph.org/viewtopic.php?p=76274#76274</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010122.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
	<LI>Next message (by thread): <A HREF="010143.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10131">[ date ]</a>
              <a href="thread.html#10131">[ thread ]</a>
              <a href="subject.html#10131">[ subject ]</a>
              <a href="author.html#10131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
