<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Add multiple OverlayNode.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Add%20multiple%20OverlayNode.&In-Reply-To=%3C1560047433.m2f.76269%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="010120.html">
   <LINK REL="Next"  HREF="010122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Add multiple OverlayNode.</H1>
<!--htdig_noindex-->
    <B>Atlas Simen</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Add%20multiple%20OverlayNode.&In-Reply-To=%3C1560047433.m2f.76269%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Add multiple OverlayNode.">superjalien at hotmail.com
       </A><BR>
    <I>Sat Jun  8 19:30:33 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010120.html">[osg-users] Rendering a Depthmap
</A></li>
        <LI>Next message (by thread): <A HREF="010122.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10117">[ date ]</a>
              <a href="thread.html#10117">[ thread ]</a>
              <a href="subject.html#10117">[ subject ]</a>
              <a href="author.html#10117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

How do I add multiple OverlayNode to a scene? I read the post &quot;Viewer with 2 overlay nodes&quot;, using setOverlayTextureUnit to distinguish each OverlayNode, but this is limited by the number of multiple texture units supported. On my desktop, the number of multiple texture units supported by the graphics card is 4, and the maximum available texture unit is 3, which means I can only add 3 OverlayNode to the scene at most.


Code:

osg::ref_ptr&lt;osg::Node&gt; baseModel = createBase(osg::Vec3(center.x(), center.y(), baseHeight),radius);
osg::ref_ptr&lt;osg::Node&gt; movingModel = createMovingModel(center,radius*0.8f);

osg::ref_ptr&lt;osg::Node&gt; baseModel2 = createBase(osg::Vec3(center.x() + radius * 2, center.y() + radius * 0, baseHeight), radius);
osg::ref_ptr&lt;osg::Node&gt; movingModel2 = createMovingModel(osg::Vec3(center.x() + radius * 2, center.y() + radius * 0, center.z()), radius*0.8f);

if (overlay)
{
osgSim::OverlayNode* overlayNode = new osgSim::OverlayNode(technique);
overlayNode-&gt;setContinuousUpdate(true);
overlayNode-&gt;setOverlaySubgraph(movingModel);
overlayNode-&gt;setOverlayBaseHeight(baseHeight-0.01);
overlayNode-&gt;setOverlayTextureUnit(1);//default
overlayNode-&gt;addChild(baseModel);
root-&gt;addChild(overlayNode);

osgSim::OverlayNode* overlayNode2 = new osgSim::OverlayNode(technique);
overlayNode2-&gt;setContinuousUpdate(true);
overlayNode2-&gt;setOverlaySubgraph(movingModel2);
overlayNode2-&gt;setOverlayBaseHeight(baseHeight - 0.01);
overlayNode-&gt;setOverlayTextureUnit(2);
overlayNode2-&gt;addChild(baseModel2);
root-&gt;addChild(overlayNode2);
}
else
{
root-&gt;addChild(baseModel);
root-&gt;addChild(baseModel2);
}

root-&gt;addChild(movingModel);
root-&gt;addChild(movingModel2);


 

Thank you!

Cheers,
Simen

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=76269#76269">http://forum.openscenegraph.org/viewtopic.php?p=76269#76269</A>



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: osganimate.cpp
URL: &lt;<A HREF="../attachments/20190609/d341857e/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20190609/d341857e/attachment.ksh</A>&gt;
</PRE>






<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010120.html">[osg-users] Rendering a Depthmap
</A></li>
	<LI>Next message (by thread): <A HREF="010122.html">[osg-users] Force OSG for GLES 2.0 to reenable vertex attributes before drawing geometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10117">[ date ]</a>
              <a href="thread.html#10117">[ thread ]</a>
              <a href="subject.html#10117">[ subject ]</a>
              <a href="author.html#10117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
