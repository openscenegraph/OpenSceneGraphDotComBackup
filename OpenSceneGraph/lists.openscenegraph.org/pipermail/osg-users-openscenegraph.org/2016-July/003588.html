<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Compilation error with MSVC 2015
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Compilation%20error%20with%20MSVC%202015&In-Reply-To=%3CCALFd4CfiXuru_K%2BSh-zVszeVUu1u8SZo6G_BUbOMcPOPc%3De_2g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="003583.html">
   <LINK REL="Next"  HREF="003589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Compilation error with MSVC 2015</H1>
<!--htdig_noindex-->
    <B>Jan Ciger</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Compilation%20error%20with%20MSVC%202015&In-Reply-To=%3CCALFd4CfiXuru_K%2BSh-zVszeVUu1u8SZo6G_BUbOMcPOPc%3De_2g%40mail.gmail.com%3E"
       TITLE="[osg-users] Compilation error with MSVC 2015">jan.ciger at gmail.com
       </A><BR>
    <I>Mon Jul  4 09:05:33 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003583.html">[osg-users] Compilation error with MSVC 2015
</A></li>
        <LI>Next message: <A HREF="003589.html">[osg-users] Compilation error with MSVC 2015
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3588">[ date ]</a>
              <a href="thread.html#3588">[ thread ]</a>
              <a href="subject.html#3588">[ subject ]</a>
              <a href="author.html#3588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello,

On Mon, Jul 4, 2016 at 4:29 PM, Robert Osfield &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">robert.osfield at gmail.com</A>&gt;
wrote:

&gt;<i> Hi Jan,
</I>&gt;<i>
</I>&gt;<i> On 4 July 2016 at 14:12, Jan Ciger &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">jan.ciger at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; It was a fresh checkout from Github master from a few minutes ago. I have
</I>&gt;<i> &gt; modified the main CMakeLists.txt and added /bigobj, as mentioned in the
</I>&gt;<i> &gt; error message, to CMAKE_CXX_FLAGS for MSVC and now the same code seems to
</I>&gt;<i> &gt; build fine,so that doesn't look like a corrupted file. I was building a
</I>&gt;<i> &gt; debug build when I have got that error, not sure whether it has any
</I>&gt;<i> &gt; relevance.
</I>&gt;<i>
</I>&gt;<i> Weird.  I have just had a look t the source file the compiler is
</I>&gt;<i> complaining about and it looks pretty standard.
</I>&gt;<i>
</I>&gt;<i> The gles plugin on Linux is not particularly large either. I can't see
</I>&gt;<i> any obvious reasons why there would be any need for some special
</I>&gt;<i> options.
</I>&gt;<i>
</I>&gt;<i> What size are the object files and resulting osgdb_gles.dll?
</I>&gt;<i>
</I>

The OpenGLESGeometryOptimizer.obj is 4.84MB in Release and 28.81MB in
Debug, the remaining files are few hundred kB (Release), few megs (in
Debug).

The DLL is 770kB in release and 3.84MB in debug.

I have noticed that the incremental linking was off in the CMakeLists.txt
for MSVC, that could perhaps have an impact.

Can the option just been added to the gles pugin if absolutely required?
&gt;<i>
</I>
Yes, possibly. However, it may be that the build would break elsewhere too
- I didn't have time to rebuild the whole mess several times today, so I
have put it only globally. I don't think that the GLES code is somehow
special.


&gt;<i>
</I>&gt;<i> Right now, it seems pretty odd that the gles plugin would break some
</I>&gt;<i> compiler limits that we've never hit before in any other module or
</I>&gt;<i> plugins, so I'm inclined to think there is something specific going
</I>&gt;<i> on, perhaps a bug with the compiler that is throwing things off.
</I>&gt;<i>
</I>
Yes, I wouldn't be surprised. Or it could be triggering generation of ton
of code in 2015 that exceeds the limits. MSVC 2015 broke a lot of code that
was compiling before, because it is both stricter and updated for newer C++
standard. So when rebuilding older C++ code I am now often troubleshooting
compilation failures about code referencing deleted functions, template
problems, you name it.

J.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20160704/38aa0a2d/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20160704/38aa0a2d/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003583.html">[osg-users] Compilation error with MSVC 2015
</A></li>
	<LI>Next message: <A HREF="003589.html">[osg-users] Compilation error with MSVC 2015
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3588">[ date ]</a>
              <a href="thread.html#3588">[ thread ]</a>
              <a href="subject.html#3588">[ subject ]</a>
              <a href="author.html#3588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
