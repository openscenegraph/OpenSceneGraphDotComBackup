<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [forum] passing material properties to shader	uniforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5Bforum%5D%20passing%20material%20properties%20to%20shader%0A%09uniforms&In-Reply-To=%3CCAFN7Y%2BVH0HSkBn0EUYOBkh37Evi6ANQYYi7Cihiw0kkyZEPvyw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="282521.html">
   <LINK REL="Next"  HREF="006303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [forum] passing material properties to shader	uniforms</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5Bforum%5D%20passing%20material%20properties%20to%20shader%0A%09uniforms&In-Reply-To=%3CCAFN7Y%2BVH0HSkBn0EUYOBkh37Evi6ANQYYi7Cihiw0kkyZEPvyw%40mail.gmail.com%3E"
       TITLE="[osg-users] [forum] passing material properties to shader	uniforms">robert.osfield at gmail.com
       </A><BR>
    <I>Thu Jun  1 07:12:41 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="282521.html">[osg-users] [forum] passing material properties to shader uniforms
</A></li>
        <LI>Next message: <A HREF="006303.html">[osg-users] [forum] passing material properties to shader	uniforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6299">[ date ]</a>
              <a href="thread.html#6299">[ thread ]</a>
              <a href="subject.html#6299">[ subject ]</a>
              <a href="author.html#6299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Goran,

In standard OSG (3.2.x, 3.4.0 or the 3.5.x dev series) there isn't any
way to automatically remap osg::Material to uniforms so you'll have to
run a traverser through the scene graph and replace the osg::Material
to osg::Uniform's.

If you are willing to experiment with bleeding edge experimental code
then have a look at the shader_pipeline branch of the OSG, in this
branch I'm working on a new scheme for automatically mapping old fixed
function state like osg::Material to uniforms and #define settings
that can then be used by #pragma(tic) shader composition to provide a
fully integrated shader+fixed function state solution.

Robert.

On 15 May 2017 at 14:18, Goran Pantar &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">gpantar at logicbricks.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm using OpenGL ES 2.0 and having dificulties to pass the old style material properties (ambient, difusse, specular, shininess) to the uniforms used in my fragment shader.
</I>&gt;<i>
</I>&gt;<i> For the 3d model I use models in 3ds format with multiple materials and multiple drawables.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As a dirty hack I changed the Material.cpp Material::apply(State&amp;) function. This worked properly and I was able to modify this several global uniforms used by my shader.
</I>&gt;<i>
</I>&gt;<i> Now I'm trying to do this the OSG way using updateCallbacks and visitors but the uniform are not updated during the rendering. Probably only the last drawable material properties are set to the uniform and than this is used when rendering.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I expect that there is some perfectly elegant way to do this, so please point me in the right direction.
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Goran
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=70931#70931">http://forum.openscenegraph.org/viewtopic.php?p=70931#70931</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="282521.html">[osg-users] [forum] passing material properties to shader uniforms
</A></li>
	<LI>Next message: <A HREF="006303.html">[osg-users] [forum] passing material properties to shader	uniforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6299">[ date ]</a>
              <a href="thread.html#6299">[ thread ]</a>
              <a href="subject.html#6299">[ subject ]</a>
              <a href="author.html#6299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
