<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Crash in osg 3.4.0 on Virtual Machine when OSG_GL3_AVAILABLE enabled
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Crash%20in%20osg%203.4.0%20on%20Virtual%20Machine%20when%0A%20OSG_GL3_AVAILABLE%20enabled&In-Reply-To=%3CCAFN7Y%2BX8TKkMUcG-OqH6JZ86%2Be7hrEq8HQQvMjkNCEjCEdFDTQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="278723.html">
   <LINK REL="Next"  HREF="002502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Crash in osg 3.4.0 on Virtual Machine when OSG_GL3_AVAILABLE enabled</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Crash%20in%20osg%203.4.0%20on%20Virtual%20Machine%20when%0A%20OSG_GL3_AVAILABLE%20enabled&In-Reply-To=%3CCAFN7Y%2BX8TKkMUcG-OqH6JZ86%2Be7hrEq8HQQvMjkNCEjCEdFDTQ%40mail.gmail.com%3E"
       TITLE="[osg-users] Crash in osg 3.4.0 on Virtual Machine when OSG_GL3_AVAILABLE enabled">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Mar  9 00:03:35 PST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="278723.html">[osg-users] Crash in osg 3.4.0 on Virtual Machine when	OSG_GL3_AVAILABLE enabled
</A></li>
        <LI>Next message: <A HREF="002502.html">[osg-users] Crash in osg 3.4.0 on Virtual Machine when	OSG_GL3_AVAILABLE enabled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2501">[ date ]</a>
              <a href="thread.html#2501">[ thread ]</a>
              <a href="subject.html#2501">[ subject ]</a>
              <a href="author.html#2501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>HI Barney,

The extension check is correct as buffer objects are part of the spec for
GL3, the driver doesn't need to define the ARB extension in this case.

For your own work I would recommend not  selecting GL3, just build the OSG
with defaults and let it check the functionality at runtime.  If your
driver has the features it will detect them at runtime so you shouldn't
loose any functionality.

Robert

On 9 March 2016 at 01:26, Barney Wrightson &lt;
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">barney.wrightson at consilium.technology</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I built osg 3.4.0 with OSG_GL3_AVAILABLE enabled and it was working fine
</I>&gt;<i> on my dev box, but when I loaded my app on a virtual machine with not much
</I>&gt;<i> 3D support, It crashed with a null pointer exception in the BufferObject
</I>&gt;<i> constructor at the line (71):
</I>&gt;<i>
</I>&gt;<i> _extensions-&gt;glGenBuffers(1, &amp;_glObjectID);
</I>&gt;<i>
</I>&gt;<i> glGenBuffers pointer is null.
</I>&gt;<i>
</I>&gt;<i> In State.cpp the following line (1319) in
</I>&gt;<i> State::computeVertexBufferObjectSupported() :
</I>&gt;<i>
</I>&gt;<i> _isVertexBufferObjectSupported =  OSG_GLES2_FEATURES || OSG_GL3_FEATURES
</I>&gt;<i> || osg::isGLExtensionSupported(_contextID,&quot;GL_ARB_vertex_buffer_object&quot;);
</I>&gt;<i>
</I>&gt;<i> seems wrong to me, if the driver doesn't support BufferObjects then they
</I>&gt;<i> shouldn't be used right? I am guessing this is the problem because when I
</I>&gt;<i> build without OSG_GL3_FEATURES set (OSG_GLES2_FEATURES is not set either)
</I>&gt;<i> then I don't get the crash on my virtual machine.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Barney
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="../../../../forum.openscenegraph.org/viewtopic96b4.php?p=66500#66500">http://forum.openscenegraph.org/viewtopic.php?p=66500#66500</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20160309/00cf456e/attachment-0002.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20160309/00cf456e/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="278723.html">[osg-users] Crash in osg 3.4.0 on Virtual Machine when	OSG_GL3_AVAILABLE enabled
</A></li>
	<LI>Next message: <A HREF="002502.html">[osg-users] Crash in osg 3.4.0 on Virtual Machine when	OSG_GL3_AVAILABLE enabled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2501">[ date ]</a>
              <a href="thread.html#2501">[ thread ]</a>
              <a href="subject.html#2501">[ subject ]</a>
              <a href="author.html#2501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
