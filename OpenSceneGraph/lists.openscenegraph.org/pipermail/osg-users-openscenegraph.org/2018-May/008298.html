<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] DXF file with text crashes on Intersect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20DXF%20file%20with%20text%20crashes%20on%20Intersect&In-Reply-To=%3CCAFN7Y%2BX6mwoBg7QzB5DRtaDOCuTR%2BkbdQOQ0f1MzFPeMWqzbvg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="008296.html">
   <LINK REL="Next"  HREF="008299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] DXF file with text crashes on Intersect</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20DXF%20file%20with%20text%20crashes%20on%20Intersect&In-Reply-To=%3CCAFN7Y%2BX6mwoBg7QzB5DRtaDOCuTR%2BkbdQOQ0f1MzFPeMWqzbvg%40mail.gmail.com%3E"
       TITLE="[osg-users] DXF file with text crashes on Intersect">robert.osfield at gmail.com
       </A><BR>
    <I>Tue May 29 09:04:09 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008296.html">[osg-users] DXF file with text crashes on Intersect
</A></li>
        <LI>Next message (by thread): <A HREF="008299.html">[osg-users] DXF file with text crashes on Intersect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8298">[ date ]</a>
              <a href="thread.html#8298">[ thread ]</a>
              <a href="subject.html#8298">[ subject ]</a>
              <a href="author.html#8298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Brian,

Please update to 3.6.1.  There are many improvements between 3.5.6 dev
release and the latest stable release, in particular to osgText so
while I can't say specifically that the issue you have come across is
fixed, there is a good chance.  There are also so many other
improvements that it's worth having for it's own sake.

If the problem still exists then an example that reproduces the issue
would be really helpful.

Robert.

On 29 May 2018 at 16:15, Brian Hutchison &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">bhutchison at systra.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> We are using osg version 3.5.6 from VCPKG.
</I>&gt;<i>
</I>&gt;<i> When we load a DXF which includes text it loads and displays fine.  However if we then call GUIActionAdapter::computeIntersections on the scene whilst the mouse is over a piece of text within the loaded DXF it crashes here:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i>
</I>&gt;<i> void Text::accept(osg::Drawable::ConstAttributeFunctor&amp; af) const
</I>&gt;<i> {
</I>&gt;<i>   if (_coords.valid() )
</I>&gt;<i>   {
</I>&gt;<i>     af.apply(osg::Drawable::VERTICES, _coords-&gt;size(), &amp;(_coords-&gt;front()));
</I>&gt;<i>     af.apply(osg::Drawable::TEXTURE_COORDS_0, _texcoords-&gt;size(), &amp;(_texcoords-&gt;front())); &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _texcoord would appear to be empty.
</I>&gt;<i>
</I>&gt;<i> We are simply loading the DXF via readRefNodeFile then placing them in a PositionAttitudeTransform within out scene.
</I>&gt;<i>
</I>&gt;<i> I can work around it for now as we do not want the loaded DXF's to be directly pickable so can exclude them via a NodeMask, but would prefer not to have to do so.
</I>&gt;<i>
</I>&gt;<i> I see that there is a more recent build of osg available - is this something which has been fixed since 3.5.6?
</I>&gt;<i>
</I>&gt;<i> I can post a copy of an affected DXF if it would help.
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Brian[/code]
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=73890#73890">http://forum.openscenegraph.org/viewtopic.php?p=73890#73890</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008296.html">[osg-users] DXF file with text crashes on Intersect
</A></li>
	<LI>Next message (by thread): <A HREF="008299.html">[osg-users] DXF file with text crashes on Intersect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8298">[ date ]</a>
              <a href="thread.html#8298">[ thread ]</a>
              <a href="subject.html#8298">[ subject ]</a>
              <a href="author.html#8298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
