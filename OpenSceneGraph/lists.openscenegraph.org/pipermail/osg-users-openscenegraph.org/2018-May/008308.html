<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Large number of occluder nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Large%20number%20of%20occluder%20nodes&In-Reply-To=%3C1527778842.m2f.73903%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="008305.html">
   <LINK REL="Next"  HREF="008309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Large number of occluder nodes</H1>
<!--htdig_noindex-->
    <B>David Heitbrink</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Large%20number%20of%20occluder%20nodes&In-Reply-To=%3C1527778842.m2f.73903%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Large number of occluder nodes">david-heitbrink at uiowa.edu
       </A><BR>
    <I>Thu May 31 08:00:42 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008305.html">[osg-users] Large number of occluder nodes
</A></li>
        <LI>Next message (by thread): <A HREF="008309.html">[osg-users] Large number of occluder nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8308">[ date ]</a>
              <a href="thread.html#8308">[ thread ]</a>
              <a href="subject.html#8308">[ subject ]</a>
              <a href="author.html#8308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I am using OccluderNode:     
for each &quot;building&quot; in config file{
        auto &amp;pnt_pair = vecs[i];
        osg::OccluderNode* onode = new osg::OccluderNode();
        osg::ConvexPlanarOccluder* occl = new osg::ConvexPlanarOccluder();
        osg::ConvexPlanarPolygon&amp; polly = occl-&gt;getOccluder();

        vector&lt;osg::Vec3&gt; pnts;
        ... get pnts from current building in custom config file
        ... most often 4 points

 
        for (unsigned int j =0; j &lt; pnts.size(); j++){
            polly.add(pnts[j]);
        }

        onode-&gt;setOccluder(occl);
        m_group-&gt;addChild(onode);
}

The performance without the occluders is bad. Basically the rendering of buildings is not bad, its pretty quick even without the occluders. Where we get in trouble is with the parked cars, pedestrians and various scene clutter. These are relatively small objects, and lots of them have transparency. 

We want to add some form of OIT which should help us to avoid having some many depth sorted objects, but we are not there yet.

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=73903#73903">http://forum.openscenegraph.org/viewtopic.php?p=73903#73903</A>





</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008305.html">[osg-users] Large number of occluder nodes
</A></li>
	<LI>Next message (by thread): <A HREF="008309.html">[osg-users] Large number of occluder nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8308">[ date ]</a>
              <a href="thread.html#8308">[ thread ]</a>
              <a href="subject.html#8308">[ subject ]</a>
              <a href="author.html#8308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
