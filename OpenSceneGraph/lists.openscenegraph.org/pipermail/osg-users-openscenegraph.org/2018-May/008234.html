<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osgText: problem with SCREEN_COORDS mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgText%3A%20problem%20with%20SCREEN_COORDS%20mode&In-Reply-To=%3CCAFN7Y%2BX9aR%2BspgUB5UcJ%3DDg%3D2OdKPBh_PcC7ermqCXqYCbhEMQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="008233.html">
   <LINK REL="Next"  HREF="008256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osgText: problem with SCREEN_COORDS mode</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgText%3A%20problem%20with%20SCREEN_COORDS%20mode&In-Reply-To=%3CCAFN7Y%2BX9aR%2BspgUB5UcJ%3DDg%3D2OdKPBh_PcC7ermqCXqYCbhEMQ%40mail.gmail.com%3E"
       TITLE="[osg-users] osgText: problem with SCREEN_COORDS mode">robert.osfield at gmail.com
       </A><BR>
    <I>Sun May 20 05:34:09 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008233.html">[osg-users] osgText: problem with SCREEN_COORDS mode
</A></li>
        <LI>Next message (by thread): <A HREF="008256.html">[osg-users] osgText: problem with SCREEN_COORDS mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8234">[ date ]</a>
              <a href="thread.html#8234">[ thread ]</a>
              <a href="subject.html#8234">[ subject ]</a>
              <a href="author.html#8234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Glenn,

I have tried various ways to try and make the scale of the text
consistent when using CharacterSizeMode is SCREEN_COORDS whle
AxisAlignment is not SCREEN but in the end found the only solution
that produces consistent results was to apply the same maths as was
being use for the auto rotate case, except the auto-rotation itself is
ignored when generating the final matrix.

What I have checked in is:
   <A HREF="https://github.com/openscenegraph/OpenSceneGraph/commit/55c0afbe3ad2c6587f8c329a7dcc61284d8d18b9">https://github.com/openscenegraph/OpenSceneGraph/commit/55c0afbe3ad2c6587f8c329a7dcc61284d8d18b9</A>

This is also checked into OSG master.

To help test the various possibilities out I amend you test example to
have --xy, --xz, --screen etc. command line options for setting how to
set the axis alignment of the text.  This amended version is attached.
With the above fix everything looks to be working fine, at least for
the case of this test, the tests that other users have posted and
osgtext.  Fingers crossed this means that osgText is now working
solidly for 3.6.1.

Cheers,
Robert.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: main.cpp
Type: text/x-c++src
Size: 1436 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20180520/7add3440/attachment.cpp">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20180520/7add3440/attachment.cpp</A>&gt;
</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008233.html">[osg-users] osgText: problem with SCREEN_COORDS mode
</A></li>
	<LI>Next message (by thread): <A HREF="008256.html">[osg-users] osgText: problem with SCREEN_COORDS mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8234">[ date ]</a>
              <a href="thread.html#8234">[ thread ]</a>
              <a href="subject.html#8234">[ subject ]</a>
              <a href="author.html#8234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
