<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osg%3A%3ALineSegment%20intersect%20with%20Box%20and%20Sphere%0A%09inconsistency&In-Reply-To=%3CCAFN7Y%2BWYo%3DBPpJRyagEV8H_8txfqxYO4N%3D%2BsiGmC9v-HjxrYow%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000224.html">
   <LINK REL="Next"  HREF="000230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osg%3A%3ALineSegment%20intersect%20with%20Box%20and%20Sphere%0A%09inconsistency&In-Reply-To=%3CCAFN7Y%2BWYo%3DBPpJRyagEV8H_8txfqxYO4N%3D%2BsiGmC9v-HjxrYow%40mail.gmail.com%3E"
       TITLE="[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency">robert.osfield at gmail.com
       </A><BR>
    <I>Mon Apr 27 09:06:15 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000224.html">[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency
</A></li>
        <LI>Next message: <A HREF="000230.html">[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#229">[ date ]</a>
              <a href="thread.html#229">[ thread ]</a>
              <a href="subject.html#229">[ subject ]</a>
              <a href="author.html#229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Wojtek,

On 27 April 2015 at 13:16, Wojciech Lewandowski
&lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">w.p.lewandowski at gmail.com</A>&gt; wrote:
&gt;<i> I am one of those users now ;-). However, I adopt easily. Others may not
</I>&gt;<i> notice the change, though. Perhaps better solution would be to leave the
</I>&gt;<i> functionality as is and clearly rename and/or comment the r1,r2 params to
</I>&gt;<i> (rFromStart rFromEnd ?) so that inconsistency is clear and does not surprise
</I>&gt;<i> future users ?
</I>
My current feeling is that the intersect methods should be consistent,
the sphere one uses ratio between start and end for both the first and
second intersections points, while the bounding box version provides
the ratio between start and end, and end and start respectively.
Other intersect code in the OSG uses the same convention as the sphere
intersection.

I have fixed the LineSegment::intersect(const BoundingBox&amp; bb,float&amp;
r1,float&amp; r2) const and double variant so they are now consistent with
other parts of the OSG.  I'm undecided what to do about breaking user
code that relies upon the old behaviour.  One option would be to have
CMake option to toggle the behaviour, another would be to rename the
problem method to force a build break so users have to investigate and
have a better chance of spotting the change in behaviour.

A Cmake option would just add complexity to the build system and
source code for something that might not affect any end users.

Robert.

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000224.html">[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency
</A></li>
	<LI>Next message: <A HREF="000230.html">[osg-users] osg::LineSegment intersect with Box and Sphere	inconsistency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#229">[ date ]</a>
              <a href="thread.html#229">[ thread ]</a>
              <a href="subject.html#229">[ subject ]</a>
              <a href="author.html#229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
