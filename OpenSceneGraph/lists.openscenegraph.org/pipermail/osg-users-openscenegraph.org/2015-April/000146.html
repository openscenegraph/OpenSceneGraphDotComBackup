<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429271861.m2f.63449%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000144.html">
   <LINK REL="Next"  HREF="000154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Bj&#195;&#182;rn Blissing</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429271861.m2f.63449%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">bjorn.blissing at vti.se
       </A><BR>
    <I>Fri Apr 17 04:57:41 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000144.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000154.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#146">[ date ]</a>
              <a href="thread.html#146">[ thread ]</a>
              <a href="subject.html#146">[ subject ]</a>
              <a href="author.html#146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Jan Ciger wrote:
&gt;<i> 
</I>&gt;<i> That actually sounds odd, because the monitor will not refresh the image faster than its fixed refresh rate. 4ms would require 250Hz refresh, I am not aware of any commonly sold LCD that could go that fast. Even 120Hz ones are quite rare. Are you sure it is not an artefact of your measurement method? 
</I>

Well, I can certainly not give any total guarantees. But output data looks relatively sane. I am cycling the quad color at 1 Hz and sampling the light sensor at 10000Hz. 

Looking at one cycle:
<A HREF="http://i.imgur.com/mPZ70Uw.png">http://i.imgur.com/mPZ70Uw.png</A>

The blue line denotes the color of the quad (0 black - 1 white).
The green line denotes the analog output from the light sensor. I measure the time difference between the change in the two signal.

I ran a measurement cycle with 100 cycles and plotted the latency times:
<A HREF="http://i.imgur.com/NfSzeIx.png">http://i.imgur.com/NfSzeIx.png</A>

First of all it seems that time from white to black is consistently faster than black to white.

Looking at this plot it seems like the latency times are varying according to a pattern. My guess is that the screen runs asynchronously with the GPU. So the screen polls the GPU at 60Hz and sometimes the GPU just happens to have a frame ready when the screen starts a scanout. The lower limit is just the pure scanout time of the display. But this is just my theory right now. I do not have the detailed knowledge of the inner workings of a LCD display.

Regards
Bj&#246;rn

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=63449#63449">http://forum.openscenegraph.org/viewtopic.php?p=63449#63449</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000144.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000154.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#146">[ date ]</a>
              <a href="thread.html#146">[ thread ]</a>
              <a href="subject.html#146">[ subject ]</a>
              <a href="author.html#146">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
