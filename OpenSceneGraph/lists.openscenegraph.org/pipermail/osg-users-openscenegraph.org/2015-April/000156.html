<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429287048.m2f.63460%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000152.html">
   <LINK REL="Next"  HREF="000157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Bj&#195;&#182;rn Blissing</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429287048.m2f.63460%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">bjorn.blissing at vti.se
       </A><BR>
    <I>Fri Apr 17 09:10:48 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000152.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000157.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#156">[ date ]</a>
              <a href="thread.html#156">[ thread ]</a>
              <a href="subject.html#156">[ subject ]</a>
              <a href="author.html#156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Jan Ciger wrote:
&gt;<i> 
</I>&gt;<i> What happens is that sometimes your program &quot;gets lucky&quot; and tells the GPU to swap buffers &quot;just in time&quot; before the start of the next frame - then you have very little latency, because the change gets visible almost immediately (modulo the input latency of the monitor above). On the other hand, sometimes you get unlucky, you swap buffers right after the scanout of the framebuffer has started and then the GPU will hold your image until the next frame cycle - poof, one frame of latency extra ... And you can have everything in between these two extreme cases.
</I>

Yes, this is pretty similar to my theory but as you say, it happens inside the GPU and not the screen (as I erroneously guessed). 

Looking at my data from the Vsync Off case supports this. Since I &quot;render&quot; in much higher resolution than the screen refresh rate the process can be described as almost stochastic. In best case I will switch just in time and get 0 ms latency + the screen scanout time. In worst case I will miss the frame and get 16 ms + the screen scanout time. But most cases will be somewhere in between, i.e. average 8 ms +  the screen scanout time. This correlates nicely with my data. The minimum latency time was 6 ms, ie screen scanout time is probably ~6ms. The mean time was 14ms which is 8 + 6 ms. And the max latency was 21 ms which is slightly less than 6+16ms. 

But my main point still stands; it is possible to record latencies that are close to the scanout time of the screen with VSync Off (albeit for very simple rendering).

/Bj&#246;rn

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=63460#63460">http://forum.openscenegraph.org/viewtopic.php?p=63460#63460</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000152.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000157.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#156">[ date ]</a>
              <a href="thread.html#156">[ thread ]</a>
              <a href="subject.html#156">[ subject ]</a>
              <a href="author.html#156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
