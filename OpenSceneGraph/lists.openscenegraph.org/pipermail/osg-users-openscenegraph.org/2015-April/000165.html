<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C55339175.6050509%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000162.html">
   <LINK REL="Next"  HREF="000167.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Jan Ciger</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C55339175.6050509%40gmail.com%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">jan.ciger at gmail.com
       </A><BR>
    <I>Sun Apr 19 04:28:53 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000162.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000167.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#165">[ date ]</a>
              <a href="thread.html#165">[ thread ]</a>
              <a href="subject.html#165">[ subject ]</a>
              <a href="author.html#165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 04/18/2015 04:30 PM, Bj&#246;rn Blissing wrote:
&gt;<i> 
</I>&gt;<i> Although very interesting, this discussion regarding minimum
</I>&gt;<i> latency is a bit of a tangent from my initial questions. Rendering
</I>&gt;<i> with VSync Off is not normally what you do in a production
</I>&gt;<i> environment.
</I>
Depends on what you define as &quot;production environment&quot;. Consumer GPUs
have drivers optimized for games and there it is a common (and
default) setting to have vsync off for the sake of the highest frame
rate and lowest latencies. It is also a frequent recommendation to
turn vsync off when troubleshooting framerate issues in games. It may
start to change with the coming VR support where tearing is really
horrible, though.

Unfortunately the &quot;pro&quot; applications are a minority and Nvidia will
tell you that you should use a Quadro with differently optimized
drivers for &quot;professional&quot; applications.

&gt;<i> The interesting case is when you render with VSync enabled. Then I
</I>&gt;<i> can live with 1-2 frames of (consistent) latency, given that the
</I>&gt;<i> scene complexity is within what is possible to render within one
</I>&gt;<i> frame. But with my starting point (OSG 3.2.1 running with 
</I>&gt;<i> DrawThreadPerContext and NVIDIA default settings) was latencies of 
</I>&gt;<i> 5-6 frames, which is way to much. Especially when you consider
</I>&gt;<i> that all I rendered was ONE quad. I have a hard time to accept that
</I>&gt;<i> driver issues causes latencies of these magnitudes.
</I>
One thing you could try is to repeat the test with VSYNC on using a
plain OpenGL test application, rendering the same scene. That will
rule out any threading or buffering issues that OSG could
theoretically add

My hunch is that with the default settings the driver simply buffers a
few frames to make sure it can synchronize with the scanout and not
block your program - typically what you would want in a game for a
smooth framerate without judder.

&gt;<i> Regarding rendering at higher frame rates. I will try to repeat my 
</I>&gt;<i> measurements on a couple of 120 Hz monitors next week. These
</I>&gt;<i> monitors also support Nvidia G-sync, so I will try that as well.
</I>&gt;<i> And of course I will measure both the Oculus Rift DK1 and DK2 (the
</I>&gt;<i> last one both in extended and direct mode).
</I>
It would be really great if you could post the results. I am fairly
interested to see what you get. Do you have the latency tester from
Oculus? It would be interesting to compare the results from that gizmo
with the results you have too - it could help to verify that the
measurement technique is the same.

Regards,

J.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iD8DBQFVM5Fyn11XseNj94gRAoimAJwLsVklZ/sX3gGEzN7/zxmNepv9cQCgoFAe
r9aoxIu2jVKB4vNbO432obM=
=BHeZ
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000162.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000167.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#165">[ date ]</a>
              <a href="thread.html#165">[ thread ]</a>
              <a href="subject.html#165">[ subject ]</a>
              <a href="author.html#165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
