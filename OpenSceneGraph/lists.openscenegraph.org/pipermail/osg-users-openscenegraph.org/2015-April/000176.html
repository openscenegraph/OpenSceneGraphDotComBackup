<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3CCALFd4CeSH5O972J%2B%3DJuLD9WP2u3S2REWst7Dduwg0Ww-xjtx8A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000168.html">
   <LINK REL="Next"  HREF="000226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Jan Ciger</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3CCALFd4CeSH5O972J%2B%3DJuLD9WP2u3S2REWst7Dduwg0Ww-xjtx8A%40mail.gmail.com%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">jan.ciger at gmail.com
       </A><BR>
    <I>Mon Apr 20 09:08:15 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000168.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000226.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#176">[ date ]</a>
              <a href="thread.html#176">[ thread ]</a>
              <a href="subject.html#176">[ subject ]</a>
              <a href="author.html#176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Mon, Apr 20, 2015 at 1:28 AM, David Heitbrink &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">david-heitbrink at uiowa.edu</A>&gt;
wrote:

&gt;<i> If I remember from my conversations with people at NVidia, the least
</I>&gt;<i> amount of latency you can get is 2-3 frames I cannot remember the exact
</I>&gt;<i> number.  If you select the additional per-rendered frames, this will
</I>&gt;<i> increase this. Also remember your display will also add some additional
</I>&gt;<i> latency as well. Some displays have motion blur reduction features and
</I>&gt;<i> other features that can add to latency.
</I>&gt;<i>
</I>&gt;<i> We did a similar test were I work, using Quadro Cards + Quadro Sync, and
</I>&gt;<i> we got end to end latency of around 75ms.
</I>&gt;<i>
</I>
Whoa, that's quite a lot. How is that affecting interactivity (assuming you
are doing interactive work)?


&gt;<i>
</I>&gt;<i> What we did for our test was trigger a A/D deviceto I think a go from 0 to
</I>&gt;<i> 5v, and a we added a line in our fragment shader to over ride the color and
</I>&gt;<i> set it to white, or black depending on a value of a uniform. We change the
</I>&gt;<i> Uniform to 1 (to set it to white) and sent out our 5 v signal at the same
</I>&gt;<i> time. Both were set at the start of a frame. We used a photo diode to pick
</I>&gt;<i> up the change from black to white, and hooked that and our 5v signal to a
</I>&gt;<i> oscilloscope.
</I>&gt;<i>
</I>
Yep, that's a common way to do it, probably the most accurate too. Another
option is a hardware timer (e.g. a microcontroller - Arduinos are trivial
to use for that). Or a high speed camera, you blink a LED and then count
frames until the change appeared on the screen.


&gt;<i>   I am not sure that Quadro cards have any better latency, however one
</I>&gt;<i> nice feature is you can use an Quadro Sync card + external house sync (i.e.
</I>&gt;<i> you provide the 60Hz signal). This can make syncing the cards with external
</I>&gt;<i> devices easier. If you have good sync between your graphics and your data
</I>&gt;<i> generator you can effectively reduce the latency, or at least keep it more
</I>&gt;<i> consistent.
</I>&gt;<i>
</I>
My point about Quadros was that they enable differently optimized code path
in the drivers which, hopefully, focuses more on latency with vsync enabled
than on pushing as many frames per second as possible to boost the ego and
bragging rights of some gamer. The card itself likely doesn't make much
difference - GeForces and Quadros from the same generation are almost
identical silicon, but GeForces have some features disabled/crippled for
marketing reasons.


&gt;<i> As per the 75ms in latency I cannot at this point brake down were all of
</I>&gt;<i> it is coming from, we are using projectors and we are going through some
</I>&gt;<i> fiber converters to get from our video cards to the actual projectors.
</I>&gt;<i>
</I>
Ah ok. Projectors can be terrible for latency, because of all the
complicated processing in them - but it depends on model and manufacturer.
Your converters probably don't add much, if anything - the translation from
copper to fiber can be done on the fly without significant buffering if it
is a dumb HDMI/DVI/DisplayPort &quot;extension cable&quot; and no actual data
conversion is being done.

J.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150420/608f6b2e/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150420/608f6b2e/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000168.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000226.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#176">[ date ]</a>
              <a href="thread.html#176">[ thread ]</a>
              <a href="subject.html#176">[ subject ]</a>
              <a href="author.html#176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
