<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Enabling Vsync gives dramatic increase in latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429461078.m2f.63472%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000165.html">
   <LINK REL="Next"  HREF="000168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Enabling Vsync gives dramatic increase in latency</H1>
<!--htdig_noindex-->
    <B>Bj&#195;&#182;rn Blissing</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Enabling%20Vsync%20gives%20dramatic%20increase%20in%20latency&In-Reply-To=%3C1429461078.m2f.63472%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Enabling Vsync gives dramatic increase in latency">bjorn.blissing at vti.se
       </A><BR>
    <I>Sun Apr 19 09:31:18 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000165.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
        <LI>Next message: <A HREF="000168.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#167">[ date ]</a>
              <a href="thread.html#167">[ thread ]</a>
              <a href="subject.html#167">[ subject ]</a>
              <a href="author.html#167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>
Jan Ciger wrote:
&gt;<i> 
</I>&gt;<i> Depends on what you define as &quot;production environment&quot;. Consumer GPUs have drivers optimized for games and there it is a common (and default) setting to have vsync off for the sake of the highest frame rate and lowest latencies. It is also a frequent recommendation to turn vsync off when troubleshooting framerate issues in games. It may start to change with the coming VR support where tearing is really horrible, though.
</I>

Well, if I have to be nitpicky, but the Nvidias default setting regarding VSync is to respect whatever setting the application prefers. Then you can either force it On or Off as alternative settings, or choose to run adaptive (60/30 mode) or with Gsync if your monitor supports it.


Jan Ciger wrote:
&gt;<i> Unfortunately the &quot;pro&quot; applications are a minority and Nvidia will tell you that you should use a Quadro with differently optimized drivers for &quot;professional&quot; applications.
</I>

I guess I need to petition my manager about getting a Quadro card installed in my machine.  ;)


Jan Ciger wrote:
&gt;<i> One thing you could try is to repeat the test with VSYNC on using a plain OpenGL test application, rendering the same scene. That will rule out any threading or buffering issues that OSG could
</I>&gt;<i> theoretically add. 
</I>

I have actually made some initial efforts of writing just writing a pure OpenGL 4 application with the same functionality. But I used freeglut to handle my windows and for some reason I cannot force VSync On for this application. No matter what settings I use I still get Vsync off in this pure OpenGL application. I guess I will be forced to dump freeglut and use native windows instead.


Jan Ciger wrote:
&gt;<i> My hunch is that with the default settings the driver simply buffers a few frames to make sure it can synchronize with the scanout and not block your program - typically what you would want in a game for a smooth framerate without judder.
</I>

Well, there actually is a setting in the driver called &quot;max pre rendered frames&quot; which once again has &quot;use 3D Application Setting&quot; as its default. But you could manually set it to anywhere between 1 and 4. According to the info I find this setting should control the size of the Context Queue. And I use it in my custom settings above. BUT I still cannot get really low latencies as with Vsync Off.


Jan Ciger wrote:
&gt;<i> It would be really great if you could post the results. I am fairly interested to see what you get. Do you have the latency tester from Oculus? It would be interesting to compare the results from that gizmo with the results you have too - it could help to verify that the measurement technique is the same.
</I>

Sorry, I do not have the official latency tester from Oculus. I had already built my own before they released theirs. But I certainly will post my results.

Regards
Bj&#246;rn

------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopic1d4f.php?p=63472#63472">http://forum.openscenegraph.org/viewtopic.php?p=63472#63472</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000165.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
	<LI>Next message: <A HREF="000168.html">[osg-users] Enabling Vsync gives dramatic increase in latency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#167">[ date ]</a>
              <a href="thread.html#167">[ thread ]</a>
              <a href="subject.html#167">[ subject ]</a>
              <a href="author.html#167">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
