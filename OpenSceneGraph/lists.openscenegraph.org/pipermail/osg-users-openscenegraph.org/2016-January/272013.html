<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] UpdateCallback for a lot of models
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20UpdateCallback%20for%20a%20lot%20of%20models&In-Reply-To=%3C1453367039.m2f.66073%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="002194.html">
   <LINK REL="Next"  HREF="272017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] UpdateCallback for a lot of models</H1>
<!--htdig_noindex-->
    <B>Nikita Petrov</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20UpdateCallback%20for%20a%20lot%20of%20models&In-Reply-To=%3C1453367039.m2f.66073%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] UpdateCallback for a lot of models">nikitapetroff at gmail.com
       </A><BR>
    <I>Thu Jan 21 01:03:59 PST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="002194.html">[osg-users] LineOfSight intersection returning geometry
</A></li>
        <LI>Next message: <A HREF="272017.html">[osg-users] UpdateCallback for a lot of models
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#272013">[ date ]</a>
              <a href="thread.html#272013">[ thread ]</a>
              <a href="subject.html#272013">[ subject ]</a>
              <a href="author.html#272013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I will start from afar.

I'm developing an application using osgEarth. The basic idea is to visualize objects like aircrafts, cars, ships. These objects should move by updating their coordinates and angles (pitch, roll, yaw).

Currently I'm using an UpdateCallback on the group, containing all aircrafts, to change position and rotation of the model.

I decided to test the performance of this approach. I've added 10x10 grid of aircrafts and in UpdateCallback started to rotate and move them. Results are shown in the first screenshot.

After that I decided to try the same idea in OSG witch osg:Box instead of aircraft model.
I've added 100x100 grid of boxes and set the similar UpdateCallback on the parent group. Results were 30-40 fps (see attached image).

PC specification:NVIDIA GeForce GTX 580;
Intel Core i7-930;
12GB DDR3-1333;
MS Windows 8.1 x64;
OpenSceneGraph Library 3.5.1 x86;
osgEarth Library 3.0.0 DEVELOPMENT () x86.

I suppose I miss something, because I hope the frame rate should be higher for 100 aircrafts on such PC.
I've found articles about GPU instancing  (<A HREF="http://3dcgtutorials.blogspot.ru/2013/08/instancing-with-openscenegraph.html">http://3dcgtutorials.blogspot.ru/2013/08/instancing-with-openscenegraph.html</A>) and example osgdrawinstanced in OSG. But as far as I understood it is pretty hard to insert 3D model into this approach and it is not possible to easily update position and rotation.

Could you give me any suggestions about how to solve this problem?

Nikita[/url]

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=66073#66073">http://forum.openscenegraph.org/viewtopic.php?p=66073#66073</A>




Attachments: 
<A HREF="http://forum.openscenegraph.org//files/manyobjects_2_152.png">http://forum.openscenegraph.org//files/manyobjects_2_152.png</A>
<A HREF="http://forum.openscenegraph.org//files/manyobjects_1_136.png">http://forum.openscenegraph.org//files/manyobjects_1_136.png</A>


</PRE>
















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002194.html">[osg-users] LineOfSight intersection returning geometry
</A></li>
	<LI>Next message: <A HREF="272017.html">[osg-users] UpdateCallback for a lot of models
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#272013">[ date ]</a>
              <a href="thread.html#272013">[ thread ]</a>
              <a href="subject.html#272013">[ subject ]</a>
              <a href="author.html#272013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
