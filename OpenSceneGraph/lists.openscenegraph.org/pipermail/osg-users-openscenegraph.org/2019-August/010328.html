<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Removing objects with shared GL state from scene graph
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1566305021.m2f.76598%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010327.html">
   <LINK REL="Next"  HREF="010329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Removing objects with shared GL state from scene graph</H1>
<!--htdig_noindex-->
    <B>Chris Djali</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Removing%20objects%20with%20shared%20GL%20state%20from%20scene%0A%20graph&In-Reply-To=%3C1566305021.m2f.76598%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Removing objects with shared GL state from scene graph">krizdjali at gmail.com
       </A><BR>
    <I>Tue Aug 20 05:43:41 PDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="010327.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
        <LI>Next message (by thread): <A HREF="010329.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10328">[ date ]</a>
              <a href="thread.html#10328">[ thread ]</a>
              <a href="subject.html#10328">[ subject ]</a>
              <a href="author.html#10328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Here it is again:


AnyOldName3 wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Hopefully, after that two-week hiatus, we can get this sorted.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; You can always subclass from Camera and override the destruct if you want to add this &quot;fix&quot; if it suits your usage case. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm already going to have to include a separate fix for older OSG versions (and I have a good idea of how I'll implement it), as we're supposed to support as far back as 3.4.x, so if we're abandoning the idea of actually fixing the issue in OSG itself, I've already got a workaround figured out.
</I>&gt;<i> 
</I>&gt;<i> I imagine, though, that until everyone who writes applications knows how to use Vulkan and all devices have Vulkan support, removing the footgun from OSG is still your preferred option.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; The approach I have taken with the VSG is for the GPU objects to hold a ref_ptr&lt;&gt; to the VkInstance wrapper preventing it being deleted when the objects are still in use.  It's thread safe, robust for a lots of different usage cases and straight forward.  Alas OpenGL can't be managed like this, or at least I don't think you can keep a graphics context around after a window has been deleted.  If I was to writing an OpenGL scene graph from scratch I'd probably try to resolve this topic in a more flexible way than the OSG which has evolve from narrower usage cases to more and more general usage cases as users have pushed and pulled it in various directions. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> That does sound like a much nicer way of doing things. The only thing similar I can think of with OpenGL is to have a sharing context with access to the same objects as the main window, and to only destroy this extra context once everything has been released, but then I'm still discovering surprising new OpenGL features that can do new things.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Chris
</I>

------------------
Read this topic online here:
<A HREF="../../../../forum.openscenegraph.org/viewtopicc8fd.php?p=76598#76598">http://forum.openscenegraph.org/viewtopic.php?p=76598#76598</A>





</PRE>




<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="010327.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
	<LI>Next message (by thread): <A HREF="010329.html">[osg-users] Removing objects with shared GL state from scene graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10328">[ date ]</a>
              <a href="thread.html#10328">[ thread ]</a>
              <a href="subject.html#10328">[ subject ]</a>
              <a href="author.html#10328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
