<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Using callbacks for all graph modifications?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Using%20callbacks%20for%20all%20graph%20modifications%3F&In-Reply-To=%3C1503076902.m2f.71456%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006589.html">
   <LINK REL="Next"  HREF="006602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Using callbacks for all graph modifications?</H1>
<!--htdig_noindex-->
    <B>Antoine Rennuit</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Using%20callbacks%20for%20all%20graph%20modifications%3F&In-Reply-To=%3C1503076902.m2f.71456%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Using callbacks for all graph modifications?">antoinerennuit at hotmail.com
       </A><BR>
    <I>Fri Aug 18 10:21:42 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006589.html">[osg-users] Cloning text
</A></li>
        <LI>Next message: <A HREF="006602.html">[osg-users] Using callbacks for all graph modifications?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6600">[ date ]</a>
              <a href="thread.html#6600">[ thread ]</a>
              <a href="subject.html#6600">[ subject ]</a>
              <a href="author.html#6600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi all,

I have a custom DataModel describing objects, relations between them. The objects of my custom DataModel are rendered using OSG.

Depending on user events in my app, the objects of my DataModel are modified and OSG is being notified of all these modifications. These modifications leads to e.g. osg::PositionAttitudeTransforms being updated, node masks being modified, osg::Geodes being added or removed of the graph (via addChild() / removeChild()). This leads to a live 3D rendering with animations...

I do all the updates of my OSG graph in a raw way, without using callbacks. This gives code such as


Code:

m_worldFrame-&gt;setPosition(EigenToOsgVector3(m_node-&gt;m_worldFrame-&gt;m_pos));
m_worldFrame-&gt;setAttitude(EigenToOsgQuat(m_node-&gt;m_worldFrame-&gt;m_quat));

if (m_worldFrame)
    m_worldFrame-&gt;setNodeMask(0xffffffff);
if (m_mesh)
    m_mesh-&gt;setNodeMask(0xffffffff);




Now I am currently reading the Beginners' Guide and have read callbacks should be used for animation (chapter 8).

Does that mean I should use callbacks for all modifications of the osg graph?

This could be implemented in such a way that when my DataModel is updated a flag is updated which is read by the callbacks and depending on the state of the flag the callback performs the osg graph update of not. This is possible but this looks very heavy to implement...

Am I getting something wrong? Or should I really use update callbacks for all modifications of the OSG graph (objects moving, setting masks...)?

Thanks a lot,

Antoine.[/code]

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71456#71456">http://forum.openscenegraph.org/viewtopic.php?p=71456#71456</A>





</PRE>





















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006589.html">[osg-users] Cloning text
</A></li>
	<LI>Next message: <A HREF="006602.html">[osg-users] Using callbacks for all graph modifications?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6600">[ date ]</a>
              <a href="thread.html#6600">[ thread ]</a>
              <a href="subject.html#6600">[ subject ]</a>
              <a href="author.html#6600">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
