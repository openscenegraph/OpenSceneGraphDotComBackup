<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] osgText::Text problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgText%3A%3AText%20problem&In-Reply-To=%3C1502972644.m2f.71432%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006609.html">
   <LINK REL="Next"  HREF="006610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] osgText::Text problem</H1>
<!--htdig_noindex-->
    <B>Bojan Novak</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20osgText%3A%3AText%20problem&In-Reply-To=%3C1502972644.m2f.71432%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] osgText::Text problem">bojan at lxnav.com
       </A><BR>
    <I>Thu Aug 17 05:24:04 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006609.html">[osg-users] setAttribute / Material issue
</A></li>
        <LI>Next message: <A HREF="006610.html">[osg-users] osgText::Text problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6607">[ date ]</a>
              <a href="thread.html#6607">[ thread ]</a>
              <a href="subject.html#6607">[ subject ]</a>
              <a href="author.html#6607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

I recently ran into a problem regarding osgText::Text class. I generate a text label as follows:

Code:

        ref_ptr&lt;osgText::Text&gt; psText = new osgText::Text;
        psText-&gt;setText(&quot;Some text&quot;);
        psText-&gt;setDrawMode(osgText::Text::TEXT);
        psText-&gt;setAxisAlignment(osgText::Text::XY_PLANE);
        psText-&gt;setCharacterSizeMode(osgText::Text::SCREEN_COORDS);
        psText-&gt;setCharacterSize(40));
        psText-&gt;setFont(&quot;font/Roboto-Regular.ttf&quot;);
        psText-&gt;setBackdropType(osgText::Text::OUTLINE);
        psText-&gt;setBackdropColor(Vec4(0.0f, 0.0f, 0.0f, 1.0f));
        Vec3 vPos = convertFromPolar(p.lon(), p.lat(), p.elev() + 100);
        psText-&gt;setPosition(vPos);
        psText-&gt;setColor(Vec4(0.99, 0.6, 0.95, 1.0));
        psText-&gt;setAutoRotateToScreen(true);

        m_psGeode-&gt;addDrawable(psText.get());




On my Ubuntu Linux laptop, this runs well and I can see the text label on the screen.
But when I compile the same application for an ARMv7 processor (with OpenGL/ES) and run it there, I get the following output messages on the console:

Code:

VERTEX glCompileShader &quot;&quot; FAILED
VERTEX Shader &quot;&quot; infolog:
(8) : error C7506: OpenGL/ES does not define the global variable gl_FrontColor

FRAGMENT glCompileShader &quot;&quot; FAILED
FRAGMENT Shader &quot;&quot; infolog:
(4) : error C7573: OpenGL/ES requires precision specifier on float types
(5) : error C7573: OpenGL/ES requires precision specifier on float types
(6) : error C7506: OpenGL/ES does not define the global variable gl_Color

glLinkProgram &quot;&quot; FAILED




And in this case, the text label does not appear on the screen.

Reading the error messages, my guess is that the shader generated to show these labels is not compatible with OpenGL/ES. Is it possible to find out the source code of the vertex and fragment shaders that get generated in this case? Or even better, what shaders should I use for the OpenGL/ES to show text labels? 

BTW, before someone tells me to check if the font file exists, it does, I double checked it and debug messages also confirm that. :)

Thank you!

Cheers,
Bojan[/img][/code]

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=71432#71432">http://forum.openscenegraph.org/viewtopic.php?p=71432#71432</A>





</PRE>













<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006609.html">[osg-users] setAttribute / Material issue
</A></li>
	<LI>Next message: <A HREF="006610.html">[osg-users] osgText::Text problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6607">[ date ]</a>
              <a href="thread.html#6607">[ thread ]</a>
              <a href="subject.html#6607">[ subject ]</a>
              <a href="author.html#6607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
