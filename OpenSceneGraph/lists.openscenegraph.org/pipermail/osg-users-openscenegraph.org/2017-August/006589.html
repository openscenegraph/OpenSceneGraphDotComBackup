<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Cloning text
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Cloning%20text&In-Reply-To=%3CCAFN7Y%2BU0R-XswEA2z_fLcyuHAA%3DsYyLsYQNkT7rnS64SVEaMmA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006587.html">
   <LINK REL="Next"  HREF="006600.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Cloning text</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Cloning%20text&In-Reply-To=%3CCAFN7Y%2BU0R-XswEA2z_fLcyuHAA%3DsYyLsYQNkT7rnS64SVEaMmA%40mail.gmail.com%3E"
       TITLE="[osg-users] Cloning text">robert.osfield at gmail.com
       </A><BR>
    <I>Fri Aug 18 02:38:06 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006587.html">[osg-users] Cloning text
</A></li>
        <LI>Next message: <A HREF="006600.html">[osg-users] Using callbacks for all graph modifications?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6589">[ date ]</a>
              <a href="thread.html#6589">[ thread ]</a>
              <a href="subject.html#6589">[ subject ]</a>
              <a href="author.html#6589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Andreas,

In my rewrite of osgText my approach was that the internal implementation
details aren't meant to be something that users need to meddle with.

The fact that you are needing to meddle with the internal details to
workaorund performance issues in your usage case suggest an issue with
basic performance/flexibility,  The new implementation might change this
performance/flexibility side so perhaps your local changes might not be
needed.

If the new osgText doesn't provide the performance you need for your usage
case perhaps it could be optimized to handle them.  Creating an example
that illustrates the usage case which highlights the issues would be a good
first step if you feel this approach has promise.

Finally, I'm open to small tweaks to the API allow easier subclassing.
However, this isn't my preferred approach as any changes to the internals
later would then break end user code that relies upon it - exactly the
problem you are facing now...

Robert.

On 18 August 2017 at 09:14, Andreas Ekstrand &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">andreas.ekstrand at remograph.com</A>
&gt;<i> wrote:
</I>
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> With OSG 3.2.1 I have been able to do fast shallow cloning of
</I>&gt;<i> osgText::Text in my own subclass, copying the _textureGlyphQuadMap instead
</I>&gt;<i> of calling computeGlyphRepresentation, since the latter is a slow operation
</I>&gt;<i> for my thousands of texts.
</I>&gt;<i>
</I>&gt;<i> In OSG 3.5.6 this isn't possible, I guess due to a private
</I>&gt;<i> GlyphQuads::operator=. So I'm looping through _textureGlyphQuadMap in my
</I>&gt;<i> copy constructor and copy its glyphs and primitives separately instead. But
</I>&gt;<i> I can't see my copied text at all! If I save it out to an .osg or .osgt
</I>&gt;<i> file it's visible in osgviewer.
</I>&gt;<i>
</I>&gt;<i> I guess setting GlyphQuads::operator= private was deliberate, so can
</I>&gt;<i> someone explain how I can accomplish fast text cloning in OSG 3.5.6 or
</I>&gt;<i> optimize it somehow?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170818/870d4b1f/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170818/870d4b1f/attachment.htm</A>&gt;
</PRE>































<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006587.html">[osg-users] Cloning text
</A></li>
	<LI>Next message: <A HREF="006600.html">[osg-users] Using callbacks for all graph modifications?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6589">[ date ]</a>
              <a href="thread.html#6589">[ thread ]</a>
              <a href="subject.html#6589">[ subject ]</a>
              <a href="author.html#6589">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
