<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] OpenSceneGraph-3.4.1 released!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20OpenSceneGraph-3.4.1%20released%21&In-Reply-To=%3CCAFN7Y%2BWY%2B3frAU%3D0fxykB8xSjdnhULM2jBeVME7%2BkzWMzbj9%2Bw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006676.html">
   <LINK REL="Next"  HREF="006682.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] OpenSceneGraph-3.4.1 released!</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20OpenSceneGraph-3.4.1%20released%21&In-Reply-To=%3CCAFN7Y%2BWY%2B3frAU%3D0fxykB8xSjdnhULM2jBeVME7%2BkzWMzbj9%2Bw%40mail.gmail.com%3E"
       TITLE="[osg-users] OpenSceneGraph-3.4.1 released!">robert.osfield at gmail.com
       </A><BR>
    <I>Mon Aug 28 10:37:50 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006676.html">[osg-users] Only 1 Tutorial On OSG Website
</A></li>
        <LI>Next message: <A HREF="006682.html">[osg-users] OpenSceneGraph-3.4.1 released!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6681">[ date ]</a>
              <a href="thread.html#6681">[ thread ]</a>
              <a href="subject.html#6681">[ subject ]</a>
              <a href="author.html#6681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>I have tagged the OpenSceneGrap-3.4.1 maintenance release:


<A HREF="https://github.com/openscenegraph/OpenSceneGraph/tree/OpenSceneGraph-3.4.1">https://github.com/openscenegraph/OpenSceneGraph/tree/OpenSceneGraph-3.4.1</A>

Main changes of note are better GLES2 support with shaders provided for
osgText and on screen stats for GLES2, GL2 and GL3 core profile, build
fixes to cope with changes to 3rd party dependencies and a range of bug
fixes too.

Many thanks to all those that have helped test and provided fixes the the
3.4 branch.

Cheers,
Robert.

-- ChangeLog since 3.4.0

Mon, 28 Aug 2017 17:34:51 +0100
Checked in by : Robert Osfield
Build fix

Mon, 28 Aug 2017 16:55:52 +0100
Checked in by : Robert Osfield
Added back in 3.4.0 release entry

Mon, 28 Aug 2017 14:34:39 +0200
Checked in by : Denys Koch
Fix flawed BoundingSphere inequality operator

Mon, 28 Aug 2017 15:36:31 +0100
Checked in by : Robert Osfield
Updates for 3.4.1 stable release

Thu, 24 Aug 2017 17:49:34 +0100
Checked in by : Robert Osfield
Updated rc number to 3 or 3.4.1-rc3

Thu, 24 Aug 2017 17:45:48 +0100
Checked in by : Robert Osfield
Updated READE and ChangeLog

Wed, 23 Aug 2017 15:26:07 +0100
Checked in by : Robert Osfield
Fixed underflow issue

Tue, 22 Aug 2017 14:17:45 +0100
Checked in by : Robert Osfield
Bimped SO version due to changes in Windows exports in osgDB::ifstream +
ofstream.

Tue, 22 Aug 2017 12:19:40 +0100
Checked in by : Robert Osfield
Updated RC number to 2 for 3.4.1-rc2

Tue, 22 Aug 2017 12:18:29 +0100
Checked in by : Robert Osfield
Updated ChangeLog

Tue, 22 Aug 2017 11:58:49 +0100
Checked in by : Robert Osfield
Added name typo fix

Tue, 22 Aug 2017 09:05:27 +0100
Checked in by : Robert Osfield
Updated ChangeLog

Tue, 22 Aug 2017 09:04:49 +0100
Checked in by : Robert Osfield
Added catch for controbutors list

Tue, 22 Aug 2017 08:03:33 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #310 from OpenMW/merge_internalsizedformatsApplied
sizedInternalFormats change to 3.4 branch

Thu, 31 Mar 2016 17:12:28 +0100
Checked in by : Robert Osfield
Reversed the order of some sizedInternalFormats enum entries to sync with
the change in serach direction that was checked in as an earlier revision.

Mon, 21 Aug 2017 15:06:31 +0100
Checked in by : Robert Osfield
Added handling of CPACK and automatically generated package files

Fri, 18 Aug 2017 16:26:12 +0100
Checked in by : Robert Osfield
Removed unneccessary DrawArrays-&gt;setCount() that was causing a crash.

Fri, 18 Aug 2017 16:11:29 +0100
Checked in by : Robert Osfield
Merged addition of &quot;&quot; around variablesfrom master.

Fri, 18 Aug 2017 16:01:31 +0100
Checked in by : Raymond de Vries
Fix for better picking up 3rd party dependencies

Fri, 18 Aug 2017 08:08:28 +0100
Checked in by : Robert Osfield
Fixed iterator comparison.

Thu, 17 Aug 2017 08:53:58 +0100
Checked in by : Robert Osfield
Adopted OSG_GL*_FEATURES usage of 0 and 1 in place of false and true to
avoid VisualStudio 2012 build issues

Tue, 15 Aug 2017 15:42:22 +0100
Checked in by : Uwe Woessner
Extension to the PLY plugin to read files with textures.

Mon, 31 Jul 2017 16:47:10 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #291 from
eligovision/OpenSceneGraph-3.4_animationosgAnimation: classes
UpdateVec2fUniform and UpdateVec4fUniform added

Sun, 30 Jul 2017 20:00:12 +0300
Checked in by : konstantin.matveyev
[*] osgDB::OutputStream fix

Sun, 30 Jul 2017 19:55:56 +0300
Checked in by : konstantin.matveyev
[+] Two classes added: osgAnimation::UpdateVec2fUniform,
osgAnimation::UpdateVec4fUniform

Mon, 31 Jul 2017 15:06:57 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #289 from eligovision/OpenSceneGraph-3.4_appleIMAGEIO
plugin tweak

Mon, 31 Jul 2017 15:05:26 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #290 from
eligovision/OpenSceneGraph-3.4_apple_iososgViewer::GraphicsWindowIOS fixes

Sun, 30 Jul 2017 20:03:56 +0300
Checked in by : konstantin.matveyev
[*] imageio changed: more methods of storing image supported; tested on
macOS (compatibility profile) and iOS(GLES2/3)

Sun, 30 Jul 2017 19:58:56 +0300
Checked in by : konstantin.matveyev
[*] osgViewer::GraphicsWindowIOS fixes

Mon, 31 Jul 2017 12:44:47 +0100
Checked in by : Robert Osfield
Fixed indectation

Mon, 31 Jul 2017 12:42:15 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #288 from
eligovision/OpenSceneGraph-3.4_pragmaticpragma(tic) shader composing fixes
in the State

Mon, 31 Jul 2017 00:53:24 +0300
Checked in by : konstantin.matveyev
[**] pragma(tic) fix: 'defineMap.changed flag' condition changed in
State::push/popDefineList

Fri, 28 Jul 2017 17:57:02 +0100
Checked in by : Robert Osfield
Updated AUTHORS and CHangeLog for 3.4.1-rc1

Fri, 28 Jul 2017 17:43:34 +0100
Checked in by : Robert Osfield
Updated 3.4 branch to 3.4.1-rc1 version

Fri, 5 Aug 2016 13:16:07 +0100
Checked in by : James Turner
Attempt to fix broken DLL exports from osgDBOnly export the osgDB method
implementations, instead of the entire
class, and hence avoid exporting symbols from the base class, which
then conflict with other compilation units when linking.

This avoids the need for /FORCE:MULTIPLE linker option with MSVC.

Thu, 27 Jul 2017 10:43:33 +0100
Checked in by : Robert Osfield
Adopted FindFreetype.cmake from master

Wed, 26 Jul 2017 11:12:11 +0100
Checked in by : Robert Osfield
Replaced State::_glExtensions initialization to be consistent with master,
enabling sharing of GLExtension data structure.

Wed, 26 Jul 2017 11:08:46 +0100
Checked in by : Robert Osfield
Moved State::initializeExtensionProcs() nearer top of source file to make
the position consistent with change in position in master, making it easier
to diff between them.

Tue, 25 Jul 2017 15:58:27 +0100
Checked in by : Robert Osfield
Merged GLExtension deletion mechanism from master to avoid GLEXtension
being deleted when shared contexts are used and osg::State is deleted when
a context is deleted.

Tue, 25 Jul 2017 14:45:20 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #272 from psyinf/msvc_static_buildMsvc static build

Fri, 21 Jul 2017 13:12:38 +0200
Checked in by : Sebastian Messerschmidt
FIX: missing change in ENDIF

Fri, 21 Jul 2017 11:06:22 +0200
Checked in by : Sebastian Messerschmidt
FIX: &lt;CMake&gt; attempting to install pdb-files for static targets caused
failing INSTALL

Mon, 17 Jul 2017 16:46:16 +0100
Checked in by : Anna Sokol
Since version 2.5.1 freetype has supported the WOFF extension format. In
the attached ReaderWriterFreeType.cpp file I added the following
line:            supportsExtension(&quot;woff&quot;,&quot;web open font format&quot;);


Tue, 20 Jun 2017 09:35:49 +0100
Checked in by : Robert Osfield
Pulled in .gitignore from master

Tue, 16 May 2017 15:40:10 +0100
Checked in by : Robert Osfield
Backported GLES compatible shaders into ShaderGen

Tue, 16 May 2017 15:04:59 +0100
Checked in by : Robert Osfield
Backported GL2/3, GLES2/3 compatible Text and StatsHandler shaders to
OSG-3.4

Mon, 29 May 2017 12:20:31 +0100
Checked in by : Robert Osfield
Added TimeMultiplier and LoopingMode to ImageSequence .osg serializer

Thu, 25 May 2017 13:29:42 +0100
Checked in by : Robert Osfield
Improved the DrawElements selction

Thu, 25 May 2017 10:53:00 +0100
Checked in by : Robert Osfield
Added handlng of Text with large number of characters

Thu, 25 May 2017 10:41:12 +0100
Checked in by : Robert Osfield
Replaced osg::DrawElementeUInt usage for a more flexible DrawElements base
class approach with the default set to DrawElementUShort to ensure
compatibility with GLES2 implementes that don't support uint for
glDrawElements.

Tue, 16 May 2017 12:32:41 +0100
Checked in by : Robert Osfield
Addded a GLES2 compatible osgmovie shader

Wed, 10 May 2017 11:08:27 +0100
Checked in by : OpenSceneGraph git repository
Merge pull request #251 from emminizer/OpenSceneGraph-3.4osgText::Glyph:
Explicitly set GL_TEXTURE_MIN_FILTER to address disap&#8230;

Tue, 25 Apr 2017 07:22:16 -0400
Checked in by : Daniel Emminizer
osgText::Glyph: Explicitly set GL_TEXTURE_MIN_FILTER to address
disappearing glyphs on some Intel cards.

Mon, 24 Apr 2017 10:38:02 +0100
Checked in by : Alexander Roan
GLExtenstions: fix checking of isFrameBufferObjectSupported flag for GLES2

Tue, 18 Apr 2017 15:53:48 +0100
Checked in by : Konstantin S. Matveyev
Fixes glyphs's MODELVIEW matrices (positions, scales etc.) if
state.getUseModelViewAndProjectionUniforms() is true

Mon, 13 Mar 2017 14:27:08 +0000
Checked in by : OpenSceneGraph git repository
Merge pull request #214 from LaurensVoerman/submit-3.4serializerParticlefix
bug in osgb/osgt/osgx readerwriter osgParticle

Sat, 11 Mar 2017 11:38:18 +0000
Checked in by : OpenSceneGraph git repository
Merge pull request #210 from scrawl/programfix_backportBackport state leak
fix to 3.4 branch

Tue, 21 Feb 2017 21:55:05 +0100
Checked in by : Nico Kruithof
Fixed typoosg_ModeViewMatrix -&gt; osg_ModelViewMatrix


Mon, 6 Mar 2017 15:33:22 +0100
Checked in by : Laurens Voerman
fix bug in osgb/osgt/osgx readerwriter causing the
osgParticle-SizeInterpolator and -ColorInterpolator to dissapear

Wed, 21 Dec 2016 11:02:29 +0000
Checked in by : Robert Osfield
Changed Program::apply() to Program::compileGLObjects() to avoid the
Program::apply() setting of setLastAppliedProgramObjects for affect current
state.

Wed, 8 Feb 2017 14:54:08 +0000
Checked in by : OpenSceneGraph git repository
Merge pull request #199 from scrawl/statefix_backportBackport State fix to
3.4 branch

Wed, 29 Jun 2016 16:53:26 +0200
Checked in by : Julien Valentin
fix in StateSet.cpp the State::DefineMap::changed flag is not resetted to
false after currentDefines are updated

Tue, 24 Jan 2017 17:36:36 +0000
Checked in by : Robert Osfield
Fixed linking bug caused by repeated Program::addShader()/removeShader()
operations invalidating the internal attach/dettech lists.

Fri, 20 Jan 2017 17:31:09 +0000
Checked in by : Robert Osfield
Quitened down verbose debug messages

Fri, 20 Jan 2017 17:06:55 +0000
Checked in by : Robert Osfield
Quietened down some verbose debug messages

Thu, 19 Jan 2017 15:56:17 +0000
Checked in by : Robert Osfield
Fixed indentation of comment

Wed, 4 Jan 2017 12:55:15 +0000
Checked in by : Robert Osfield
Fixed unitialized variable access to premature calling of computeMatrix().

Fri, 23 Dec 2016 17:16:16 +0000
Checked in by : Robert Osfield
&gt;<i>From Hartwig Wiesmann, &quot;ScalarsToColors returns a wrong color in case a
</I>value larger max is passed to getColor&quot;

Wed, 21 Dec 2016 17:02:05 +0000
Checked in by : Robert Osfield
&gt;<i>From Torben Dannhauer, build updates for NVTT.
</I>
Wed, 21 Dec 2016 16:35:10 +0000
Checked in by : Robert Osfield
 From Torben Dannahauer, updates to track changes to Winddows 3rd party
package

Wed, 21 Dec 2016 15:33:02 +0000
Checked in by : Robert Osfield
&gt;<i>From Torben Dannhauer, &quot;When compiling OSG with DCMTK on windows, it throws
</I>an compiler error due to a missing ws2_32.lib in the linker settings.&quot;

Wed, 21 Dec 2016 11:40:16 +0000
Checked in by : Robert Osfield
&gt;<i>From Andreas Ekstrand, &quot;he attached ESRIShape.cpp contains a small fix in
</I>parsing of PointZ features, now correctly comparing with header content
length which is defined in 16-bit words.This should have been fixed in my
old submission from 2012 but was probably overlooked due to an alternative
way of comparing to a fix number for this feature type.

Without this fix, the plugin will only read one PointZ feature even if
multiple features exist.&quot;


Wed, 21 Dec 2016 09:10:50 +0000
Checked in by : Robert Osfield
Added StateSet::setGlobalDefaults() to fix bug when osgViewer has stats on
but no scene graph assigned

Mon, 31 Oct 2016 16:11:20 +0000
Checked in by : Robert Osfield
Fixed handling of #define's that are used as functions

Wed, 30 Nov 2016 17:15:06 +0000
Checked in by : Robert Osfield
Added GL_EXT_texture_border_clamp support for GLES

Sat, 26 Nov 2016 01:09:13 +0100
Checked in by : scrawl
Fix typo in StateSet::compileGLObjects, causing compilation of attributes
to not be executed unless checkForGLErrors is true.

Wed, 23 Nov 2016 19:18:14 +0000
Checked in by : Robert Osfield
Fixed crash in handling of osg::Callback attached as Drawable update
callback. Added handling of osg::Callback as a Drawable cull callback

Fri, 11 Nov 2016 17:16:40 +0000
Checked in by : Robert Osfield
Added Dragger::applyAppropriateFrontFace(StateSet*) to make it easy to
handle inverted matrices by toggling the FrontFace to sure the correct face
is visible.

Fri, 11 Nov 2016 13:54:54 +0000
Checked in by : Robert Osfield
Merge branch 'OpenSceneGraph-3.4' of
<A HREF="https://github.com/openscenegraph/OpenSceneGraph">https://github.com/openscenegraph/OpenSceneGraph</A> into OpenSceneGraph-3.4

Fri, 11 Nov 2016 13:54:15 +0000
Checked in by : Robert Osfield
Fixed handling of Locator's with negative extents

Thu, 3 Nov 2016 11:31:07 +0000
Checked in by : Robert Osfield
Added check against binding type of array to decide whether it's
appropriate to assign array to VBO.

Wed, 12 Oct 2016 17:23:19 +0100
Checked in by : Robert Osfield
Changed appending of \n to be to the version line.

Mon, 10 Oct 2016 11:21:28 +0100
Checked in by : Robert Osfield
&gt;<i>From Torben Dannhauer, added freetype27 (2.7) to search list
</I>
Thu, 6 Oct 2016 17:15:25 +0200
Checked in by : Laurens Voerman
remove CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot; (cmake configure time varable)
to select pdb install - select CONFIGURATIONS RelWithDebInfo Debug

Thu, 6 Oct 2016 14:21:07 +0200
Checked in by : Laurens Voerman
fix bug in SmoothingVisitor tripped by bunny.ply

Thu, 22 Sep 2016 14:33:03 +0100
Checked in by : Robert Osfield
Replaced local static usage to avoid threading and mulit-context issues

Wed, 10 Aug 2016 14:12:27 +0100
Checked in by : Anish Thomas
GLSL 1.3 support for vertex-attrib aliasing

Mon, 15 Aug 2016 12:56:57 +0100
Checked in by : Robert Osfield
Fixed handling in
osgUtil::IncrementalCompileOperation/CompileSet/StateToCompile when the
_markerObject is NULL.

Sun, 31 Jul 2016 14:57:11 +0100
Checked in by : Robert Osfield
Merge branch 'OpenSceneGraph-3.4' of
<A HREF="https://github.com/openscenegraph/OpenSceneGraph">https://github.com/openscenegraph/OpenSceneGraph</A> into OpenSceneGraph-3.4

Sun, 31 Jul 2016 14:00:30 +0100
Checked in by : Robert Osfield
Added FT_LOAD_NO_HINTING

Tue, 28 Jun 2016 18:39:12 +0100
Checked in by : Robert Osfield
Revert &quot;corrected syntax error in
src/osgPlugins/fbx/ReaderWriterFBX.cpp&quot;This reverts commit
7a1324800ffe3e4ddd9d7fb475f0323da6fe2f43.


Sun, 31 Jul 2016 11:06:51 +0100
Checked in by : Robert Osfield
Fixed build error reported on gcc 4.6.4/Ubuntu 12.04 32bit, issue #108

Sun, 19 Jun 2016 21:07:37 +0700
Checked in by : Thao Le
corrected syntax error in src/osgPlugins/fbx/ReaderWriterFBX.cpp

Fri, 10 Jun 2016 12:44:26 +0100
Checked in by : Robert Osfield
Fixed invalidated iterator bug pick up by Coverity.

Thu, 9 Jun 2016 14:33:05 +0100
Checked in by : Robert Osfield
Copied over .travis.yml file to 3.4 branch to add build testing

Thu, 9 Jun 2016 14:10:02 +0100
Checked in by : Mathieu MARACHE
Build fix for VS.

Thu, 9 Jun 2016 12:08:47 +0100
Checked in by : Robert Osfield
Rewrote Window::setNextFocusable() to address a bug in the management of
the search iterator. Covertiy reported bug &quot;Undefined behavior may result;
the program may crash or subtly misbehave. In
osgWidget::&#8203;Window::&#8203;setNextFocusable(): An invalid or past-the-end
iterator is being used.&quot;

Thu, 9 Jun 2016 11:41:14 +0100
Checked in by : Robert Osfield
Fixed &quot;Using invalid iterator&quot; bug in getTile() methods, detected by
Covertity.

Fri, 3 Jun 2016 17:57:04 +0100
Checked in by : Julien Valentin
Fixed little bug in DrawArraysLength (instancing not supported). Corrected
PrimitiveSet.cpp in order DrawArraysLength can be instanced. It's the only
pr missing code if (_numInstances&gt;=1)
glDrawXXXInstanced(...,_numInstances); else glDrawXXX();

Wed, 1 Jun 2016 12:49:55 +0100
Checked in by : Robert Osfield
Fixed missing &quot;

Wed, 1 Jun 2016 11:41:10 +0100
Checked in by : Robert Osfield
Added macosx10.11 to the list of supported OSX SDK's

Wed, 1 Jun 2016 11:25:31 +0100
Checked in by : Robert Osfield
Added in extra search paths for FBX

Wed, 1 Jun 2016 10:32:35 +0100
Checked in by : Andreas Cadhalpun
Replace deprecated FFmpeg API to fix build with ffmpeg-3.0.x

Wed, 6 Mar 2013 09:38:48 +0100
Checked in by : Stephan van Alste
Do not install non existant pdb file in release build mode

Tue, 12 Feb 2013 13:09:00 +0100
Checked in by : Ralf Habacker
Install msvc debug files along with the binaries

Tue, 31 May 2016 16:14:51 +0100
Checked in by : Ralf Habacker
Fixed bug not detecting unc pathes in osgDB::isAbsolutePath()

Tue, 31 May 2016 12:58:57 +0100
Checked in by : Alberto Luaces
defines for building on Hurd and BSD kernels

Tue, 31 May 2016 11:27:30 +0100
Checked in by : Pjotr Svetachov
small optimization to the osgb/t serializers.

Mon, 30 May 2016 13:43:09 +0100
Checked in by : Jannik Heller
Fixed typo of method name

Mon, 30 May 2016 12:41:25 +0100
Checked in by : Tony Vasile
OpenFlight-plugin with Surface Material Codes. There is one additional
field that may be required by an existing application in addition to the IR
Code is the IR Material. I have a small fix to include the IR Material as
the User Value &lt;UA:IRM&gt;

Thu, 26 May 2016 18:07:46 +0100
Checked in by : Robert Osfield
&gt;<i>From Wee See, &quot;attached a small submission, which makes the option
</I>&quot;readObjectRecordData&quot; of OpenFlight-plugin working like documented in the
Knowledge Base of OSG (52-using-the-openflight-plugin).Actually, if the
option &quot;readObjectRecordData&quot; is set, ObjectRecordData will not be read and
set.
With this submission, if the option &quot;readObjectRecordData&quot; is set,
ObjectRecordData will be read and set.&quot;


Thu, 26 May 2016 17:49:06 +0100
Checked in by : Robert Osfield
&gt;<i>From Philippe Renon and Robert Osfield,
</I>osgViewer::Viewer::checkNeedToDoFrame should return true when only the root
node has an update callback.Note, from Robert, I took Philippe
modifications to Viewer.cpp and reformated them slightly to avoid a double
check against getSceneData()!=0 and then rolled
the changes out to CompositeViewer::checkNeedToDoFrame() to ensure that
both implementations work the same.


Tue, 24 May 2016 20:46:44 +0100
Checked in by : Robert Osfield
Fixed RenderStageCache's handling of Observer functionality that was
causing a crashing on exit in osgoit and osgprerender examples.

Fri, 6 May 2016 19:55:04 +0100
Checked in by : Robert Osfield
Added GLES3 path for setting up with EGL

Fri, 6 May 2016 17:49:01 +0100
Checked in by : Robert Osfield
Added 3.4 press release to NEWS.txt

Wed, 27 Apr 2016 08:40:35 +0100
Checked in by : Robert Osfield
Added non const releaseGLObjects(osg::State* state) for backwards
compatibility

Thu, 21 Apr 2016 14:07:22 +0100
Checked in by : Robert Osfield
Fixed copy _readBuffer bug.

Mon, 18 Apr 2016 20:46:45 +0100
Checked in by : Robert Osfield
Fixed ShaderComposer::releaseGLObjects(State*) const method as it's const
was missing. Rewrote the ShaderComposer::releaseGLObjects() const method to
pass on the releaseGLObjects() calls to any associated Program or Shader
objects.

Thu, 14 Apr 2016 17:46:27 +0100
Checked in by : Robert Osfield
&gt;<i>From Vladimir Chebaev, fixed handling of outline orientiation
</I>
Thu, 14 Apr 2016 17:46:27 +0100
Checked in by : Robert Osfield
&gt;<i>From Vladimir Chebaev, fixed handling of outline orientiation
</I>
Tue, 29 Mar 2016 20:24:05 +0100
Checked in by : Robert Osfield
Changed the default value paramter to be consistent with the non templated
version of StateSet::setTextureAttributeAndModes(..)

Thu, 31 Mar 2016 19:26:51 +0100
Checked in by : Robert Osfield
Merge branch 'OpenSceneGraph-3.4' of
<A HREF="https://github.com/openscenegraph/OpenSceneGraph">https://github.com/openscenegraph/OpenSceneGraph</A> into OpenSceneGraph-3.4

Thu, 31 Mar 2016 17:52:29 +0100
Checked in by : Robert Osfield
added assignment of mipmap levels from source image.

Thu, 31 Mar 2016 17:52:29 +0100
Checked in by : Robert Osfield
&gt;<i>From Sherman Wilcox, added assignment of mipmap levels from source image.
</I>
Fri, 11 Mar 2016 15:35:07 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller, Wrong function call in setTextureAttributeAndModes
</I>&quot;From I think that this piece of code in
StateSet::setTextureAttributeAndModes is a copy&amp;paste mistake:
OSG_NOTICE&lt;&lt;&quot;Warning: non texture attribute '&quot;&lt;&lt;attribute-&gt;className()&lt;&lt;&quot;'
passed to setTextureAttributeAndModes(unit,attr,value), &quot;&lt;&lt;std::endl;
            OSG_NOTICE&lt;&lt;&quot;         assuming setAttributeAndModes(attr,value)
instead.&quot;&lt;&lt;std::endl;
            OSG_NOTICE&lt;&lt;&quot;         please change calling code to use
appropriate call.&quot;&lt;&lt;std::endl;
            setAttribute(attribute,value);

As per the warning message it should be calling
setAttributeAndModes(attribute,value); .&quot;


Wed, 2 Mar 2016 09:18:26 +0000
Checked in by : Robert Osfield
&gt;<i>From Joe Thompson, &quot;OpenSceneGraph cannot be built with Visual Studio 2008.
</I>The file osg-OpenSceneGraph-3.4.0\include\osg\Types typedefs int8_t,
int16_t, int32_t and int64_t These are typedefed as signed __intX in
several other places. With VS2008, this causes an error &quot;int8_t redifined,
different basic types&quot; Explicitly declaring them signed fixes the error.&quot;

Tue, 1 Mar 2016 20:37:07 +0000
Checked in by : Robert Osfield
Updated ChangeLog

Tue, 1 Mar 2016 20:34:18 +0000
Checked in by : Robert Osfield
Removed redundent CMake vars

Tue, 1 Mar 2016 20:24:19 +0000
Checked in by : Robert Osfield
Fixed the make tag-run and branch-run

Tue, 1 Mar 2016 19:54:36 +0000
Checked in by : Robert Osfield
Updated AUTHORS and ChangeLog

Tue, 1 Mar 2016 19:44:32 +0000
Checked in by : Robert Osfield
Refactored the make tag-test, tag-run, branch-test, branch-run and
ChangeLog features of the CMakeLists build system so it now supports
working off git instead of subversion

Tue, 1 Mar 2016 11:45:20 +0000
Checked in by : Robert Osfield
Within the #pragmatic shader composition code added platform specific line
endings for WIN32 vs all other platforms to &quot;\r\n&quot; and &quot;\n&quot; respectively.

Mon, 29 Feb 2016 15:57:01 +0000
Checked in by : Robert Osfield
Merged improved parsing of #pragma from master.

Wed, 24 Feb 2016 16:00:12 +0000
Checked in by : Robert Osfield
Fixed debug build

Tue, 23 Feb 2016 10:12:31 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller, osgParticle freeze on cull fix, ammended by Robert
</I>Osfield to make if statements a little more readable.

Mon, 22 Feb 2016 09:19:51 +0000
Checked in by : Robert Osfield
&gt;<i>From Anish Thomas, &quot;Underflow bug in BufferObject pool usage&quot;
</I>
Fri, 19 Feb 2016 15:01:27 +0000
Checked in by : Robert Osfield
&gt;<i>From Bjorn Blissing, &quot;I stumbled upon a strange ifdef-case inside
</I>Geometry.cppCurrently the code looks like this:

Code:
    DrawElementsUByte* elems = new
DrawElementsUByte(PrimitiveSet::TRIANGLES);
    elems-&gt;push_back(0);
    elems-&gt;push_back(1);
    elems-&gt;push_back(2);

    elems-&gt;push_back(2);
    elems-&gt;push_back(3);
    elems-&gt;push_back(0);
    geom-&gt;addPrimitiveSet(elems);
    geom-&gt;addPrimitiveSet(new DrawArrays(PrimitiveSet::QUADS,0,4));

The second condition looked really strange (note the ! sign), and results
in pretty much all code paths uses the first code. The correct version
should probably be that only people with GLES1 or GLES2 should use
GL_TRIANGLES to simulate quads. And all others should use the native
support for GL_QUADS.
&quot;


Fri, 19 Feb 2016 12:19:12 +0000
Checked in by : Robert Osfield
To the COLLADA_INCLUDE_DIR search paths added the directories:
/usr/local/include/collada-dom2.4
    /usr/local/include/collada-dom2.2
    /opt/local/include/collada-dom2.4
    /opt/local/include/collada-dom2.2
    /usr/include/collada-dom2.4
    /usr/include/collada-dom2.2

To enable recent versions of the DOM to be found in their new install
locations.


Thu, 18 Feb 2016 19:53:36 +0000
Checked in by : Robert Osfield
Updated the AuthenticationDetails::HttpAuthentication enum to reflect
current libcurl values

Thu, 18 Feb 2016 10:57:19 +0000
Checked in by : Robert Osfield
Replaced (long int) with more portable (GLint64)

Thu, 18 Feb 2016 10:04:04 +0000
Checked in by : Robert Osfield
&gt;<i>From Tony Vasile, &quot;This is a fix for the handling of OpenFlight files with
</I>switches whose children have a transformation matrix on them. It may break
other things and I have only tested this with one of my models.&quot;

Thu, 18 Feb 2016 09:25:48 +0000
Checked in by : Robert Osfield
&gt;<i>From Mourad Boufarguine, &quot;This submission fixes typos in
</I>Uniform::getTypename() method in Uniform.cpp (missing &quot;r&quot; in usampler
names).&quot;

Thu, 18 Feb 2016 08:50:06 +0000
Checked in by : Robert Osfield
Renamed zero and one to transparentCount and opaqueCount to avoid confusion
in their meaning and usage.

Wed, 17 Feb 2016 17:36:10 +0000
Checked in by : Robert Osfield
Fixed warning

Wed, 17 Feb 2016 17:08:07 +0000
Checked in by : Robert Osfield
Commented out unused functions and variable.

Wed, 17 Feb 2016 15:59:13 +0000
Checked in by : Robert Osfield
Introduced a separate GLuint64 one variable to get around a 32bit build
timer issue under Windows.

Wed, 27 Jan 2016 10:06:33 +0000
Checked in by : Robert Osfield
Fixed check against Drawable::isCullingActive().Removed old code intended
to check the Geode parent of a Drawable to see if it's CullingActive is
true as this was broken by the change osg::Drawable being derived from
osg::Node rather than osg::Object.


Mon, 25 Jan 2016 19:38:44 +0000
Checked in by : Robert Osfield
Added .gitignore to queiten down git status reports

Mon, 25 Jan 2016 12:18:32 +0000
Checked in by : Robert Osfield
Revert &quot;From Jannik Heller and Robert Osfield, introduced
ReadResult/WriteResult::statusMessage() method that creates a std::string
from the stutus value and message string.&quot; as this submission was meant for
the master only, not the binary compatible 3.4 branch.This reverts commit
df97a18a5754ed39ac43044ad9557e8409790ff3.


Mon, 25 Jan 2016 10:45:07 +0000
Checked in by : Robert Osfield
&gt;<i>From John Farrier, &quot;Best I can tell, there is an enumeration for
</I>NEVER_CHECK_GL_ERRORS in CheckForGLErrors, defined in State.  State.cpp
does check to see if you want MORE error checking, but there is no way to
turn OFF error checking. This change allows disabling of OpenGL error
checking.&quot;

Mon, 25 Jan 2016 10:25:15 +0000
Checked in by : Robert Osfield
&gt;<i>From Patrick Neary, &quot;In ShaderComposer::getOrCreateProgram(), tesselation
</I>control and evaluation shaders are processed but not added to the shader
program.&quot;

Fri, 22 Jan 2016 10:09:00 +0000
Checked in by : Robert Osfield
Changed the prototype from NULL to osg::DummyObject to address a bug in
reading .osgt + .osgx where an image is written out but fails to read the
file causes subsequent parts of the file to be mis-read

Thu, 21 Jan 2016 08:32:57 +0000
Checked in by : Robert Osfield
Fixed typo View::setImagePager(..) template method

Mon, 18 Jan 2016 13:10:14 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller, &quot;This submission fixes a bug introduced in commit
</I><A HREF="https://github.com/openscenegraph/osg/commit/5b17e3bc2a0c02cf84d891bfdccf14f170ee0ec8">https://github.com/openscenegraph/osg/commit/5b17e3bc2a0c02cf84d891bfdccf14f170ee0ec8</A>
&quot;Introduced CMake option OSG_PROVIDE_READFILE option...&quot;. The added
overload for StateSet::setAttributeAndModes was ignoring the mode setting. &quot;

Tue, 19 Jan 2016 17:39:03 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller and Robert Osfield, introduced
</I>ReadResult/WriteResult::statusMessage() method that creates a std::string
from the stutus value and message string.

Tue, 19 Jan 2016 15:39:46 +0000
Checked in by : Robert Osfield
&gt;<i>From Ravi Mathur, OSX/Clang 7.0.0 build fix
</I>
Mon, 14 Dec 2015 17:59:45 +0000
Checked in by : Robert Osfield
&gt;<i>From Wojciech Lewandowski, Visual Studio 2008 compatibility fixTwo fixed
</I>files:

osgPlugins/osgjs/JSON_Objects
osgPlugins/stl/ReaderWriterSTL.cpp.

They did not compile with VS 2008 (recent master from Github). It looks
like they defined stdint types  (missing in VS 2008) but code using them
also included &lt;osg/Types&gt; header. Errors were caused by minor differences
in signed int definitions. I just removed own definitions and added
include&lt;osg/Types&gt; instead. It solves the problem and makes the code
clearer now.


Mon, 23 Nov 2015 13:15:05 +0000
Checked in by : Robert Osfield
&gt;<i>From Jordi Torres, Fix for missing header file in
</I>distributionosg/TriangleLinePointIndexFunctor was not being installed
because it was not added to the CMakeLists.txt


Mon, 23 Nov 2015 11:45:01 +0000
Checked in by : Robert Osfield
Added support for copying include/osgViewer/config headers on make install.

Mon, 9 Nov 2015 15:14:07 +0000
Checked in by : Robert Osfield
Fixed warning messagegit-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15179">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15179</A>
16af8721-9629-0410-8352-f15c8da7e697


Sun, 8 Nov 2015 11:59:23 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller, fixed typo of OSG_COMPIlE_CONTEXTS env vargit-svn-id:
</I><A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15175">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15175</A>
16af8721-9629-0410-8352-f15c8da7e697


Thu, 5 Nov 2015 14:38:19 +0000
Checked in by : Robert Osfield
&gt;<i>From Mathias Froehlich, &quot;Avoid per frame X11 roundtrips&quot;git-svn-id:
</I><A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15174">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15174</A>
16af8721-9629-0410-8352-f15c8da7e697


Mon, 26 Oct 2015 11:43:28 +0000
Checked in by : Robert Osfield
&gt;<i>From Alberto Luaces, &quot;here are two minimal capitalization fixes for mingw
</I>cross-compilation, where case sensitivity matters.&quot;git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15172">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15172</A>
16af8721-9629-0410-8352-f15c8da7e697


Mon, 26 Oct 2015 11:41:44 +0000
Checked in by : Robert Osfield
Restructed the setting of the RenderStage ClearColor/ClearMask to make the
code more readable and to avoid double setting of the ClearMask.git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15170">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15170</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 23 Oct 2015 11:07:30 +0000
Checked in by : Robert Osfield
&gt;<i>From Sebastian Messershmidt, &quot;The uncommented pointer type QTimerEvent
</I>*/*event*/  leads to a compiler error under visual studio 2010&quot;git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15168">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15168</A>
16af8721-9629-0410-8352-f15c8da7e697


Thu, 22 Oct 2015 14:14:53 +0000
Checked in by : Robert Osfield
Introduced CMake option OSG_PROVIDE_READFILE option that defaults to ON,
but when switched to OFF disables the building of the osgDB::read*File()
methods, forcing users to use osgDB::readRef*File() methods.  The later is
preferable as it closes a potential threading bug when using paging
databases in conjunction with the osgDB::Registry Object Cache.  This
threading bug occurs when one thread gets an object from the Cache via an
osgDB::read*File() call where only a pointer to the object is passed back,
so taking a reference to the object is delayed till it gets reassigned to a
ref_ptr&lt;&gt;, but at the same time another thread calls a flush of the Object
Cache deleting this object as it's referenceCount is now zero.  Using
osgDB::readREf*File() makes sure the a ref_ptr&lt;&gt; is passed back and the
referenceCount never goes to zero.To ensure the OSG builds when
OSG_PROVIDE_READFILE is to OFF the many cases of osgDB::read*File() usage
had to be replaced with a ref_ptr&lt;&gt; osgDB::readRef*File()
usage.  The avoid this change causing lots of other client code to be
rewritten to handle the use of ref_ptr&lt;&gt; in place of C pointer I introduced
a serious of
templte methods in various class to adapt ref_ptr&lt;&gt; to the underly C
pointer to be passed to old OSG API's, example of this is found in
include/osg/Group:

    bool addChild(Node* child); // old method which can only be used with a
Node*

    tempalte&lt;class T&gt; bool addChild(const osg::ref_ptr&lt;T&gt;&amp; child) { return
addChild(child.get()); } // adapter template method

These changes together cover 149 modified files, so it's a large
submission. This extent of changes are warrent to make use of the Object
Cache
and multi-threaded loaded more robust.



git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15165">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15165</A>
16af8721-9629-0410-8352-f15c8da7e697


Thu, 8 Oct 2015 15:58:22 +0000
Checked in by : Robert Osfield
Added osg::flushAllDeletedGLObjects to clean up of graphics context after
the existing osg::deleteAllGLObjects() to catch any cases where delete
doesn't flush GL objects.git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15149">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15149</A>
16af8721-9629-0410-8352-f15c8da7e697


Mon, 5 Oct 2015 11:18:46 +0000
Checked in by : Robert Osfield
OSG_INIT_SINGLETON_PROXY into DatabasePager::prototype() and
Registry::instance(), removing the InitRegistry proxy object in
src/osgViewer/ViewerBase.cpp.git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15148">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15148</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 25 Sep 2015 15:20:32 +0000
Checked in by : Robert Osfield
&gt;<i>From Kristofer Tingdahl, &quot;we had a minor shadow problem with the osg-3.4
</I>that pollutes our continuous integration&quot;git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15144">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15144</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 25 Sep 2015 11:15:09 +0000
Checked in by : Robert Osfield
Added fix for case when Renderer is assigned to a Camera that has now
Viewgit-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15142">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15142</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 25 Sep 2015 10:10:10 +0000
Checked in by : Robert Osfield
Refactored osgViewer::Renderer's handled of FrameStamp to avoid threading
conflictsgit-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15139">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15139</A>
16af8721-9629-0410-8352-f15c8da7e697


Thu, 24 Sep 2015 14:14:43 +0000
Checked in by : Robert Osfield
&gt;<i>From John Hedstr&#246;m,&quot;Texture2DArray support for the .osg
</I>serializer&quot;git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15137">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15137</A>
16af8721-9629-0410-8352-f15c8da7e697


Thu, 24 Sep 2015 09:29:15 +0000
Checked in by : Robert Osfield
Fixed line endingsgit-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15133">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15133</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 4 Sep 2015 15:35:14 +0000
Checked in by : Robert Osfield
&gt;<i>From Jannik Heller, &quot;I've hit what I believe to be a bug (or at the very
</I>least, an unintuitive behaviour) in the osg::Geometry copy constructor. I
noticed it when using osg::clone on a Geometry with vertex buffer objects,
and the copy flags DEEP_COPY_ARRAYS. To be precise, I add a Geometry to an
osgUtil::IncrementalCompileOperation, then osg::clone the Geometry. I was
getting reports from users of random crashes happening.I believe the
offending lines are in the osg::Geometry copy constructor:

    if ((copyop.getCopyFlags() &amp; osg::CopyOp::DEEP_COPY_ARRAYS))
    {
        if (_useVertexBufferObjects)
        {
            // copying of arrays doesn't set up buffer objects so we'll
need to force
            // Geometry to assign these, we'll do this by switching off
VBO's then renabling them.
            setUseVertexBufferObjects(false);
            setUseVertexBufferObjects(true);
        }
    }

Toggling the vertex buffer objects off then on again actually touches not
only the arrays controlled by DEEP_COPY_ARRAYS, but also the PrimitiveSets
which are controlled by DEEP_COPY_PRIMITIVES. This means if the user has
copyflags of only DEEP_COPY_ARRAYS, we are modifying arrays that belong to
the original const Geometry&amp; we are copying from. I believe this shouldn't
be allowed to happen because we are using a const&amp; specifier for the
original Geometry.

In my case the osgUtil::IncrementalCompileOperation was trying to compile
the geometry, while in the main thread a clone operation toggled the VBO's
off and on, a crash ensues.

In the attached patch, you will find a more efficient handling of VBO's in
the osg::Geometry copy constructor, so that only the Arrays that were
actually deep copied have their VBO assigned, and no changes are made to
Arrays that already had a valid VBO assigned. In addition, the
DEEP_COPY_PRIMITIVES flag is now honored so that VBO's are set up correctly
should a user copy a Geometry with only that flag.
&quot;


git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15128">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15128</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 4 Sep 2015 15:05:06 +0000
Checked in by : Robert Osfield
&gt;<i>From Laurens Voerman, &quot;I found that using an ImageSequence with mode
</I>PAGE_AND_DISCARD_USED_IMAGES triggers the (3) imageThreads to run and never
stop, even when no more work is to be done. This is due to a bug in the
stop condition currently setting the thread to stop and wait for a signal
only when no work needs to be done AND the databasepager is paused. It
should stop and wait for a signal on either of those two. Due to a few
logical inversions it boils down to replacing || with &amp;&amp;OLD
_block-&gt;set((!_requestList.empty() || !_pager-&gt;_databasePagerThreadPaused));
NEW _block-&gt;set((!_requestList.empty() &amp;&amp;
!_pager-&gt;_databasePagerThreadPaused));//release the threads to run IF
(work_to_be_done &amp;&amp; not_paused)

This bug is present since svn rev 8663 (just before 2.6.0 release)


attached is a zip with the files:

OpenSceneGraph\include\osgDB\ImagePager



This file is valid for svn branch and stable 3.2 and 3.4
branches 2.6 - 3.0 have the same bug, but other differences in the file.&quot;


git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15126">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15126</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 4 Sep 2015 14:50:27 +0000
Checked in by : Robert Osfield
&gt;<i>From Laurens Voerman, &quot;I crashed osgconv while compressing textures:osgconv
</I>--compressed-dxt1 cow.osg cow.ive

due to different handling of the extentions in osg 3.4 and up.

attached is a zip with the files:

OpenSceneGraph\applications\osgconv\osgconv.cpp



This file is valid for svn branch and stable3.4.&quot;




git-svn-id:
<A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15123">http://svn.openscenegraph.org/osg/OpenSceneGraph/branches/OpenSceneGraph-3.4@15123</A>
16af8721-9629-0410-8352-f15c8da7e697


Fri, 4 Sep 2015 14:35:03 +0000
Checked in by : Robert Osfield
&gt;<i>From Julien Valentin, &quot;Serializing custom geometry i ran into a crash due
</I>to a setVertexAttribArrayList(array) with array containing NULL
vertexAttrib. I added a test in order to avoid itCode:
void Geometry::setVertexAttribArrayList(const ArrayList&amp; arrayList)
{
    _vertexAttribList = arrayList;

    dirtyDisplayList();

    if (_useVertexBufferObjects)
    {
        for(ArrayList::iterator itr = _vertexAttribList.begin();
            itr != _vertexAttribList.end();
            ++itr)
        {
if(itr-&gt;get())//ADDED
            addVertexBufferObjectIfRequired(itr-&gt;get());
        }
    }
}
&quot;

and

&quot;The bug i ran into is a crash reading osgt Geometry with null
vertexattribs.
The only thing i added is a not nul check on array passed to
setVertexAttribArrayList.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170828/5150b458/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170828/5150b458/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006676.html">[osg-users] Only 1 Tutorial On OSG Website
</A></li>
	<LI>Next message: <A HREF="006682.html">[osg-users] OpenSceneGraph-3.4.1 released!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6681">[ date ]</a>
              <a href="thread.html#6681">[ thread ]</a>
              <a href="subject.html#6681">[ subject ]</a>
              <a href="author.html#6681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
