<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Specifying the GL context version to request
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Specifying%20the%20GL%20context%20version%20to%20request&In-Reply-To=%3C396afa38-7a48-a3eb-3e6b-ee84e472d338%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="006628.html">
   <LINK REL="Next"  HREF="006630.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Specifying the GL context version to request</H1>
<!--htdig_noindex-->
    <B>Sandro Mani</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Specifying%20the%20GL%20context%20version%20to%20request&In-Reply-To=%3C396afa38-7a48-a3eb-3e6b-ee84e472d338%40gmail.com%3E"
       TITLE="[osg-users] Specifying the GL context version to request">manisandro at gmail.com
       </A><BR>
    <I>Mon Aug 21 10:16:13 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006628.html">[osg-users] Specifying the GL context version to request
</A></li>
        <LI>Next message: <A HREF="006630.html">[osg-users] Specifying the GL context version to request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6629">[ date ]</a>
              <a href="thread.html#6629">[ thread ]</a>
              <a href="subject.html#6629">[ subject ]</a>
              <a href="author.html#6629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert


On 21.08.2017 19:06, Robert Osfield wrote:
&gt;<i> You should only need to OPENGL_PROFILE something other than defaults 
</I>&gt;<i> if you specifically want just a non compatible graphics context. It 
</I>&gt;<i> sounds like the Intel driver might require OPENGL_PROFILEif you want 
</I>&gt;<i> to enable the latest GL features, something you won't need under 
</I>&gt;<i> NVIidia and possible AMD. Try using the OSG_GL_CONTEXT_VERSION and 
</I>&gt;<i> OSG_GL_CONTEXT_PROFILE_MASK env vars instead of the above 
</I>&gt;<i> DisplaySettings::instance() code i,e,
</I>&gt;<i>
</I>&gt;&gt;<i>     export OSG_GL_CONTEXT_VERSION=4.0
</I>&gt;&gt;<i>     export OSG_GL_CONTEXT_PROFILE_MASK=1
</I>&gt;<i>
</I>Ok I'll fire off a build without passing any cmake options and check 
what happens when I just set the environment variables.
&gt;<i>
</I>&gt;<i>     Yes as mentioned this also works. But the open issue for me still
</I>&gt;<i>     remains the first context created by osgEarth::Capabilities::
</I>&gt;<i>     Capabilities (see first of the stack traces I posted above). In my
</I>&gt;<i>     view either this is a bug in osgEarth that it creates the traits
</I>&gt;<i>     without honouring the desired GL version, or OSG should otherwise
</I>&gt;<i>     ensure the traits contain the overridden GL version.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't think it's appropriate to classify a bug for something that is 
</I>&gt;<i> retrospectively using the software with drivers that add their own 
</I>&gt;<i> constraints.  The OSG hasn't ever worked the way you want it to work - 
</I>&gt;<i> I've only just integrated the changes to the OSG to support passing 
</I>&gt;<i> the GL versions for GLX, so only now can we start talking about 
</I>&gt;<i> passing on suggestions of how to utilize it to the osgEath team.
</I>Sure. However I'm curious, how is the logic supposed to work under 
Windows, where support for specifying the GL version was already 
implemented? Wouldn't you hit the same issues on that platform also?
&gt;<i>
</I>&gt;<i> I see it as a constraint on osgEarth working with Intel drivers and 
</I>&gt;<i> recent GL versions and associate drivers. What we are talking about is 
</I>&gt;<i> working around these constraints in the driver to provide to full 
</I>&gt;<i> osgEarth functionality across a wider range of hardware.  The first 
</I>&gt;<i> step has been to add the GL version functionality to OSG's GLX support.
</I>&gt;<i>
</I>&gt;<i> Whether we need to push any changes to osgEarth is something I'm not 
</I>&gt;<i> clear on, if the above export's now work with OSG master and osgEarth 
</I>&gt;<i> then I think we are most of the way to getting what is reasonable to 
</I>&gt;<i> expect.
</I>Not that I want to be annoying or repetitive, but surely it's not ideal 
that osgEarth::Capabilities::Capabilities performs it's checks with a 
1.0 context, even though you specify OSG_GL_CONTEXT_VERSION=4.0? Or am I 
missing something here?

Best
Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20170821/09b1f2d1/attachment-0001.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20170821/09b1f2d1/attachment-0001.htm</A>&gt;
</PRE>


















<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006628.html">[osg-users] Specifying the GL context version to request
</A></li>
	<LI>Next message: <A HREF="006630.html">[osg-users] Specifying the GL context version to request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6629">[ date ]</a>
              <a href="thread.html#6629">[ thread ]</a>
              <a href="subject.html#6629">[ subject ]</a>
              <a href="author.html#6629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
