<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] updatecallback deprecation proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20updatecallback%20deprecation%20proposal&In-Reply-To=%3CCAFN7Y%2BV1P9vWR-r%3DXqP3urr0F_xFOAid7NrenJSTLtDVgmEL3Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009775.html">
   <LINK REL="Next"  HREF="009778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] updatecallback deprecation proposal</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20updatecallback%20deprecation%20proposal&In-Reply-To=%3CCAFN7Y%2BV1P9vWR-r%3DXqP3urr0F_xFOAid7NrenJSTLtDVgmEL3Q%40mail.gmail.com%3E"
       TITLE="[osg-users] updatecallback deprecation proposal">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Mar  6 00:49:57 PST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="009775.html">[osg-users] updatecallback deprecation proposal
</A></li>
        <LI>Next message (by thread): <A HREF="009778.html">[osg-users] Values of osg_FrameTime?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9776">[ date ]</a>
              <a href="thread.html#9776">[ thread ]</a>
              <a href="subject.html#9776">[ subject ]</a>
              <a href="author.html#9776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Julien,

The complexity is about retaining backwards compatibility.  Changing
it would break end users code and likely silently for us as only a
small percentage of end users test releases prior to them be released
so we don't find out we've broken their code until it's too late, so
we need to be conservative.

Robert.

On Wed, 6 Mar 2019 at 01:22, Julien Valentin &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">julienvalentin51 at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i> Would there be a way to make Drawable update callback less complex?
</I>&gt;<i> I suppose this ensure retrocompatibility but perhaps some pathes could be deprecated for sanity in 3.6....
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i>  osgUtil/UpdateVisitor
</I>&gt;<i>  virtual void apply(osg::Drawable&amp; drawable)
</I>&gt;<i>         {
</I>&gt;<i>             osg::Callback* callback = drawable.getUpdateCallback();
</I>&gt;<i>             if (callback)
</I>&gt;<i>             {
</I>&gt;<i>                 osg::DrawableUpdateCallback* drawable_callback = callback-&gt;asDrawableUpdateCallback();
</I>&gt;<i>                 osg::NodeCallback* node_callback = callback-&gt;asNodeCallback();
</I>&gt;<i>
</I>&gt;<i>                 if (drawable_callback) drawable_callback-&gt;update(this,&amp;drawable);
</I>&gt;<i>                 if (node_callback) (*node_callback)(&amp;drawable, this);
</I>&gt;<i>
</I>&gt;<i>                 if (!drawable_callback &amp;&amp; !node_callback)  callback-&gt;run(&amp;drawable, this);
</I>&gt;<i>             }
</I>&gt;<i>
</I>&gt;<i>             handle_callbacks(drawable.getStateSet());
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Julien
</I>&gt;<i>
</I>&gt;<i> ------------------------
</I>&gt;<i> Twirling twirling twirling toward freedom
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="../../../../forum.openscenegraph.org/viewtopic4ba9.php?p=75691#75691">http://forum.openscenegraph.org/viewtopic.php?p=75691#75691</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>





<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="009775.html">[osg-users] updatecallback deprecation proposal
</A></li>
	<LI>Next message (by thread): <A HREF="009778.html">[osg-users] Values of osg_FrameTime?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9776">[ date ]</a>
              <a href="thread.html#9776">[ thread ]</a>
              <a href="subject.html#9776">[ subject ]</a>
              <a href="author.html#9776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
