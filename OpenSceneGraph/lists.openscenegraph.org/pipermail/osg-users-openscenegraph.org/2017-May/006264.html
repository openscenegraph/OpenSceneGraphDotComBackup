<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Update to Depth Patitioner
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Update%20to%20Depth%20Patitioner&In-Reply-To=%3C598cdf50-0016-d0c3-ba5c-f79973ad811a%40xs4all.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="282486.html">
   <LINK REL="Next"  HREF="006278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Update to Depth Patitioner</H1>
<!--htdig_noindex-->
    <B>Raymond de Vries</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Update%20to%20Depth%20Patitioner&In-Reply-To=%3C598cdf50-0016-d0c3-ba5c-f79973ad811a%40xs4all.nl%3E"
       TITLE="[osg-users] Update to Depth Patitioner">reedev at xs4all.nl
       </A><BR>
    <I>Tue May 23 22:36:06 PDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="282486.html">[osg-users] Update to Depth Patitioner
</A></li>
        <LI>Next message: <A HREF="006278.html">[osg-users] Update to Depth Patitioner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6264">[ date ]</a>
              <a href="thread.html#6264">[ thread ]</a>
              <a href="subject.html#6264">[ subject ]</a>
              <a href="author.html#6264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Ravi,

It is hard not to be interested, after your enthousiast mail. So yes!

Cheers,
Raymond




On 23-5-2017 23:04, Ravi Mathur wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> A looong time ago I had created the DepthPartitionNode, which split up an OSG scene into multiple depth partitions and rendered them with multiple cameras. This turned into the original osgdepthpartition example. My implementation created nested cameras, which worked fine at the time, but posed some problems with shadows. The solution to this was to use slave cameras, and eventually my DepthPartitionNode was removed from OSG in favor of the dual slave camera approach that is currently in osgViewer::View.
</I>&gt;<i>
</I>&gt;<i> Recently I've gotten back into OSG-related development, and my first task has been to rewrite the DepthPartitionNode. I've created a new DepthPartitioner class which dynamically creates and manages slave cameras for a given osgViewer::View.  A few features of the new DepthPartitioner class:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Creates its own &quot;main&quot; slave camera, and attaches a slave update callback that dynamically creates additional slaves to render depth partitions. Important to note that it doesn't mess with any callbacks that may be installed on the View's master camera.
</I>&gt;<i>
</I>&gt;<i> *Obeys the relevant settings of the View's master camera. e.g. near/far ratio, graphics context, viewport, view/projection matrices (except depth of course).
</I>&gt;<i>
</I>&gt;<i> *Disables its unused slave cameras instead of destroying them, since the osg::Camera is lightweight.
</I>&gt;<i>
</I>&gt;<i> *Cleans up after itself when you no longer need to depth-partition the osgViewer::View.
</I>&gt;<i>
</I>&gt;<i> *Specify a minimum zNear that will never be violated. This is useful for VR applications where you really don't want anything drawn closer than a few cm from the eye.
</I>&gt;<i>
</I>&gt;<i> * Customize how slave cameras are created. By default one camera is created per depth partition, but this can be overridden to create stereo cameras per partition for rendering unlimited depth precision within VR. I've done this, and it's VERY cool to sit on a satellite with the Vive and watch other satellites in your constellation move around you while you orbit the Earth.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I was wondering, is there interest in this for the general OSG community? Currently it resides as a part of my own Open Source OSG-based API, but I would be happy to contribute it as standalone code to OSG.
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i> Ravi
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=70967#70967">http://forum.openscenegraph.org/viewtopic.php?p=70967#70967</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i> Deze e-mail is gecontroleerd op virussen door AVG.
</I>&gt;<i> <A HREF="http://www.avg.com/">http://www.avg.com</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="282486.html">[osg-users] Update to Depth Patitioner
</A></li>
	<LI>Next message: <A HREF="006278.html">[osg-users] Update to Depth Patitioner
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6264">[ date ]</a>
              <a href="thread.html#6264">[ thread ]</a>
              <a href="subject.html#6264">[ subject ]</a>
              <a href="author.html#6264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
