<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] I created 10000 cylinder, osg run very slow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20I%20created%2010000%20cylinder%2C%20osg%20run%20very%20slow&In-Reply-To=%3C55AF4557.7070906%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000867.html">
   <LINK REL="Next"  HREF="000879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] I created 10000 cylinder, osg run very slow</H1>
<!--htdig_noindex-->
    <B>Sebastian Messerschmidt</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20I%20created%2010000%20cylinder%2C%20osg%20run%20very%20slow&In-Reply-To=%3C55AF4557.7070906%40gmx.de%3E"
       TITLE="[osg-users] I created 10000 cylinder, osg run very slow">sebastian.messerschmidt at gmx.de
       </A><BR>
    <I>Wed Jul 22 00:25:11 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000867.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
        <LI>Next message: <A HREF="000879.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#870">[ date ]</a>
              <a href="thread.html#870">[ thread ]</a>
              <a href="subject.html#870">[ subject ]</a>
              <a href="author.html#870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I need to use cylinder to simulate the &#8220;ladder&#8221;.  So there are many cylinder to create. I new a osg::Geode , and then use it to new 10000 osg::MatrixTransform, all these osg::MatrixTransform were added to one group.
</I>&gt;<i>
</I>&gt;<i> But the program runs very very slow.
</I>Are you testing in debug mode?
&gt;<i> In fact I create the same scene using opengl, the program runs quickly.
</I>Are you using the osg::Shapedrawable for the cylinder shape? Try to 
replace it with a simple triangle for testing to see if the geometry or 
the transforms are your bottleneck.

I'd use hw-instancing for this amount of copies of a simple geometry or 
bake the transformations into big geometries representing hundreds of 
cylinders each.

Also if the 10000 elements are spatially separable and thus not all of 
them in the view at the same time you should use some grouping to 
balance your scenegraph. Simply putting 10000 transforms into one group 
most likely will kill performance, as all children will have to be 
traversed each frame.


&gt;<i>
</I>&gt;<i> How can I upgrade my program?
</I>&gt;<i> thanks.
</I>Can you provide a more detailed description or an example? Your question 
is too open to get you specific answers.
&gt;<i>
</I>&gt;<i> Thank you!
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> LUO
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="../../../../forum.openscenegraph.org/viewtopic787d.php?p=64386#64386">http://forum.openscenegraph.org/viewtopic.php?p=64386#64386</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Attachments:
</I>&gt;<i> <A HREF="../../../../forum.openscenegraph.org/files/mfc_osg_124.cpp">http://forum.openscenegraph.org//files/mfc_osg_124.cpp</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>

</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000867.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
	<LI>Next message: <A HREF="000879.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#870">[ date ]</a>
              <a href="thread.html#870">[ thread ]</a>
              <a href="subject.html#870">[ subject ]</a>
              <a href="author.html#870">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
