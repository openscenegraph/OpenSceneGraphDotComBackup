<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] ClipNode Opposite Behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20ClipNode%20Opposite%20Behavior&In-Reply-To=%3C1437744157.m2f.64467%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000930.html">
   <LINK REL="Next"  HREF="000940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] ClipNode Opposite Behavior</H1>
<!--htdig_noindex-->
    <B>Erik Hensens</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20ClipNode%20Opposite%20Behavior&In-Reply-To=%3C1437744157.m2f.64467%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] ClipNode Opposite Behavior">ehensens at hunter.com
       </A><BR>
    <I>Fri Jul 24 06:22:37 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000930.html">[osg-users] ClipNode Opposite Behavior
</A></li>
        <LI>Next message: <A HREF="000940.html">[osg-users] ClipNode Opposite Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#934">[ date ]</a>
              <a href="thread.html#934">[ thread ]</a>
              <a href="subject.html#934">[ subject ]</a>
              <a href="author.html#934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Thanks Christian. It's funny you mention that because since I'm not setting the color, the quad looks like an old television tuned to a frequency not in service, i.e. &quot;static&quot; or &quot;snow&quot;. I think every time the quad is rendered each fragment's color is set to whatever value is in some uninitialized portion of memory, and each fragment changes color each time it is rendered. Quite a funny effect!

I added the following line to set the color, and now it is always blue, but it's still not putting a hole in my quad, it's all there or all gone depending on whether I say if (fDist &lt; rad) or if (fDist &gt; rad):


Code:

// The fragment shader program source code
std::string szFragSource(
&quot;uniform vec3 center;\n&quot;
&quot;uniform float rad;\n&quot;
&quot;void main()\n&quot;
&quot;{\n&quot;
&quot;float fDistX = gl_FragCoord.x - center.x;\n&quot;
&quot;float fDistY = gl_FragCoord.y - center.y;\n&quot;
&quot;float fDistZ = gl_FragCoord.z - center.z;\n&quot;
&quot;float fDist = sqrt(fDistX * fDistX + fDistY * fDistY + fDistZ * fDistZ);\n&quot;
&quot;gl_FragColor = vec4(0.0,0.0,1.0,1.0);\n&quot;
&quot;if (fDist &lt; rad) discard;\n&quot;
&quot;}\n&quot;
);




Any other ideas about why my code doesn't achieve what I want? For example, am I using gl_FragCoord correctly? Are there other errors in my frag source?

Thanks again!


cbuchner1 wrote:
&gt;<i> I believe your fragment shader is not setting the output fragment color at all, which is a minimum requirement for a fragment shader to work.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Christian
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 2015-07-23 23:59 GMT+02:00 Erik Hensens &lt; ()&gt;:
</I>&gt;<i> 
</I>&gt;<i> &gt; Sorry for the triplicate post, I received an error message on trying to post until I removed the quotes...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ------------------
</I>&gt;<i> &gt; Read this topic online here:
</I>&gt;<i> &gt; <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64458#64458">http://forum.openscenegraph.org/viewtopic.php?p=64458#64458</A> (<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64458#64458">http://forum.openscenegraph.org/viewtopic.php?p=64458#64458</A>)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; osg-users mailing list
</I>&gt;<i> &gt;  ()
</I>&gt;<i> &gt; <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A> (<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  ------------------
</I>&gt;<i> Post generated by Mail2Forum
</I>

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64467#64467">http://forum.openscenegraph.org/viewtopic.php?p=64467#64467</A>






</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000930.html">[osg-users] ClipNode Opposite Behavior
</A></li>
	<LI>Next message: <A HREF="000940.html">[osg-users] ClipNode Opposite Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#934">[ date ]</a>
              <a href="thread.html#934">[ thread ]</a>
              <a href="subject.html#934">[ subject ]</a>
              <a href="author.html#934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
