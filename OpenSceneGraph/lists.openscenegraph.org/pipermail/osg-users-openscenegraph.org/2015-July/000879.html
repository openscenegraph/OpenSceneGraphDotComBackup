<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] I created 10000 cylinder, osg run very slow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20I%20created%2010000%20cylinder%2C%20osg%20run%20very%20slow&In-Reply-To=%3CCAO-%2Bzi%3DeqD%2BEFbD6kP4XyHJE2h%2BPhGb-L_JD5zSZFbN_aLdVZw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000870.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] I created 10000 cylinder, osg run very slow</H1>
<!--htdig_noindex-->
    <B>Trajce Nikolov NICK</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20I%20created%2010000%20cylinder%2C%20osg%20run%20very%20slow&In-Reply-To=%3CCAO-%2Bzi%3DeqD%2BEFbD6kP4XyHJE2h%2BPhGb-L_JD5zSZFbN_aLdVZw%40mail.gmail.com%3E"
       TITLE="[osg-users] I created 10000 cylinder, osg run very slow">trajce.nikolov.nick at gmail.com
       </A><BR>
    <I>Wed Jul 22 04:07:56 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000870.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
        <LI>Next message: <A HREF="000881.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#879">[ date ]</a>
              <a href="thread.html#879">[ thread ]</a>
              <a href="subject.html#879">[ subject ]</a>
              <a href="author.html#879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Luo,

have a look at this paper - it is OSG related with GL calls (In the latest
OSG release there are OSG wrappers for most of them). It will help you with
large number of instancing and controlling each instance separately

<A HREF="http://3dcgtutorials.blogspot.com/2013/09/instancing-with-openscenegraph-part-ii.html">http://3dcgtutorials.blogspot.com/2013/09/instancing-with-openscenegraph-part-ii.html</A>

Hope it helps
Nick

On Wed, Jul 22, 2015 at 9:25 AM, Sebastian Messerschmidt &lt;
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">sebastian.messerschmidt at gmx.de</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I need to use cylinder to simulate the &#8220;ladder&#8221;.  So there are many
</I>&gt;&gt;<i> cylinder to create. I new a osg::Geode , and then use it to new 10000
</I>&gt;&gt;<i> osg::MatrixTransform, all these osg::MatrixTransform were added to one
</I>&gt;&gt;<i> group.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But the program runs very very slow.
</I>&gt;&gt;<i>
</I>&gt;<i> Are you testing in debug mode?
</I>&gt;<i>
</I>&gt;&gt;<i> In fact I create the same scene using opengl, the program runs quickly.
</I>&gt;&gt;<i>
</I>&gt;<i> Are you using the osg::Shapedrawable for the cylinder shape? Try to
</I>&gt;<i> replace it with a simple triangle for testing to see if the geometry or the
</I>&gt;<i> transforms are your bottleneck.
</I>&gt;<i>
</I>&gt;<i> I'd use hw-instancing for this amount of copies of a simple geometry or
</I>&gt;<i> bake the transformations into big geometries representing hundreds of
</I>&gt;<i> cylinders each.
</I>&gt;<i>
</I>&gt;<i> Also if the 10000 elements are spatially separable and thus not all of
</I>&gt;<i> them in the view at the same time you should use some grouping to balance
</I>&gt;<i> your scenegraph. Simply putting 10000 transforms into one group most likely
</I>&gt;<i> will kill performance, as all children will have to be traversed each frame.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> How can I upgrade my program?
</I>&gt;&gt;<i> thanks.
</I>&gt;&gt;<i>
</I>&gt;<i> Can you provide a more detailed description or an example? Your question
</I>&gt;<i> is too open to get you specific answers.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> LUO
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------
</I>&gt;&gt;<i> Read this topic online here:
</I>&gt;&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64386#64386">http://forum.openscenegraph.org/viewtopic.php?p=64386#64386</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Attachments:
</I>&gt;&gt;<i> <A HREF="http://forum.openscenegraph.org//files/mfc_osg_124.cpp">http://forum.openscenegraph.org//files/mfc_osg_124.cpp</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>


-- 
trajce nikolov nick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150722/1a846217/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150722/1a846217/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000870.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
	<LI>Next message: <A HREF="000881.html">[osg-users] I created 10000 cylinder, osg run very slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#879">[ date ]</a>
              <a href="thread.html#879">[ thread ]</a>
              <a href="subject.html#879">[ subject ]</a>
              <a href="author.html#879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
