<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Orientating model in 3D space with quaternions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Orientating%20model%20in%203D%20space%20with%20quaternions&In-Reply-To=%3CDUB124-W52BBE6C1AEFC52F5E7E3A5C8970%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000764.html">
   <LINK REL="Next"  HREF="000766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Orientating model in 3D space with quaternions</H1>
<!--htdig_noindex-->
    <B>Sonya Blade</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Orientating%20model%20in%203D%20space%20with%20quaternions&In-Reply-To=%3CDUB124-W52BBE6C1AEFC52F5E7E3A5C8970%40phx.gbl%3E"
       TITLE="[osg-users] Orientating model in 3D space with quaternions">sonyablade2010 at hotmail.com
       </A><BR>
    <I>Thu Jul  2 10:18:36 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000764.html">[osg-users] OpenSceneGraph-3.3.9 dev release tagged
</A></li>
        <LI>Next message: <A HREF="000766.html">[osg-users] Orientating model in 3D space with quaternions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#276988">[ date ]</a>
              <a href="thread.html#276988">[ thread ]</a>
              <a href="subject.html#276988">[ subject ]</a>
              <a href="author.html#276988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Dear All,
I load a model with the following code in my program, p1 and p2 are osg::Vec3 type variables and simply representingthe each ends of object in spatial space ( I also use them to find the direction vector). What I want to achive is: to place that model up vector always aligned  facing upward ( this doesn't mean that it must coincidence/be parallel with global Z axis)  to achieve that  If I apply the quaternions then object is positioned with correct direction vector (calulated via p1, p2)  but rolled with arbitrary angle along that direction vector, which violates my conditional goal.
It also seems that it's not a supprise that it produces that result bcoz nowhere I specify the crucial right or up vector with quaternion which is required to position the object in 3D space. So How am I supposed to correct that effect either with quaternions or matrices ?  
                  loadedModel = osgDB::readNodeFile(&quot;quad.obj&quot;);                  osg::Vec3Array* verlist= static_cast&lt;osg::Vec3Array* &gt;(rubber_line-&gt;getVertexArray());                  osg::Vec3 p1 = (*verlist)[0];                  osg::Vec3 p2 = (*verlist)[1];
                  osg::ref_ptr&lt;osg::PositionAttitudeTransform&gt; Transf = new osg::PositionAttitudeTransform;                  Transf-&gt;setPosition( p1 );
                  osg::Quat quad;                  osg::Matrix matrix, mat2;
                  quad.makeRotate(osg::Vec3(0,1,0),p2-p1);
                  Transf-&gt;setAttitude(quad);                    Transf-&gt;addChild(loadedModel);                    rootnode-&gt;addChild(Transf);

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150702/fc410cb2/attachment-0002.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150702/fc410cb2/attachment-0002.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000764.html">[osg-users] OpenSceneGraph-3.3.9 dev release tagged
</A></li>
	<LI>Next message: <A HREF="000766.html">[osg-users] Orientating model in 3D space with quaternions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#276988">[ date ]</a>
              <a href="thread.html#276988">[ thread ]</a>
              <a href="subject.html#276988">[ subject ]</a>
              <a href="author.html#276988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
