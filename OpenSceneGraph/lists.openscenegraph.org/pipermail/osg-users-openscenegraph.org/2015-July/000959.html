<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [osgPlugins] Trouble with texture to export to	OSGJS format
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BosgPlugins%5D%20Trouble%20with%20texture%20to%20export%20to%0A%09OSGJS%20format&In-Reply-To=%3CCAM4StfArL38RgV7fzpUkBubqKX9Ovr9n%2Bpi7eHhvAKuyaNLm2g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="277180.html">
   <LINK REL="Next"  HREF="000968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [osgPlugins] Trouble with texture to export to	OSGJS format</H1>
<!--htdig_noindex-->
    <B>Jordi Torres</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BosgPlugins%5D%20Trouble%20with%20texture%20to%20export%20to%0A%09OSGJS%20format&In-Reply-To=%3CCAM4StfArL38RgV7fzpUkBubqKX9Ovr9n%2Bpi7eHhvAKuyaNLm2g%40mail.gmail.com%3E"
       TITLE="[osg-users] [osgPlugins] Trouble with texture to export to	OSGJS format">jtorresfabra at gmail.com
       </A><BR>
    <I>Mon Jul 27 10:30:43 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="277180.html">[osg-users] [osgPlugins] Trouble with texture to export to OSGJS	format
</A></li>
        <LI>Next message: <A HREF="000968.html">[osg-users] [osgPlugins] Trouble with texture to export to	OSGJS format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#959">[ date ]</a>
              <a href="thread.html#959">[ thread ]</a>
              <a href="subject.html#959">[ subject ]</a>
              <a href="author.html#959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Mathieu,

You should use the gles plugin to export to avoid the Fatal nb colors error.
See: <A HREF="https://github.com/cedricpinson/osgjs/wiki/Convert-model-with-OSG.">https://github.com/cedricpinson/osgjs/wiki/Convert-model-with-OSG.</A>

For the images:

You can try to convert first your model to osgb and write the textures to
disk and then convert to osgjs using $osgconv file.osgb.gles file.osgjs, if
the osgjs plugin is not writting to disk the images.
Also you can save them as inline images in the same osgjs file. The
resultant file will be bigger though, but it is ok for quick tests. For
example drag &amp; dropping here <A HREF="http://webkeux.com/osgjs-test/">http://webkeux.com/osgjs-test/</A>

One more thing, if you have the images as separate files you *must *use a
server (http server I mean).

Cheers.

2015-07-27 9:59 GMT+02:00 Mathieu Bartillat &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">mathieu.rougeron at telespazio.com</A>
&gt;:<i>
</I>
&gt;<i> Good morning,
</I>&gt;<i>
</I>&gt;<i> I'm hardly trying to export a 3d model to OSGJS format but I have trouble
</I>&gt;<i> with the textures. Concretely the textures do not appear in the OSGJS
</I>&gt;<i> output file.
</I>&gt;<i>
</I>&gt;<i> What I did:
</I>&gt;<i>
</I>&gt;<i> 1) initially I had an IVE file that an infographist gave me. I tried the
</I>&gt;<i> two commands osgconv File.ive File.osgjs.
</I>&gt;<i> I got this return:
</I>&gt;<i> Fatal nb colors 1 != 1349
</I>&gt;<i> can't save osgjs file
</I>&gt;<i> Unable to write to output stream
</I>&gt;<i>
</I>&gt;<i> Idem with osgconv -O OutputTextureFiles File.ive File.osgjs
</I>&gt;<i>
</I>&gt;<i> 2) I tried (just for test) to convert the ive file to osg format. It works
</I>&gt;<i> but the output file has no texture.
</I>&gt;<i>
</I>&gt;<i> 3) I asked the infographist to export the model to OBJ format with 3dsMAX.
</I>&gt;<i> So I got an OBJ file and a MTL file.
</I>&gt;<i> Then I do osgconv -O OutputTextureFiles File.obj File.osgjs
</I>&gt;<i> I get some warnings such as
</I>&gt;<i>
</I>&gt;<i> *** line not handled *** :map_refl
</I>&gt;<i> C:\myFolder\myFolder2\maps\refmap_txt.jpg
</I>&gt;<i> Warning: [ReaderWriterOBJ::convertElementListToGeometry] Some faces from
</I>&gt;<i> geometry '' were reversed by the plugin
</I>&gt;<i>
</I>&gt;<i> Strange because the JPG file really exists in my fodler ! I have other JPG
</I>&gt;<i> files and I have no warning message for them.
</I>&gt;<i> Anyway, I do not think it is the source of the problem.
</I>&gt;<i> But the final OSGJS does not appear with textures, as no texture is
</I>&gt;<i> exported. The geometry is correct.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Apparently I did something wrong, but I don't know where !
</I>&gt;<i> If someone has an idea about this export issue ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks a lot and have a good day,
</I>&gt;<i> Mathieu
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64482#64482">http://forum.openscenegraph.org/viewtopic.php?p=64482#64482</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>


-- 
Jordi Torres
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150727/739a2ca8/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150727/739a2ca8/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="277180.html">[osg-users] [osgPlugins] Trouble with texture to export to OSGJS	format
</A></li>
	<LI>Next message: <A HREF="000968.html">[osg-users] [osgPlugins] Trouble with texture to export to	OSGJS format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#959">[ date ]</a>
              <a href="thread.html#959">[ thread ]</a>
              <a href="subject.html#959">[ subject ]</a>
              <a href="author.html#959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
