<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] [GL ES2] Compilation errors on master branch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BGL%20ES2%5D%20Compilation%20errors%20on%20master%20branch&In-Reply-To=%3CCAFN7Y%2BW%3DQ5mNuc%3DTOH5RfU49VEqErPy4jcSzgRxKLYw6kLj%2B4g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="000883.html">
   <LINK REL="Next"  HREF="000895.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] [GL ES2] Compilation errors on master branch</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20%5BGL%20ES2%5D%20Compilation%20errors%20on%20master%20branch&In-Reply-To=%3CCAFN7Y%2BW%3DQ5mNuc%3DTOH5RfU49VEqErPy4jcSzgRxKLYw6kLj%2B4g%40mail.gmail.com%3E"
       TITLE="[osg-users] [GL ES2] Compilation errors on master branch">robert.osfield at gmail.com
       </A><BR>
    <I>Wed Jul 22 02:13:37 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000883.html">[osg-users] [GL ES2] Compilation errors on master branch
</A></li>
        <LI>Next message: <A HREF="000895.html">[osg-users] [GL ES2] Compilation errors on master branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#876">[ date ]</a>
              <a href="thread.html#876">[ thread ]</a>
              <a href="subject.html#876">[ subject ]</a>
              <a href="author.html#876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Alex,

Thanks for the testing.  I'm not clear on what system you are building on.
It looks like Linux of some variant.

With the suggested modifications could you please provide full modified
files, as embedding lots of modifications into a single email, copying and
pasting modifications simply isn't a reliable means for me to attempt fixes.

Cheers,
Robert.



On 19 July 2015 at 08:31, Alex Cham &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">cau.mbox at gmail.com</A>&gt; wrote:

&gt;<i> Hi, Here is what i have found &amp; how it was fixed
</I>&gt;<i>
</I>&gt;<i> OpenSceneGraph Version
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> #define OPENSCENEGRAPH_MAJOR_VERSION    3
</I>&gt;<i> #define OPENSCENEGRAPH_MINOR_VERSION    5
</I>&gt;<i> #define OPENSCENEGRAPH_PATCH_VERSION    0
</I>&gt;<i> #define OPENSCENEGRAPH_SOVERSION        130
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> $ git log -1
</I>&gt;<i> commit bc3a77cb1561ed2e47e88ab507180bcf15309f31
</I>&gt;<i> Author: Robert OSFIELD &lt;&gt;
</I>&gt;<i> Date:   Fri Jul 17 18:31:22 2015 +0000
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Configure &amp; Compile OSG For GLESX
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://trac.openscenegraph.org/projects/osg/wiki/Community/OpenGL-ES">http://trac.openscenegraph.org/projects/osg/wiki/Community/OpenGL-ES</A>
</I>&gt;<i>
</I>&gt;<i> $ ls -ail /usr/lib/x86_64-linux-gnu | grep EG
</I>&gt;<i>  671904 lrwxrwxrwx   1 root root       15 Jul 10 13:08 libEGL.so -&gt;
</I>&gt;<i> libEGL.so.1.0.0
</I>&gt;<i>  671897 lrwxrwxrwx   1 root root       15 Jul 10 13:08 libEGL.so.1 -&gt;
</I>&gt;<i> libEGL.so.1.0.0
</I>&gt;<i>  656425 -rw-r--r--   1 root root   173208 Jul 10 13:08 libEGL.so.1.0.0
</I>&gt;<i>
</I>&gt;<i> $ ls -ail /usr/lib/x86_64-linux-gnu | grep ES
</I>&gt;<i>  660380 lrwxrwxrwx   1 root root       21 Jul 10 13:08 libGLESv1_CM.so.1
</I>&gt;<i> -&gt; libGLESv1_CM.so.1.1.0
</I>&gt;<i>  660378 -rw-r--r--   1 root root    18232 Jul 10 13:08
</I>&gt;<i> libGLESv1_CM.so.1.1.0
</I>&gt;<i>  656932 lrwxrwxrwx   1 root root       18 Jul 10 13:08 libGLESv2.so -&gt;
</I>&gt;<i> libGLESv2.so.2.0.0
</I>&gt;<i>  671907 lrwxrwxrwx   1 root root       18 Jul 10 13:08 libGLESv2.so.2 -&gt;
</I>&gt;<i> libGLESv2.so.2.0.0
</I>&gt;<i>  668652 -rw-r--r--   1 root root    26424 Jul 10 13:08 libGLESv2.so.2.0.0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> $ ls -ail /usr/include/ | grep ES
</I>&gt;<i> 1573223 drwxr-xr-x  2 root root   4096 Jul 18 20:16 GLES2
</I>&gt;<i> 1573218 drwxr-xr-x  2 root root   4096 Jul 18 20:16 GLES3
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> mkdir ./GLES2ContextBuild
</I>&gt;<i> cd ./GLES2ContextBuild
</I>&gt;<i>
</I>&gt;<i> cmake \
</I>&gt;<i> -DCMAKE_C_COMPILER=&quot;/usr/bin/clang&quot; \
</I>&gt;<i> -DCMAKE_CXX_COMPILER=&quot;/usr/bin/clang++&quot; \
</I>&gt;<i> -DCMAKE_CXX_FLAGS=&quot;-std=c++11 -v -Wall&quot; \
</I>&gt;<i> -DBUILD_OSG_EXAMPLES=1 \
</I>&gt;<i> -DOSG_GL1_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GL2_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GL3_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GLES1_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GLES2_AVAILABLE=ON \
</I>&gt;<i> -DOPENGL_INCLUDE_DIR=/usr/include/ \
</I>&gt;<i> -DOPENGL_LIBRARY=/usr/lib/x86_64-linux-gnu/libGLESv2.so \
</I>&gt;<i> -DOPENGL_egl_LIBRARY=/usr/lib/x86_64-linux-gnu/libEGL.so \
</I>&gt;<i> -DOSG_GL_DISPLAYLISTS_AVAILABLE=OFF \
</I>&gt;<i> -DSG_GL_MATRICES_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GL_VERTEX_FUNCS_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GL_VERTEX_ARRAY_FUNCS_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_GL_FIXED_FUNCTION_AVAILABLE=OFF \
</I>&gt;<i> -DOSG_CPP_EXCEPTIONS_AVAILABLE=OFF \
</I>&gt;<i> ../GLES2ContextSource
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> LLVMToolchain Errors &amp; Fixes
</I>&gt;<i>
</I>&gt;<i> typedef redefinition with different types (typedef long long int
</I>&gt;<i> GLint64)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> E:
</I>&gt;<i> /home/alex/dev/sources/osgbullet/Dependencies/osg/LLVM/GLES2ContextBuild/include/osg/GL:123:31:
</I>&gt;<i> error: typedef redefinition with different types
</I>&gt;<i>       ('long long' vs 'khronos_int64_t' (aka 'long'))
</I>&gt;<i>         typedef long long int GLint64;
</I>&gt;<i>                               ^
</I>&gt;<i> /usr/include/GLES2/gl2.h:63:25: note: previous definition is here
</I>&gt;<i> typedef khronos_int64_t GLint64;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> F:
</I>&gt;<i>
</I>&gt;<i> osg/src/osg/GL.in
</I>&gt;<i>
</I>&gt;<i> Just comment or remove the else block and all compiles perfect. GLint64 is
</I>&gt;<i> already defined in headers provided by Mesa3d for your platform as &quot;typedef
</I>&gt;<i> khronos_int64_t GLint64;&quot; For Windows maybe, have nothing to say here
</I>&gt;<i> because i
</I>&gt;<i> dont use it, but for Linux why should we redefine something here
</I>&gt;<i> explicitly?
</I>&gt;<i>
</I>&gt;<i> #if !defined(GL_VERSION_3_1)
</I>&gt;<i>     #ifdef _WIN32
</I>&gt;<i>         typedef          __int64 GLint64;
</I>&gt;<i>         typedef unsigned __int64 GLuint64;
</I>&gt;<i>     #else
</I>&gt;<i>         /*typedef long long int GLint64;*/
</I>&gt;<i>         /*typedef unsigned long long int GLuint64;*/
</I>&gt;<i>     #endif
</I>&gt;<i> #endif
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> undeclared identifier 'GL_ALPHA_TEST'
</I>&gt;<i>
</I>&gt;<i> E:
</I>&gt;<i> /home/alex/dev/sources/osgbullet/Dependencies/osg/LLVM/GLES2ContextSource/examples/osgSSBO/osgSSBO.cpp:550:48:
</I>&gt;<i> error: use of undeclared identifier
</I>&gt;<i>       'GL_ALPHA_TEST'
</I>&gt;<i>     _computationResultsRenderStateSet-&gt;setMode(GL_ALPHA_TEST,
</I>&gt;<i> osg::StateAttribute::ON);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> F:
</I>&gt;<i>
</I>&gt;<i> GL_ALPHA_TEST Is not declared in GLES2
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glEnable.xml">https://www.khronos.org/opengles/sdk/docs/man/xhtml/glEnable.xml</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/examples/osgSSBO/CMakeLists.txt">http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/examples/osgSSBO/CMakeLists.txt</A>
</I>&gt;<i>
</I>&gt;<i> IF ((OPENGL_PROFILE STREQUAL &quot;GL3&quot;) OR (OPENGL_PROFILE STREQUAL &quot;GLCORE&quot;))
</I>&gt;<i> # E: 2
</I>&gt;<i> #/home/alex/dev/sources/osgbullet/Dependencies/osg/GL43HeadersConventionSource/examples/osgSSBO/osgSSBO.cpp:550:48:
</I>&gt;<i> error: &#8216;GL_ALPHA_TEST&#8217; was not declared in this scope
</I>&gt;<i> #     _computationResultsRenderStateSet-&gt;setMode(GL_ALPHA_TEST,
</I>&gt;<i> osg::StateAttribute::ON);
</I>&gt;<i>
</I>&gt;<i> # F:
</I>&gt;<i>
</I>&gt;<i> # GL 2
</I>&gt;<i> #GL_ALPHA_TEST
</I>&gt;<i> #
</I>&gt;<i> #If enabled,do alpha testing. See glAlphaFunc.
</I>&gt;<i> #
</I>&gt;<i> #<A HREF="https://www.opengl.org/sdk/docs/man2/xhtml/glEnable.xml">https://www.opengl.org/sdk/docs/man2/xhtml/glEnable.xml</A>
</I>&gt;<i>
</I>&gt;<i> # GL 3
</I>&gt;<i> #No Enumerant GL_ALPHA_TEST
</I>&gt;<i> #<A HREF="https://www.opengl.org/sdk/docs/man3/xhtml/glEnable.xml">https://www.opengl.org/sdk/docs/man3/xhtml/glEnable.xml</A>
</I>&gt;<i>
</I>&gt;<i> ELSEIF(OSG_GLES2_AVAILABLE STREQUAL &quot;ON&quot;)
</I>&gt;<i>
</I>&gt;<i> #E:
</I>&gt;<i> #/home/alex/dev/sources/osgbullet/Dependencies/osg/LLVM/GLES2ContextSource/examples/osgSSBO/osgSSBO.cpp:550:48:
</I>&gt;<i> error: use of undeclared identifier
</I>&gt;<i> #      'GL_ALPHA_TEST'
</I>&gt;<i> #    _computationResultsRenderStateSet-&gt;setMode(GL_ALPHA_TEST,
</I>&gt;<i> osg::StateAttribute::ON);
</I>&gt;<i> #
</I>&gt;<i> #
</I>&gt;<i> #F:
</I>&gt;<i> #
</I>&gt;<i> #
</I>&gt;<i> <A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/examples/osgSSBO/CMakeLists.txt">http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/examples/osgSSBO/CMakeLists.txt</A>
</I>&gt;<i> #
</I>&gt;<i> #GL_ALPHA_TEST Is not declared in GLES2
</I>&gt;<i> #
</I>&gt;<i> #<A HREF="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glEnable.xml">https://www.khronos.org/opengles/sdk/docs/man/xhtml/glEnable.xml</A>
</I>&gt;<i>
</I>&gt;<i> ELSE()
</I>&gt;<i>
</I>&gt;<i> SET(TARGET_SRC osgSSBO.cpp )
</I>&gt;<i> SETUP_EXAMPLE(osgSSBO)
</I>&gt;<i>
</I>&gt;<i> ENDIF()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> call to 'isinf' is ambiguous
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> E:
</I>&gt;<i> /home/alex/dev/sources/osgbullet/Dependencies/osg/LLVM/GLES2ContextSource/src/osgPlugins/osgjs/json_stream:98:20:
</I>&gt;<i> error: call to 'isinf' is ambiguous
</I>&gt;<i>                 if(isinf(d)) {
</I>&gt;<i>
</I>&gt;<i> F:
</I>&gt;<i>
</I>&gt;<i> As i'm not needed in osgjs i just comment it out, but ofc error must be
</I>&gt;<i> fixed
</I>&gt;<i> apropriately
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/src/osgPlugins/CMakeLists.txt">http://svn.openscenegraph.org/osg/OpenSceneGraph/trunk/src/osgPlugins/CMakeLists.txt</A>
</I>&gt;<i>
</I>&gt;<i> # ADD_SUBDIRECTORY(osgjs)
</I>&gt;<i>
</I>&gt;<i> ------------------
</I>&gt;<i> Read this topic online here:
</I>&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=64360#64360">http://forum.openscenegraph.org/viewtopic.php?p=64360#64360</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20150722/026c4ff7/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20150722/026c4ff7/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000883.html">[osg-users] [GL ES2] Compilation errors on master branch
</A></li>
	<LI>Next message: <A HREF="000895.html">[osg-users] [GL ES2] Compilation errors on master branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#876">[ date ]</a>
              <a href="thread.html#876">[ thread ]</a>
              <a href="subject.html#876">[ subject ]</a>
              <a href="author.html#876">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
