<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] getting userData or accumulated Uniform in nodevisitor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20getting%20userData%20or%20accumulated%20Uniform%20in%0A%20nodevisitor&In-Reply-To=%3CCAFN7Y%2BUKSFq_cX%3DMVff%2Bbt57LLDQPoYvjOXfoZ5jOJoFoDE3eQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011386.html">
   <LINK REL="Next"  HREF="011388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] getting userData or accumulated Uniform in nodevisitor</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20getting%20userData%20or%20accumulated%20Uniform%20in%0A%20nodevisitor&In-Reply-To=%3CCAFN7Y%2BUKSFq_cX%3DMVff%2Bbt57LLDQPoYvjOXfoZ5jOJoFoDE3eQ%40mail.gmail.com%3E"
       TITLE="[osg-users] getting userData or accumulated Uniform in nodevisitor">robert.osfield at gmail.com
       </A><BR>
    <I>Tue Feb  2 04:59:37 PST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="011386.html">[osg-users] getting userData or accumulated Uniform in nodevisitor
</A></li>
        <LI>Next message (by thread): <A HREF="011388.html">[osg-users] getting userData or accumulated Uniform in nodevisitor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11387">[ date ]</a>
              <a href="thread.html#11387">[ thread ]</a>
              <a href="subject.html#11387">[ subject ]</a>
              <a href="author.html#11387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>On Tue, 2 Feb 2021 at 10:38, Werner Modenbach &lt;
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">Werner.Modenbach at modenbach-ac.de</A>&gt; wrote:

&gt;<i> Hi Robert,
</I>&gt;<i>
</I>
Replying to osg-users list so that others can chip in with insights or
learn from the discussion.


&gt;<i> I think I'm close to getting the solution.
</I>&gt;<i> Unfortunately the CullStack doesn't handle any StateSets.
</I>&gt;<i> I also do not really understand what a StateGraph is.
</I>&gt;<i> I just guess, calling *CullVisitor-&gt;getCurrentStateGraph()-&gt;_stateSet *gives
</I>&gt;<i> me the accumulated StateSet.
</I>&gt;<i> Am I right?
</I>&gt;<i> Or is the accumulation of StateSets somewhere in CullVisitor-&gt;getState()?
</I>&gt;<i> But there is no method for just querying a uniform in State.
</I>&gt;<i> Most of the classes have only push(), pop() or apply() methods. No query
</I>&gt;<i> methods.
</I>&gt;<i>
</I>
I have touched this code for years so you are probably more familiar with
it now than I.

&gt;<i>From the top of my head the CullVisitor doesn't directly manage individual
</I>state components like Uniform, just the high level StateSet.  The results
of the Cull traversal are passed on to the a osgUitl::StateGraph that
remains at the StateSet levels, it's only once this StateGraph is applied
during the draw traversal does the OSG's draw traversal behind to handle
the individual components of state like models, attributes and modes, and
this is done via osg::State.

What you are wanting to do is out of the ordinary, it's not something the
OSG was specifically designed to do.  Whether your approach is really
necessary or the best approach I don't know - I'm just trying to answer
questions.  When you do go beyond what the OSG was originally envisaged to
do you'll need to accept that you'll need to dig into code and figure stuff
out, I can only help you so much.

Robert.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20210202/cfb1d1bb/attachment.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20210202/cfb1d1bb/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="011386.html">[osg-users] getting userData or accumulated Uniform in nodevisitor
</A></li>
	<LI>Next message (by thread): <A HREF="011388.html">[osg-users] getting userData or accumulated Uniform in nodevisitor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11387">[ date ]</a>
              <a href="thread.html#11387">[ thread ]</a>
              <a href="subject.html#11387">[ subject ]</a>
              <a href="author.html#11387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
