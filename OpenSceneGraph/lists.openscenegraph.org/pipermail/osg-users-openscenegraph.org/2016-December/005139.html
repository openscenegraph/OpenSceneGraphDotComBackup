<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Texture%20projection%20on%20terrain%20and%0A%09gl_TextureMatrix%5B0...7%5D&In-Reply-To=%3CCANfcm6YTUoZ2yaS4NvBYJLLcMSe9qM47N7CX-AHwRz_T8hoOQw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="005138.html">
   <LINK REL="Next"  HREF="005150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]</H1>
<!--htdig_noindex-->
    <B>Glenn Waldron</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Texture%20projection%20on%20terrain%20and%0A%09gl_TextureMatrix%5B0...7%5D&In-Reply-To=%3CCANfcm6YTUoZ2yaS4NvBYJLLcMSe9qM47N7CX-AHwRz_T8hoOQw%40mail.gmail.com%3E"
       TITLE="[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]">gwaldron at gmail.com
       </A><BR>
    <I>Thu Dec 22 07:57:32 PST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005138.html">[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]
</A></li>
        <LI>Next message: <A HREF="005150.html">[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5139">[ date ]</a>
              <a href="thread.html#5139">[ thread ]</a>
              <a href="subject.html#5139">[ subject ]</a>
              <a href="author.html#5139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Ekaterina,

The model you are loading has a lot of state in it, like blending,
textures, etc. When you use a shader to render it, your shader needs to
support all the things that OSG would otherwise render using the GL
fixed-function pipeline. For example, the texture does not show up because
your shader does not sample it anywhere.

So you will need to build a shader program that combines the features in
the model with your projective texturing. You might start by looking at the
osgUtil::ShaderGen class for some hints, or by running that visitor on your
model and then dumping out the source and editing it.

Good luck.

Glenn Waldron

On Thu, Dec 22, 2016 at 10:27 AM, Christian Buchner &lt;
<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">christian.buchner at gmail.com</A>&gt; wrote:

&gt;<i> Just some wild guesses:
</I>&gt;<i>
</I>&gt;<i> You might have to enable blending in the state set, and set an appropriate
</I>&gt;<i> blend function as (depending on whether your projective texturing is done
</I>&gt;<i> in a 2nd render pass or not)
</I>&gt;<i>
</I>&gt;<i> On hardware that does not support opengl border colors
</I>&gt;<i> (ARB_texture_border_clamp) in hardware, you might have to explicitly set
</I>&gt;<i> the texture's border pixels to a transparent color, turning a 512x512 image
</I>&gt;<i> into effectively a 510x510 one.
</I>&gt;<i>
</I>&gt;<i> Christian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2016-12-22 16:03 GMT+01:00 Ekaterina Fokina &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">ekaterina.fokina at tum.de</A>&gt;:
</I>&gt;<i>
</I>&gt;&gt;<i> Thank you your answers!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Attached there is a printscreen what I get.
</I>&gt;&gt;<i> For the terrain I am using lz.osgt and the image for the texture file is
</I>&gt;&gt;<i> osg128.png.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I set the border to transparent, but unfortunatelly it didn&#180;t help...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Guys, could you please give me a hint how is it possible to relocate the
</I>&gt;&gt;<i> projected image on the terrain to a specific location on that terrain?
</I>&gt;&gt;<i> I am still confused how to set the texture coordinats uning shaders.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> Ekaterina
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------
</I>&gt;&gt;<i> Read this topic online here:
</I>&gt;&gt;<i> <A HREF="http://forum.openscenegraph.org/viewtopic.php?p=69738#69738">http://forum.openscenegraph.org/viewtopic.php?p=69738#69738</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> osg-users mailing list
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="../attachments/20161222/15537899/attachment-0003.html">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20161222/15537899/attachment-0003.htm</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005138.html">[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]
</A></li>
	<LI>Next message: <A HREF="005150.html">[osg-users] Texture projection on terrain and	gl_TextureMatrix[0...7]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5139">[ date ]</a>
              <a href="thread.html#5139">[ thread ]</a>
              <a href="subject.html#5139">[ subject ]</a>
              <a href="author.html#5139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
