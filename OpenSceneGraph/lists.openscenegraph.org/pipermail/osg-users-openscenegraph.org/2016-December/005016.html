<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] PolytopeIntersector with AutoTransform
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20PolytopeIntersector%20with%20AutoTransform&In-Reply-To=%3CCAFN7Y%2BX1smkS1wa6nRHeETCgAAJ6tNctjZSDM0oJgBg5HgP71Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="281236.html">
   <LINK REL="Next"  HREF="005017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] PolytopeIntersector with AutoTransform</H1>
<!--htdig_noindex-->
    <B>Robert Osfield</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20PolytopeIntersector%20with%20AutoTransform&In-Reply-To=%3CCAFN7Y%2BX1smkS1wa6nRHeETCgAAJ6tNctjZSDM0oJgBg5HgP71Q%40mail.gmail.com%3E"
       TITLE="[osg-users] PolytopeIntersector with AutoTransform">robert.osfield at gmail.com
       </A><BR>
    <I>Sun Dec  4 04:47:48 PST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="281236.html">[osg-users]  PolytopeIntersector with AutoTransform
</A></li>
        <LI>Next message: <A HREF="005017.html">[osg-users] PolytopeIntersector with AutoTransform
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5016">[ date ]</a>
              <a href="thread.html#5016">[ thread ]</a>
              <a href="subject.html#5016">[ subject ]</a>
              <a href="author.html#5016">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Bruno,

The complication with AutoTransform is the it computes it's values
only in the CullVisitor so you'll inherit what ever the last frame
used for it's settings.  This should work OK most of the time. If you
have multiple views on the scene this will mean that there are
multiple stats but only the last one will be left in place for the
next frame.

Robert.



On 3 December 2016 at 17:55, Bruno Oliveira
&lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">bruno.manata.oliveira at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> in my scene graph I'm using an AutoTransform to add a circle with Radius=10,
</I>&gt;<i> centered on (0,0,0):
</I>&gt;<i>
</I>&gt;<i>   float Radius = 10;
</I>&gt;<i>   for (int i = 0; i &lt; nPointsInCircle; i++)
</I>&gt;<i>     vertArray[i] = Vec3d( radius * sin(...), radius* cos(...), 0.));
</I>&gt;<i>
</I>&gt;<i> then I add this to a Drawable + Geode, and add that Geode to an
</I>&gt;<i> AutoTransform:
</I>&gt;<i>
</I>&gt;<i>   auto* autoTransform = new osg::AutoTransform;
</I>&gt;<i>   autoTransform-&gt;addChild(circleGeode);
</I>&gt;<i>   autoTransform-&gt;setAutoScaleToScreen(true);
</I>&gt;<i>   autoTransform-&gt;setPosition(100, 100, 0);
</I>&gt;<i>
</I>&gt;<i> This results in a circle located in (100, 100, 0), with radius 10, scaling
</I>&gt;<i> automatically to screen. VISUALLY this is what I want.
</I>&gt;<i> Now when I use a PolytopeIntersector on this node, it returns intersection
</I>&gt;<i> coordinates of the circle , in the Circle's geometry frame, centered in
</I>&gt;<i> (0,0,0) with radius 10. This means that, if I hover my mouse over the
</I>&gt;<i> Circle, which is located in world coordinates in (100, 100, 0), the
</I>&gt;<i> PolytopeIntersector returns coordinates centered in (0,0,0) with maximum
</I>&gt;<i> radius 10.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> How can I obtain true world coordinates with Autotransforms?
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="281236.html">[osg-users]  PolytopeIntersector with AutoTransform
</A></li>
	<LI>Next message: <A HREF="005017.html">[osg-users] PolytopeIntersector with AutoTransform
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5016">[ date ]</a>
              <a href="thread.html#5016">[ thread ]</a>
              <a href="subject.html#5016">[ subject ]</a>
              <a href="author.html#5016">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
