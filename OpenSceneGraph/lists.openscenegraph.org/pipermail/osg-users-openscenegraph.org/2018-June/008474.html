<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] VBO Bug with 3.6.1 and Normal Arrays
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20VBO%20Bug%20with%203.6.1%20and%20Normal%20Arrays&In-Reply-To=%3CFF01D17217297C42BEF1AAC01640C2C827EEF40E%40tewdmx.enews.nrl.navy.mil%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="008472.html">
   <LINK REL="Next"  HREF="008435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] VBO Bug with 3.6.1 and Normal Arrays</H1>
<!--htdig_noindex-->
    <B>Daniel Emminizer, Code 5773</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20VBO%20Bug%20with%203.6.1%20and%20Normal%20Arrays&In-Reply-To=%3CFF01D17217297C42BEF1AAC01640C2C827EEF40E%40tewdmx.enews.nrl.navy.mil%3E"
       TITLE="[osg-users] VBO Bug with 3.6.1 and Normal Arrays">dan.emminizer at nrl.navy.mil
       </A><BR>
    <I>Thu Jun 14 03:22:26 PDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="008472.html">[osg-users] VBO Bug with 3.6.1 and Normal Arrays
</A></li>
        <LI>Next message (by thread): <A HREF="008435.html">[osg-users] VBO Bug with 3.6.1 and Normal Arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8474">[ date ]</a>
              <a href="thread.html#8474">[ thread ]</a>
              <a href="subject.html#8474">[ subject ]</a>
              <a href="author.html#8474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi Robert,

I agree that your solution here seems to cover the common failure case (assigning by-vertex too late).  I think given the system constraints and time constraints, that is the best solution.

Your solution does work in all my testing.

Regarding a 3.6.2 release, that sounds great.  At this point we've upgraded almost all of our applications and this was the last major issue we had.  We've still got one minor text output annoyance, and I'll start a new thread on that once I track it down if it's a change in OSG causing it.  I'll do that in the next couple of days here.

Thanks,

 - Dan



&gt;<i> -----Original Message-----
</I>&gt;<i> From: osg-users [mailto:<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users-bounces at lists.openscenegraph.org</A>] On
</I>&gt;<i> Behalf Of Robert Osfield
</I>&gt;<i> Sent: Thursday, June 14, 2018 4:10 AM
</I>&gt;<i> To: OpenSceneGraph Users
</I>&gt;<i> Subject: Re: [osg-users] VBO Bug with 3.6.1 and Normal Arrays
</I>&gt;<i> 
</I>&gt;<i> H Dan et. al,
</I>&gt;<i> 
</I>&gt;<i> On Thu, 14 Jun 2018 at 08:25, Robert Osfield &lt;<A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">robert.osfield at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Perhaps another approach would be to just warn the user that the
</I>&gt;<i> &gt; Binding hasn't been set prior to the Geometry::set*Array() call, or do
</I>&gt;<i> &gt; a belt and braces of treat an BIND_UNDEFINED binding as a
</I>&gt;<i> &gt; BIND_PER_VERTEX to force a VertexBufferObject to be assign
</I>&gt;<i> &gt; automatically even though it might not be needed.  This might waste a
</I>&gt;<i> &gt; byte or two but would probably be safe.
</I>&gt;<i> 
</I>&gt;<i> This is the approach I have taken, it fixes the test program when
</I>&gt;<i> VAO's are used and the array::setBinding(..) is called after the
</I>&gt;<i> Geometry::set*Array() call.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://github.com/openscenegraph/OpenSceneGraph/commit/4665a2f033">https://github.com/openscenegraph/OpenSceneGraph/commit/4665a2f033</A>
</I>&gt;<i> 68be95f4773463f733dbdd88f63c5f
</I>&gt;<i> 
</I>&gt;<i> I think it's the safest and least intrusive way to catch late calls to
</I>&gt;<i> setBinding(..).
</I>&gt;<i> 
</I>&gt;<i> Could you all test the OpenSceneGraph-3.6 head and if this works fine
</I>&gt;<i> we can start thinking about going for 3.6.2.
</I>&gt;<i> 
</I>&gt;<i> Robert.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> osg-users mailing list
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">osg-users at lists.openscenegraph.org</A>
</I>&gt;<i> <A HREF="../../../listinfo.cgi/osg-users-openscenegraph.html">http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org</A>
</I></PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="008472.html">[osg-users] VBO Bug with 3.6.1 and Normal Arrays
</A></li>
	<LI>Next message (by thread): <A HREF="008435.html">[osg-users] VBO Bug with 3.6.1 and Normal Arrays
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8474">[ date ]</a>
              <a href="thread.html#8474">[ thread ]</a>
              <a href="subject.html#8474">[ subject ]</a>
              <a href="author.html#8474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
