<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Prevention of near plane culling while moving camera
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Prevention%20of%20near%20plane%20culling%20while%20moving%20camera&In-Reply-To=%3C1520668649.m2f.73068%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="007811.html">
   <LINK REL="Next"  HREF="007816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Prevention of near plane culling while moving camera</H1>
<!--htdig_noindex-->
    <B>Hartwig Wiesmann</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Prevention%20of%20near%20plane%20culling%20while%20moving%20camera&In-Reply-To=%3C1520668649.m2f.73068%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Prevention of near plane culling while moving camera">hartwig.wiesmann at skywind.eu
       </A><BR>
    <I>Fri Mar  9 23:57:29 PST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="007811.html">[osg-users] Undocking WIN32 causes problems
</A></li>
        <LI>Next message (by thread): <A HREF="007816.html">[osg-users] Prevention of near plane culling while moving camera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hi,

In my dynamic scene (objects can be added or removed) I use a perspective projection and automatic near and far plane calculation. To prevent during camera movement culling of objects between the camera and the near plane I calculate before each camera movement if there are objects in the pyramid built by the camera's location and the near plane. This is done by using a polytope intersector. If there are objects in-between I limit the camera movement.

If the movement of the camera is moderate everything works fine but if there are big steps in the camera movement I still see near plane culling (for one frame or so). Because due to the camera movement the near plane will also change and therefore my calculation is slightly wrong for the next frame, I suppose. But this change of the near plane will only be calculated in the next cull traversal and my correction will be again corrected in the next movement and therefore the flicker, I guess.

I have already tried to use a slightly larger FOV or further near plane for the pyramid but this does not really help (the flicker can still be seen). Especially when the camera is looking more parallel to the scene.

I fear that I have to give up automatic near and far calculation or what are you doing in such a case?

If I have to give up automatic near-far calculation I basically have to do before finalising the camera movement a new near-far calculation and if there are still collisions limit or correct the camera movement or adjust the near plane. But this basically means that I have to run my own cull traversal. Or are there any other solutions?

PS: As the scene is dynamic I cannot pre-calculate the near and far planes.

Thank you for your suggestions in advance!

Cheers,
Hartwig

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=73068#73068">http://forum.openscenegraph.org/viewtopic.php?p=73068#73068</A>





</PRE>














<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="007811.html">[osg-users] Undocking WIN32 causes problems
</A></li>
	<LI>Next message (by thread): <A HREF="007816.html">[osg-users] Prevention of near plane culling while moving camera
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
