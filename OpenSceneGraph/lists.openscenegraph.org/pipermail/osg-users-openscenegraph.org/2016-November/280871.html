<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [osg-users] Trouble Drawing Text in Arabic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Trouble%20Drawing%20Text%20in%20Arabic&In-Reply-To=%3C1478032531.m2f.69194%40forum.openscenegraph.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <LINK REL="Previous"  HREF="280870.html">
   <LINK REL="Next"  HREF="004651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[osg-users] Trouble Drawing Text in Arabic</H1>
<!--htdig_noindex-->
    <B>Erik Hensens</B> 
    <A HREF="mailto:osg-users%40lists.openscenegraph.org?Subject=Re%3A%20%5Bosg-users%5D%20Trouble%20Drawing%20Text%20in%20Arabic&In-Reply-To=%3C1478032531.m2f.69194%40forum.openscenegraph.org%3E"
       TITLE="[osg-users] Trouble Drawing Text in Arabic">ehensens at hunter.com
       </A><BR>
    <I>Tue Nov  1 13:35:31 PDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="280870.html">[osg-users] R3D/PRO-1000 knowledge (Chris Hanson)
</A></li>
        <LI>Next message: <A HREF="004651.html">[osg-users] Trouble Drawing Text in Arabic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280871">[ date ]</a>
              <a href="thread.html#280871">[ thread ]</a>
              <a href="subject.html#280871">[ subject ]</a>
              <a href="author.html#280871">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--/htdig_noindex-->
<!--beginarticle-->
<PRE>Hello!

I am having some trouble drawing text correctly in Arabic. I can get the Arabic letters themselves to show up correctly, but the letters do not connect together as they should.

I am not an Arabic speaker, but my understanding is that when letters in Arabic are adjacent to each other within a word, the letters take different shapes and connect to each other, similar to cursive English.

As a sanity check, I used the exact same TTF font and showed the same Arabic string on a 2D drawing area using Gtk. This 2D drawing area window shows the text correctly rendered with the letters connected properly.

Here is the code I am using to display the 3D Arabic text:



Code:
// Create the text drawable
osg::ref_ptr &lt; osgText::Text &gt; pTextDrawable = new osgText::Text;

// Set the font to use
pTextDrawable-&gt;setFont(&quot;/usr/share/fonts/truetype/scheherazade/ScheherazadeRegOT.ttf&quot;);

// Set the text to show
pTextDrawable-&gt;setText(std::string(szArabicText), osgText::String::ENCODING_UTF8);

// Set up the appearance of the text
pTextDrawable-&gt;setCharacterSize(30.0f);
pTextDrawable-&gt;setAxisAlignment(osgText::TextBase::XY_PLANE);
pTextDrawable-&gt;setPosition(osg::Vec3(640.0f, 360.0f, 0.0f));
pTextDrawable-&gt;setColor(osg::Vec4(1.0f, 1.0f, 1.0f, 1.0f));
pTextDrawable-&gt;setMaximumWidth(1000.0f);
pTextDrawable-&gt;setLayout(osgText::Text::RIGHT_TO_LEFT);
pTextDrawable-&gt;setAlignment(osgText::TextBase::CENTER_TOP);

// Create the text geode
osg::ref_ptr&lt;osg::Geode&gt; pTextGeode = new osg::Geode;

// Add the text drawable to the text geode
pTextGeode-&gt;addDrawable(pTextDrawable);

// Add the text geode to the heads-up camera
pHeadsUpCamera-&gt;addChild(pTextGeode);




I am attaching both the 2D drawing area text screen capture (white text on gray background) with the text correctly rendered, as well as a screen capture of the 3D text with the individual letters drawn in the correct order but not properly connected together (white text on red background). Again, these are both using the same font (Scheherazade) and the same text string.

How can I get OSG to render these Arabic letters properly?

Thank you very much!

Cheers,
Erik

------------------
Read this topic online here:
<A HREF="http://forum.openscenegraph.org/viewtopic.php?p=69194#69194">http://forum.openscenegraph.org/viewtopic.php?p=69194#69194</A>



-------------- next part --------------
A non-text attachment was scrubbed...
Name: Arabic3DText.png
Type: image/png
Size: 12169 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20161101/f9b90ad4/attachment-0004.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20161101/f9b90ad4/attachment-0004.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Arabic2DText.png
Type: image/png
Size: 7564 bytes
Desc: not available
URL: &lt;<A HREF="../attachments/20161101/f9b90ad4/attachment-0005.png">http://lists.openscenegraph.org/pipermail/osg-users-openscenegraph.org/attachments/20161101/f9b90ad4/attachment-0005.png</A>&gt;
</PRE>

<!--endarticle-->
<!--htdig_noindex-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="280870.html">[osg-users] R3D/PRO-1000 knowledge (Chris Hanson)
</A></li>
	<LI>Next message: <A HREF="004651.html">[osg-users] Trouble Drawing Text in Arabic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280871">[ date ]</a>
              <a href="thread.html#280871">[ thread ]</a>
              <a href="subject.html#280871">[ subject ]</a>
              <a href="author.html#280871">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../listinfo.cgi/osg-users-openscenegraph.html">More information about the osg-users
mailing list</a><br>
<!--/htdig_noindex-->
</body></html>
